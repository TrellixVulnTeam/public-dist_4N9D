"use strict";(self.webpackChunkdtax=self.webpackChunkdtax||[]).push([[198],{8198:(Uo,le,g)=>{g.r(le),g.d(le,{RegieModule:()=>bo});var d=g(8583),A=g(264),e=g(7716),v=g(7538);let Ze=(()=>{class o{constructor(t,n,i){this.auth=t,this.router=n,this.route=i}ngOnInit(){var t,n;this.auth.isAuth()&&(this.regie=null===(t=this.auth.getSession().user)||void 0===t?void 0:t.regie,this.router.navigate(["/regie",null===(n=this.regie)||void 0===n?void 0:n.id]))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.u),e.Y36(A.F0),e.Y36(A.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-regie-overview"]],decls:0,vars:0,template:function(t,n){},styles:[""]}),o})();var O=g(4570),c=g(2238),l=g(3679),B=(()=>{return(o=B||(B={}))[o.UNUSED=0]="UNUSED",o[o.USED=1]="USED",o[o.BLOCKED=2]="BLOCKED",B;var o})(),q=(()=>{return(o=q||(q={})).DOLLARS="DOLLARS",o.FIXE="FIXE",o.POURCENTAGE="POURCENTAGE",o.INTERVAL="INTERVAL",q;var o})(),f=g(9949),C=g(5704),b=g(2522),U=g(6627),p=g(8295),E=g(9983),_e=g(2179),N=g(7441),x=g(2458);function fe(o,r){if(1&o&&(e.TgZ(0,"div",16),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",17),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}function he(o,r){if(1&o&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t,"")}}function Ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",20),e.TgZ(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"mat-form-field",22),e._UZ(5,"input",23),e.TgZ(6,"mat-icon",24),e._uU(7,"edit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"td"),e.TgZ(9,"mat-form-field",22),e._UZ(10,"input",25),e.qZA(),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"mat-form-field",22),e._UZ(13,"input",26),e.TgZ(14,"mat-checkbox",27),e.NdJ("change",function(i){return e.CHM(t),e.oxw(2).feesChange("FT",i)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"mat-form-field",22),e._UZ(17,"input",28),e.TgZ(18,"mat-checkbox",29),e.NdJ("change",function(i){return e.CHM(t),e.oxw(2).feesChange("FA",i)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"td"),e.TgZ(20,"mat-form-field",22),e._UZ(21,"input",30),e.TgZ(22,"mat-checkbox",31),e.NdJ("change",function(i){return e.CHM(t),e.oxw(2).feesChange("AF",i)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"td"),e.TgZ(24,"mat-form-field",22),e.TgZ(25,"mat-select",32),e.YNc(26,he,2,2,"mat-option",33),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"td",21),e.TgZ(28,"div",34),e.TgZ(29,"button",35),e._UZ(30,"i",36),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.index,n=e.oxw(2);e.Q6J("formGroupName",t),e.xp6(2),e.Oqu(t+1),e.xp6(24),e.Q6J("ngForOf",n.devises)}}function Te(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"tbody",18),e.YNc(2,Ae,31,3,"tr",19),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.feedFields.controls)}}let ve=(()=>{class o{constructor(t,n,i,a,s){this.data=t,this.fb=n,this.auth=i,this.taxConf=a,this.dialog=s,this.hasError=!1,this.listPrices=[],this.devises=[q.DOLLARS,q.FIXE,q.INTERVAL,q.POURCENTAGE],this.fees=[]}ngOnInit(){this.form=this.fb.group({taxes:this.fb.array([])}),this.addPrice()}feesChange(t,n){if(console.log(n),n.checked)switch(t.toUpperCase()){case"FA":this.fees.push(C.Wz.ADMIN_FEES);break;case"FT":this.fees.push(C.Wz.TECH_FEES);break;case"AF":this.fees.push(C.Wz.OTHER_FEES)}else switch(t.toUpperCase()){case"FA":this.fees=this.fees.filter(i=>i!=C.Wz.ADMIN_FEES);break;case"FT":this.fees=this.fees.filter(i=>i!=C.Wz.TECH_FEES);break;case"AF":this.fees=this.fees.filter(i=>i!=C.Wz.OTHER_FEES)}this.fees=[...new Set(this.fees)]}addPrice(){this.feedFields=this.form.get("taxes"),this.feedFields.push(this.fb.group({libelle:new l.NI("",[]),ta:new l.NI("0",[l.kI.required]),fa:new l.NI("0",[]),ft:new l.NI("0",[]),af:new l.NI("",[]),fac:new l.NI("",[]),ftc:new l.NI("",[]),afc:new l.NI("",[]),devise:new l.NI("",[l.kI.required])}))}submit(){var t;if(!(null===(t=this.auth.getSession().user)||void 0===t?void 0:t.regie))return this.error=new f.D("Erreur de privilige","Vous ne peuvez pas effectuer cette op\xe9ration"),void(this.hasError=!0);if(this.form.valid){let n=this.form.get("taxes");this.listPrices=[],n.controls.forEach(i=>{var a,s;let u=new C.OI;u.libelle=i.value.libelle,u.montant=i.value.ta,u.taxe=this.data.data.id,u.fraisAdmin=i.value.fa,u.devise=i.value.devise,u.fraisTechnique=i.value.ft,u.autreFrais=i.value.af,u.regie=null===(s=null===(a=this.auth.getSession().user)||void 0===a?void 0:a.regie)||void 0===s?void 0:s.id,u.statut=B.USED;let m=[];1==i.value.fac&&m.push(C.Wz.ADMIN_FEES),1==i.value.ftc&&m.push(C.Wz.TECH_FEES),1==i.value.afc&&m.push(C.Wz.OTHER_FEES),u.feeds=m,this.listPrices.push(u)}),this.taxConf.addTaxePrices(this.listPrices).subscribe(i=>{this.dialog.close({success:!0,data:i})})}else this.error=new f.D("Erreur de saisie","Veuillez corriger les champs")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.WI),e.Y36(l.qu),e.Y36(v.u),e.Y36(O.K),e.Y36(c.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-price-dialog"]],decls:62,vars:9,consts:[[3,"formGroup","ngSubmit"],["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],[1,"mb-2"],[1,"row","p-2"],[1,"col-md-2"],[1,"col-md-10"],[1,"table"],[2,"width","5%"],[2,"width","55%"],[2,"width","70px"],[4,"ngIf"],[1,"btn","btn-outline-primary","btn-rounded",3,"click"],["type","submit",1,"btn","btn-indigo","btn-with-icon"],[1,"typcn","typcn-folder-add"],[1,"alert","alert-danger"],[1,"p-2"],["formArrayName","taxes"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[2,"vertical-align","middle"],["appearance","standard"],["type","text","matInput","","placeholder","Libelle sous cat\xe9gorie taxe","autocomplete","off","formControlName","libelle"],["matSuffix",""],["type","number","matInput","","placeholder","Le taux de la taxe","autocomplete","off","formControlName","ta"],["type","number","matInput","","placeholder","Le frais techn de la taxe","autocomplete","off","formControlName","ft"],["matSuffix","","formControlName","ftc",3,"change"],["type","number","matInput","","placeholder","Le frais admin","autocomplete","off","formControlName","fa"],["matSuffix","","formControlName","fac",3,"change"],["type","number","matInput","","placeholder","Autres frais taux de la taxe","autocomplete","off","formControlName","af"],["matSuffix","","formControlName","afc",3,"change"],["type","number","matInput","","formControlName","devise","placeholder","Ex : Dollars"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-group"],["type","button",1,"btn-danger"],[1,"typcn","typcn-delete"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(1,"h1",1),e.TgZ(2,"mat-toolbar-row"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"mat-icon",2),e._uU(6,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content"),e.YNc(8,fe,6,2,"div",3),e.TgZ(9,"div"),e.TgZ(10,"div",4),e.TgZ(11,"div",5),e.TgZ(12,"div",6),e._uU(13,"Secteur :"),e.qZA(),e.TgZ(14,"div",7),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",5),e.TgZ(17,"div",6),e._uU(18,"Acte"),e.qZA(),e.TgZ(19,"div",7),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",5),e.TgZ(22,"div",6),e._uU(23,"Taxe"),e.qZA(),e.TgZ(24,"div",7),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"div",5),e.TgZ(27,"div",6),e._uU(28,"Nature"),e.qZA(),e.TgZ(29,"div",7),e._uU(30),e.qZA(),e.qZA(),e.TgZ(31,"div",5),e.TgZ(32,"div",6),e._uU(33,"P\xe9riodicite"),e.qZA(),e.TgZ(34,"div",7),e._uU(35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"table",8),e.TgZ(37,"thead"),e.TgZ(38,"th",9),e._uU(39,"#"),e.qZA(),e.TgZ(40,"th",10),e._uU(41,"Libelle"),e.qZA(),e.TgZ(42,"th",11),e._uU(43,"TA"),e.qZA(),e.TgZ(44,"th",11),e._uU(45,"FT"),e.qZA(),e.TgZ(46,"th",11),e._uU(47,"FA"),e.qZA(),e.TgZ(48,"th",11),e._uU(49,"AF"),e.qZA(),e.TgZ(50,"th",11),e._uU(51,"Devise"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"Options"),e.qZA(),e.qZA(),e.YNc(54,Te,3,1,"ng-container",12),e.qZA(),e.TgZ(55,"div"),e.TgZ(56,"button",13),e.NdJ("click",function(){return n.addPrice()}),e._uU(57,"Un autre taux"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"mat-dialog-actions"),e.TgZ(59,"button",14),e._UZ(60,"i",15),e._uU(61," Enregistrer "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(7),e.Oqu(n.data.data.secteur),e.xp6(5),e.Oqu(n.data.data.acte),e.xp6(5),e.Oqu(n.data.data.nom),e.xp6(5),e.Oqu(n.data.data.nature),e.xp6(5),e.Oqu(n.data.data.periodicite),e.xp6(19),e.Q6J("ngIf",n.feedFields))},directives:[l._Y,l.JL,l.sg,c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,c.H8,l.CE,d.sg,l.x0,p.KE,E.Nt,l.Fj,l.JJ,l.u,p.R9,l.wV,_e.oG,N.gD,x.ey],styles:[""]}),o})();var qe=g(879);const Ce=["prices"];let be=(()=>{class o{constructor(t,n,i){this.factory=t,this.render=n,this.ele=i,this.taxe=new qe.M,this.evt=new e.vpe}ngOnInit(){}onTaxeClicked(t){this.evt.emit({taxe:t,ref:this.container,ele:this.ele})}onAddPriceClick(t){this.evt.emit({taxe:t,action:"ADDPRICE"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e._Vd),e.Y36(e.Qsj),e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-taxe-item"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ce,5,e.s_b),2&t){let i;e.iGM(i=e.CRH())&&(n.container=i.first)}},inputs:{taxe:"taxe",index:"index"},outputs:{evt:"evt"},decls:19,vars:2,consts:[[1,"t-row","t-rows-sous-color"],[1,"t-cell","t-cell-index"],[1,"btn-add-price",3,"click"],[1,"fa","fa-arrow-right"],[1,"t-cell","t-cell-acte"],[1,"t-cell","t-cell-fait"],[1,"t-cell","t-cell-nature"],[1,"t-cell","t-cell-taux"],[1,"t-cell","t-cell-period"],[1,"t-cell","t-cell-code"],[1,"t-cell"],[1,"fa","fa-plus"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e.NdJ("click",function(){return n.onTaxeClicked(n.taxe)}),e._UZ(3,"i",3),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5),e._uU(7,"\xa0"),e.qZA(),e.TgZ(8,"div",6),e._uU(9,"\xa0"),e.qZA(),e.TgZ(10,"div",7),e._uU(11,"\xa0"),e.qZA(),e.TgZ(12,"div",8),e._uU(13,"\xa0"),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA(),e.TgZ(16,"div",10),e.TgZ(17,"span",2),e.NdJ("click",function(){return n.onAddPriceClick(n.taxe)}),e._UZ(18,"i",11),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Oqu(null==n.taxe?null:n.taxe.nom),e.xp6(10),e.Oqu(null==n.taxe?null:n.taxe.code))},styles:[""]}),o})(),Ue=(()=>{class o{constructor(){this.price=new C.sO}ngAfterViewChecked(){console.log("view ckeced",this.price)}ngAfterViewInit(){console.log(this.price)}ngOnInit(){console.log(this.price)}onClick(t){console.log(t)}getDevise(){var t;switch(null===(t=this.price)||void 0===t?void 0:t.devise){case q.DOLLARS:return"$";case q.POURCENTAGE:return"%";case q.FIXE:return"FX";case q.INTERVAL:return"INT";default:return}}onEditPriceClick(t){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-taxe-price-item"]],inputs:{price:"price"},decls:19,vars:4,consts:[[1,"t-row","t-rows-price-color",3,"click"],[1,"t-cell","t-cell-index"],[1,"t-cell","t-cell-acte"],[1,"t-cell","t-cell-fait"],[1,"t-cell","t-cell-nature"],[1,"t-cell","t-cell-taux"],[1,"t-cell","t-cell-period"],[1,"t-cell","t-cell-code"],[1,"t-cell"],[1,"btn-add-price",3,"click"],[1,"fa","fa-plus"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return n.onClick(n.price)}),e.TgZ(1,"div",1),e._uU(2," \xa0 "),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6,"\xa0"),e.qZA(),e.TgZ(7,"div",4),e._uU(8,"\xa0"),e.qZA(),e.TgZ(9,"div",5),e._uU(10),e._UZ(11,"br"),e._uU(12),e.qZA(),e.TgZ(13,"div",6),e._uU(14,"\xa0"),e.qZA(),e._UZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"span",9),e.NdJ("click",function(){return n.onEditPriceClick(n.price)}),e._UZ(18,"i",10),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(null==n.price?null:n.price.libelle),e.xp6(6),e.AsE(" ",null==n.price?null:n.price.montant," ",n.getDevise(),""),e.xp6(2),e.Oqu(null==n.price?null:n.price.fraisAdmin))},styles:[""]}),o})(),xe=(()=>{class o{constructor(t){this.taxConf=t,this.event=new e.vpe,this.taxes=[],this.hasLoaded=!1}ngOnInit(){}onActeClick(){var t,n;this.hasLoaded?null===(n=this.event)||void 0===n||n.emit({taxes:this.taxes,isLoaded:!0}):this.taxConf.fetchTaxesOfActe(null===(t=this.acte)||void 0===t?void 0:t.id).subscribe(i=>{var a;this.taxes=i,null===(a=this.event)||void 0===a||a.emit({taxes:this.taxes,isLoaded:!1}),this.hasLoaded=!0})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-acte-item"]],inputs:{acte:"acte",index:"index"},outputs:{event:"event"},decls:18,vars:10,consts:[[1,"t-row","t-rows-color",3,"click"],[1,"t-cell","t-cell-index"],[1,"t-cell","t-cell-acte"],[1,"t-cell","t-cell-fait"],[1,"t-cell","t-cell-nature"],[1,"t-cell","t-cell-taux"],[1,"t-cell","t-cell-period"],[1,"t-cell"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return n.onActeClick()}),e.TgZ(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.ALo(9,"slice"),e.qZA(),e.TgZ(10,"div",5),e._uU(11,"\xa0"),e.qZA(),e.TgZ(12,"div",6),e._uU(13),e.qZA(),e.TgZ(14,"div",7),e._uU(15),e.qZA(),e.TgZ(16,"div",7),e._uU(17,"\xa0"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(n.index),e.xp6(2),e.Oqu(null==n.acte?null:n.acte.nom),e.xp6(2),e.Oqu(null==n.acte?null:n.acte.fait),e.xp6(2),e.Oqu(e.Dn7(9,6,(null==n.acte?null:n.acte.nature)+"",0,1)),e.xp6(5),e.Oqu(null==n.acte?null:n.acte.periodicite),e.xp6(2),e.Oqu(null==n.acte?null:n.acte.code))},pipes:[d.OU],styles:[""]}),o})();const Ie=["taxes"];function Ee(o,r){}function Ne(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-acte-item",14),e.NdJ("event",function(i){const s=e.CHM(t).index;return e.oxw().listenActeClicked(i,s)}),e.qZA(),e.YNc(2,Ee,0,0,"ng-template",null,15,e.W1O),e.BQk()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(1),e.Q6J("acte",t)("index",n+1)}}let we=(()=>{class o{constructor(t,n,i,a,s,u){this.taxeConf=t,this.render=n,this.factory=i,this.ele=a,this.injector=s,this.dialogManager=u,this.renderedTaxes=[],this.hasLoad=!1}onSecteur(){var t;this.taxeConf.fetchActeOfSecteur(null===(t=this.secteur)||void 0===t?void 0:t.id).subscribe(n=>{this.actes=n})}listenActeClicked(t,n){t.isLoaded||null!=t.taxes&&t.taxes.length>0&&(this.container.get(n),t.taxes.forEach(a=>{let s=this.factory.resolveComponentFactory(be),u=this.container.get(n).createComponent(s);u.instance.taxe=a,u.instance.evt.subscribe(m=>{if(m.action)switch(m.action){case"ADDPRICE":this.dialogConfig=new c.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"TAXE",title:"Ajouter des taux",message:"",action:"NEW",data:m.taxe},this.dialogManager.open(ve,this.dialogConfig).afterClosed().subscribe(Z=>{})}else this.taxeConf.getPricesOfTaxe(m.taxe.id).subscribe(Z=>{Z.forEach(h=>{if(this.renderedTaxes.includes(h.id))return;let T=this.factory.resolveComponentFactory(Ue).create(this.injector);Object.assign(T.instance,{price:h}),T.instance.price=h,T.changeDetectorRef.detectChanges(),T.hostView.detectChanges(),this.render.insertBefore(this.render.parentNode(u.location.nativeElement),T.location.nativeElement,this.render.nextSibling(u.location.nativeElement)),this.renderedTaxes.push(h.id)})})})}))}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.K),e.Y36(e.Qsj),e.Y36(e._Vd),e.Y36(e.SBq),e.Y36(e.zs3),e.Y36(c.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-secteur-item"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ie,5,e.s_b),2&t){let i;e.iGM(i=e.CRH())&&(n.container=i)}},inputs:{secteur:"secteur",actes:"actes"},decls:24,vars:2,consts:[[1,"wrap-item-secteur"],[1,"item-secteur-title",3,"click"],[1,"fa","fa-arrow-right"],[1,"ttable","table-striped","mg-b-0"],[1,"t-row","t-rows-lib-color"],[1,"t-cell","t-cell-index"],[1,"t-cell","t-cell-acte"],[1,"t-cell","t-cell-fait"],[1,"t-cell","t-cell-nature"],[1,"t-cell","t-cell-taux",2,"text-align","center"],[1,"t-cell","t-cell-period"],[1,"t-cell","t-cell-code"],[1,"t-cell"],[4,"ngFor","ngForOf"],[2,"width","100%",3,"acte","index","event"],["taxes",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.NdJ("click",function(){return n.onSecteur()}),e._UZ(2,"i",2),e._uU(3),e.qZA(),e.TgZ(4,"div"),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._uU(8,"#"),e.qZA(),e.TgZ(9,"div",6),e._uU(10,"Nature Acte"),e.qZA(),e.TgZ(11,"div",7),e._uU(12,"Fait G\xe9n\xe9rateur"),e.qZA(),e.TgZ(13,"div",8),e._uU(14,"Nature"),e.qZA(),e.TgZ(15,"div",9),e._uU(16,"Taux"),e.qZA(),e.TgZ(17,"div",10),e._uU(18,"P\xe9riodicit\xe9"),e.qZA(),e.TgZ(19,"div",11),e._uU(20,"Code"),e.qZA(),e.TgZ(21,"div",12),e._uU(22,"\xa0"),e.qZA(),e.qZA(),e.YNc(23,Ne,4,2,"ng-container",13),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",null==n.secteur?null:n.secteur.libelle,""),e.xp6(20),e.Q6J("ngForOf",n.actes))},directives:[d.sg,xe],styles:[""]}),o})();function ye(o,r){1&o&&e._UZ(0,"app-secteur-item",1),2&o&&e.Q6J("secteur",r.$implicit)}let Fe=(()=>{class o{constructor(t){this.taxServ=t,this.secteurs=[]}ngOnInit(){this.secteursSub=this.taxServ.getSecteurs().subscribe(t=>{this.secteurs=t})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-taxes"]],decls:2,vars:1,consts:[[3,"secteur",4,"ngFor","ngForOf"],[3,"secteur"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.YNc(1,ye,1,1,"app-secteur-item",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.secteurs))},directives:[d.sg,we],styles:[""]}),o})();var w=g(2340),ee=g(5972),se=g(2581),J=g(877),te=g(2596),P=g(1533),j=g(5396);function Oe(o,r){if(1&o&&(e.TgZ(0,"div",29),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",30),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}function Je(o,r){1&o&&e._UZ(0,"mat-error")}function Pe(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," D\xe9nomination est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA(),e.qZA())}function ke(o,r){1&o&&e._UZ(0,"mat-error")}function Se(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Code est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA(),e.qZA())}function Qe(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ye(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"span",16),e._uU(2," Chefferie "),e.qZA(),e.TgZ(3,"mat-slide-toggle",17),e.NdJ("change",function(i){return e.CHM(t),e.oxw().onChangeSecteur(i)}),e.qZA(),e.TgZ(4,"span",16),e._uU(5,"Secteur"),e.qZA(),e.qZA()}2&o&&(e.xp6(3),e.Q6J("checked",!0))}function De(o,r){1&o&&e._UZ(0,"mat-error")}function Me(o,r){1&o&&e._UZ(0,"mat-error")}function Re(o,r){1&o&&e._UZ(0,"mat-error")}function Le(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle,"")}}function Be(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle,"")}}function je(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Ve(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"mat-form-field",6),e.TgZ(2,"mat-label"),e._uU(3,"Ville"),e.qZA(),e.TgZ(4,"mat-select",32),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onVilleChnge(i)}),e.YNc(5,je,2,2,"mat-option",13),e.qZA(),e.TgZ(6,"mat-icon",8),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.towns)}}function He(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function ze(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"mat-form-field",6),e.TgZ(2,"mat-label"),e._uU(3,"Territoire"),e.qZA(),e.TgZ(4,"mat-select",33),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onTerritoireChange(i)}),e.YNc(5,He,2,2,"mat-option",13),e.qZA(),e.TgZ(6,"mat-icon",8),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.territoires)}}function Ge(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Xe(o,r){if(1&o&&(e.TgZ(0,"div",10),e.TgZ(1,"mat-form-field",6),e.TgZ(2,"mat-label"),e._uU(3,"Commune"),e.qZA(),e.TgZ(4,"mat-select",34),e.YNc(5,Ge,2,2,"mat-option",13),e.qZA(),e.TgZ(6,"mat-icon",8),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.communes)}}function $e(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function We(o,r){if(1&o&&(e.TgZ(0,"div",19),e.TgZ(1,"mat-form-field",6),e.TgZ(2,"mat-label"),e._uU(3,"Secteur"),e.qZA(),e.TgZ(4,"mat-select",35),e.YNc(5,$e,2,2,"mat-option",13),e.qZA(),e.TgZ(6,"mat-icon",8),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.secteurs)}}function Ke(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function et(o,r){if(1&o&&(e.TgZ(0,"div",19),e.TgZ(1,"mat-form-field",6),e.TgZ(2,"mat-label"),e._uU(3,"Chefferie"),e.qZA(),e.TgZ(4,"mat-select",36),e.YNc(5,Ke,2,2,"mat-option",13),e.qZA(),e.TgZ(6,"mat-icon",8),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.chefferies)}}let ue=(()=>{class o{constructor(t,n,i,a,s){this.data=t,this.regionalService=n,this.assietteConf=i,this.dialog=a,this.auth=s,this.hasError=!1,this.townOrTerritory=!0,this.secteurOrChefferie=!0,this.regies=[],this.provinces=[],this.towns=[],this.communes=[],this.secteurs=[],this.ressorts=[],this.territoires=[],this.chefferies=[],this.natures=["PERCEPTION","PEAGE","CONTROL","GUICHET"]}ngOnInit(){var t,n,i,a,s,u,m,Z,h,F,T,Q,Y,D,M,R,L,ie,re,ae;let _=this.data.data;if("EDIT"==this.data.action){this.centerForm=new se.y,this.centerForm.adresse=_.adresse,this.centerForm.code=_.code,this.centerForm.nom=_.nom,this.centerForm.ressort=null===(t=_.ressort)||void 0===t?void 0:t.id,this.centerForm.nature=_.nature,this.centerForm.regie=null===(n=_.regie)||void 0===n?void 0:n.id,this.centerForm.adress=new ee.w;try{this.centerForm.adress.province=_.adresse.province}catch(K){}this.form=new l.cw({denomination:new l.NI(_.nom,[l.kI.required]),code:new l.NI(_.code,[]),nature:new l.NI(_.nature,[l.kI.required]),ressort:new l.NI(null===(i=_.ressort)||void 0===i?void 0:i.id,[l.kI.required]),province:new l.NI(null===(s=null===(a=_.regie)||void 0===a?void 0:a.province)||void 0===s?void 0:s.id,[l.kI.required]),town:new l.NI(null===(Z=null===(m=null===(u=_.adresse)||void 0===u?void 0:u.commune)||void 0===m?void 0:m.ville)||void 0===Z?void 0:Z.id),territoire:new l.NI(null===(T=null===(F=null===(h=_.adresse)||void 0===h?void 0:h.secteur)||void 0===F?void 0:F.territire)||void 0===T?void 0:T.id),num:new l.NI(null===(Q=_.adresse)||void 0===Q?void 0:Q.num),avenue:new l.NI(null===(Y=_.adresse)||void 0===Y?void 0:Y.avenue),quartier:new l.NI(null===(D=_.adresse)||void 0===D?void 0:D.quartier),commune:new l.NI(null===(R=null===(M=_.adresse)||void 0===M?void 0:M.commune)||void 0===R?void 0:R.id),secteur:new l.NI(null===(ie=null===(L=_.adresse)||void 0===L?void 0:L.secteur)||void 0===ie?void 0:ie.id),chefferie:new l.NI(null===(ae=null===(re=_.adresse)||void 0===re?void 0:re.chefferie)||void 0===ae?void 0:ae.id)})}else this.form=new l.cw({denomination:new l.NI("",[l.kI.required]),code:new l.NI("",[]),ressort:new l.NI("",[l.kI.required]),nature:new l.NI("",[l.kI.required]),province:new l.NI("",[l.kI.required]),town:new l.NI,territoire:new l.NI,num:new l.NI,avenue:new l.NI,quartier:new l.NI,commune:new l.NI,secteur:new l.NI,chefferie:new l.NI});this.regionalService.getProvinces().subscribe(K=>{this.provinces=K;try{this.centerForm.adress.province=_.adresse.province}catch(No){}}),this.assietteConf.fetchRegies().subscribe(K=>{this.regies=K})}onSubmit(){var t,n;if(this.form.valid){this.centerForm=new se.y,this.centerForm.nom=this.form.value.denomination,this.centerForm.code=this.form.value.code,this.centerForm.ressort=this.form.value.ressort,this.centerForm.nature=this.form.value.nature,this.centerForm.regie=null===(n=null===(t=this.auth.getSession().user)||void 0===t?void 0:t.regie)||void 0===n?void 0:n.id;let i=new ee.w;if(!this.form.value.commune&&!this.form.value.secteur&&!this.form.value.chefferie)return this.hasError=!0,void(this.error=new f.D("Erreur de saisie","Vous devriez s\xe9lectionner soit une commune, soit un secteur soit une chefferie"));this.townOrTerritory?(i.typeEmplacement=J.a.COMUNE,i.avenue=this.form.value.avenue,i.num=this.form.value.num,i.quartier=this.form.value.quartier,i.province=this.form.value.province,i.idcom=this.form.value.commune):this.secteurOrChefferie?(i.typeEmplacement=J.a.SECTEUR,i.avenue=this.form.value.avenue,i.num=this.form.value.num,i.quartier=this.form.value.quartier,i.province=this.form.value.province,i.idcom=this.form.value.secteur):(i.typeEmplacement=J.a.CHEFFERIE,i.avenue=this.form.value.avenue,i.num=this.form.value.num,i.quartier=this.form.value.quartier,i.province=this.form.value.province,i.idcom=this.form.value.chefferie),this.centerForm.adress=i,"EDIT"==this.data.action||this.assietteConf.addCenter(this.centerForm).subscribe(a=>{this.dialog.close({success:!0})})}}onChangeTown(t){this.townOrTerritory=t.checked}onChangeSecteur(t){this.secteurOrChefferie=t.checked}onProvinceChange(t){this.townOrTerritory?this.regionalService.getProvinceTowns(t.value).subscribe(n=>{this.towns=n}):this.regionalService.getProvinceTerriroires(t.value).subscribe(n=>{this.territoires=n}),this.regionalService.getProvinceRessort(t.value).subscribe(n=>{this.ressorts=n})}onRessortChanged(t){}onVilleChnge(t){this.regionalService.getCommunesByVille(t.value).subscribe(n=>{this.communes=n})}onTerritoireChange(t){this.secteurOrChefferie?this.regionalService.getSecteurByTerritoire(t.value).subscribe(n=>{this.secteurs=n}):this.regionalService.getChefferieByTerritoire(t.value).subscribe(n=>{this.chefferies=n})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.WI),e.Y36(te.N),e.Y36(P.f),e.Y36(c.so),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-center-form-dialog"]],inputs:{townOrTerritory:"townOrTerritory",secteurOrChefferie:"secteurOrChefferie"},decls:99,vars:20,consts:[[3,"formGroup","ngSubmit"],["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],[1,"row"],[1,"col-md-6"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","denomination","placeholder","Ex : Centre Luna "],["matSuffix",""],[4,"ngIf"],[1,"col-md-3"],["type","text","matInput","","formControlName","code","placeholder","Ex : exemple@exemple.com"],["type","text","matInput","","formControlName","nature","placeholder",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"col","m-2"],[1,"m-3"],["color","primary",3,"checked","change"],["class","col m-2",4,"ngIf"],[1,"col-md-4"],["type","text","matInput","","formControlName","num","placeholder","Ex : Centre Luna "],["type","text","matInput","","formControlName","avenue","placeholder","Ex : Centre Luna "],["type","text","matInput","","formControlName","quartier","placeholder",""],["type","text","matInput","","formControlName","province","placeholder","Ex : Nord kivu",3,"selectionChange"],["type","text","matInput","","formControlName","ressort","placeholder","Ex : Nord kivu",3,"selectionChange"],["class","col-md-3",4,"ngIf"],["class","col-md-4",4,"ngIf"],["type","submit",1,"btn","btn-indigo","btn-with-icon"],[1,"typcn","typcn-folder-add"],[1,"alert","alert-danger"],[1,"p-2"],[3,"value"],["type","text","matInput","","formControlName","town","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","territoire","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","commune","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","secteur","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","chefferie","placeholder","Ex : FINANCE"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"h1",1),e.TgZ(2,"mat-toolbar-row"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"mat-icon",2),e._uU(6,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content"),e.YNc(8,Oe,6,2,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"mat-form-field",6),e.TgZ(12,"mat-label"),e._uU(13,"D\xe9nomination"),e.qZA(),e._UZ(14,"input",7),e.TgZ(15,"mat-icon",8),e._uU(16,"mode_edit"),e.qZA(),e.YNc(17,Je,1,0,"mat-error",9),e.YNc(18,Pe,4,0,"mat-error",9),e.qZA(),e.qZA(),e.TgZ(19,"div",10),e.TgZ(20,"mat-form-field",6),e.TgZ(21,"mat-label"),e._uU(22,"Code"),e.qZA(),e._UZ(23,"input",11),e.TgZ(24,"mat-icon",8),e._uU(25,"email"),e.qZA(),e.YNc(26,ke,1,0,"mat-error",9),e.YNc(27,Se,4,0,"mat-error",9),e.qZA(),e.qZA(),e.TgZ(28,"div",10),e.TgZ(29,"mat-form-field",6),e.TgZ(30,"mat-label"),e._uU(31,"Nature"),e.qZA(),e.TgZ(32,"mat-select",12),e.YNc(33,Qe,2,2,"mat-option",13),e.qZA(),e.TgZ(34,"mat-icon",8),e._uU(35,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",14),e.TgZ(37,"fieldset"),e.TgZ(38,"legend"),e._uU(39,"Adresse"),e.qZA(),e.TgZ(40,"div",4),e.TgZ(41,"div",14),e.TgZ(42,"div",4),e.TgZ(43,"div",15),e.TgZ(44,"span",16),e._uU(45," Territoire "),e.qZA(),e.TgZ(46,"mat-slide-toggle",17),e.NdJ("change",function(a){return n.onChangeTown(a)}),e.qZA(),e.TgZ(47,"span",16),e._uU(48,"Ville"),e.qZA(),e.qZA(),e.YNc(49,Ye,6,1,"div",18),e.qZA(),e.qZA(),e.TgZ(50,"div",19),e.TgZ(51,"mat-form-field",6),e.TgZ(52,"mat-label"),e._uU(53,"Num\xe9ro"),e.qZA(),e._UZ(54,"input",20),e.TgZ(55,"mat-icon",8),e._uU(56,"mode_edit"),e.qZA(),e.YNc(57,De,1,0,"mat-error",9),e.qZA(),e.qZA(),e.TgZ(58,"div",19),e.TgZ(59,"mat-form-field",6),e.TgZ(60,"mat-label"),e._uU(61,"Avenue"),e.qZA(),e._UZ(62,"input",21),e.TgZ(63,"mat-icon",8),e._uU(64,"mode_edit"),e.qZA(),e.YNc(65,Me,1,0,"mat-error",9),e.qZA(),e.qZA(),e.TgZ(66,"div",19),e.TgZ(67,"mat-form-field",6),e.TgZ(68,"mat-label"),e._uU(69,"Quartier"),e.qZA(),e._UZ(70,"input",22),e.TgZ(71,"mat-icon",8),e._uU(72,"mode_edit"),e.qZA(),e.YNc(73,Re,1,0,"mat-error",9),e.qZA(),e.qZA(),e.TgZ(74,"div",10),e.TgZ(75,"mat-form-field",6),e.TgZ(76,"mat-label"),e._uU(77,"Provinces"),e.qZA(),e.TgZ(78,"mat-select",23),e.NdJ("selectionChange",function(a){return n.onProvinceChange(a)}),e.YNc(79,Le,2,2,"mat-option",13),e.qZA(),e.TgZ(80,"mat-icon",8),e._uU(81,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"div",10),e.TgZ(83,"mat-form-field",6),e.TgZ(84,"mat-label"),e._uU(85,"Ressort"),e.qZA(),e.TgZ(86,"mat-select",24),e.NdJ("selectionChange",function(a){return n.onRessortChanged(a)}),e.YNc(87,Be,2,2,"mat-option",13),e.qZA(),e.TgZ(88,"mat-icon",8),e._uU(89,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.YNc(90,Ve,8,1,"div",25),e.YNc(91,ze,8,1,"div",25),e.YNc(92,Xe,8,1,"div",25),e.YNc(93,We,8,1,"div",26),e.YNc(94,et,8,1,"div",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(95,"mat-dialog-actions"),e.TgZ(96,"button",27),e._UZ(97,"i",28),e._uU(98," Enregistrer "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(9),e.Q6J("ngIf",n.form.hasError("denomination")&&!n.form.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.form.hasError("required")),e.xp6(8),e.Q6J("ngIf",n.form.hasError("email")&&!n.form.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.form.hasError("required")),e.xp6(6),e.Q6J("ngForOf",n.natures),e.xp6(13),e.Q6J("checked",!0),e.xp6(3),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(8),e.Q6J("ngIf",n.form.hasError("num")&&!n.form.hasError("required")),e.xp6(8),e.Q6J("ngIf",n.form.hasError("avenue")&&!n.form.hasError("required")),e.xp6(8),e.Q6J("ngIf",n.form.hasError("quartier")&&!n.form.hasError("required")),e.xp6(6),e.Q6J("ngForOf",n.provinces),e.xp6(8),e.Q6J("ngForOf",n.ressorts),e.xp6(3),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&1==n.secteurOrChefferie),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&0==n.secteurOrChefferie))},directives:[l._Y,l.JL,l.sg,c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,p.KE,p.hX,E.Nt,l.Fj,l.JJ,l.u,p.R9,N.gD,d.sg,j.Rr,c.H8,p.TO,x.ey],styles:[""]}),o})();var V=g(6461);class tt{}var nt=g(778),ot=g(4324),k=g(8939),it=g(5466),rt=g(1397),at=g(5430),S=g(3071),H=g(9630),z=g(1602),ne=g(6640),I=g(8341),y=g(1554);const lt=["inputRole"];function st(o,r){if(1&o&&(e.TgZ(0,"div",23),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",24),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}function ut(o,r){if(1&o&&(e.TgZ(0,"ng-option",25),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function ct(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-chip",26),e.NdJ("removed",function(){const a=e.CHM(t).$implicit;return e.oxw().removeRole(a)}),e._uU(1),e.TgZ(2,"mat-icon",27),e._uU(3,"cancel"),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw();e.Q6J("selectable",n.selectable)("removable",n.removable),e.xp6(1),e.hij(" ",t.nom," ")}}function gt(o,r){if(1&o&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom," ")}}let mt=(()=>{class o{constructor(t,n,i,a,s,u,m,Z,h,F,T,Q,Y,D,M,R,L){this.dialog=t,this.taxSer=n,this.pdfMan=i,this.configServ=a,this.appStor=s,this.cartSert=u,this.taxServ=m,this.auth=Z,this.contSrv=h,this.configService=F,this.data=T,this.regionalService=Q,this.userServ=Y,this.assietteConf=D,this.agentMan=M,this.dialogServ=R,this.dialogMan=L,this.bureau=new tt,this.separatorKeysCodes=[V.K5,V.OC],this.hasError=!1,this.secteurs=[],this.subs=[],this.selectedActes=[],this.actes=[],this.selectable=!0,this.removable=!0}ngOnInit(){this.form=new l.cw({libelle:new l.NI("",[l.kI.required]),alias:new l.NI("",[l.kI.required]),secteur:new l.NI(""),role:new l.NI("")}),this.subs.push(this.taxServ.getSecteurs().subscribe(t=>{this.secteurs=t,this.hasError=!1},t=>{this.hasError=!0,this.error=new f.D("Erreur de connexion","Erreur de connexion, impossible de charger les secteurs")}))}onRoleSelected(t){console.log(t),this.actes.forEach((n,i)=>{if(n.id==t.option.value){if(this.selectedActes.includes(n))return;return this.selectedActes.push(n),this.inputActe.nativeElement.value="",void this.form.controls.role.setValue(null)}})}removeRole(t){this.selectedActes.forEach((n,i)=>{n.id!=t.id||this.selectedActes.splice(i,1)})}addRole(t){console.log(t)}onSecteurChanged(t){t>0&&this.subs.push(this.taxServ.fetchActeOfSecteur(t).subscribe(n=>{this.actes=n},n=>{this.hasError=!0,this.error=new f.D("Erreur de connexion","Erreur de connexion, impossible de charger les secteurs")}))}onSubmit(){var t,n;this.form.valid&&this.selectedActes.length>0&&(null===(n=null===(t=this.auth.getSession().user)||void 0===t?void 0:t.centre)||void 0===n?void 0:n.id)&&(this.bureau.actes=this.selectedActes,this.assietteConf.addOffice(this.bureau,this.data.data.id).subscribe(a=>{this.dialog.close({status:"success"})}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.so),e.Y36(nt.m),e.Y36(ot.$),e.Y36(k.E),e.Y36(it.I),e.Y36(rt.b),e.Y36(O.K),e.Y36(v.u),e.Y36(at.l),e.Y36(k.E),e.Y36(c.WI),e.Y36(te.N),e.Y36(S.K),e.Y36(P.f),e.Y36(H.t),e.Y36(z.x),e.Y36(c.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-offices"]],viewQuery:function(t,n){if(1&t&&e.Gf(lt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.inputActe=i.first)}},decls:44,vars:11,consts:[[3,"formGroup","ngSubmit"],["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],[1,"row"],[1,"col-md-8"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","libelle","placeholder","Ex : Bureau d'impot",3,"ngModel","ngModelChange"],[1,"col-md-4"],["type","text","matInput","","formControlName","alias","placeholder","Ex : ",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"col-md-12","col-xs-12"],["placeholder","Secteur",3,"change"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Roles"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Ajouter un autre role","formControlName","role",3,"matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["inputRole",""],[3,"optionSelected"],["auto","matAutocomplete"],["type","submit",1,"btn","btn-indigo","btn-with-icon"],[1,"fa","fa-save"],[1,"alert","alert-danger"],[1,"p-2"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"h1",1),e.TgZ(2,"mat-toolbar-row"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"mat-icon",2),e._uU(6,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content"),e.YNc(8,st,6,2,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"mat-form-field",6),e.TgZ(12,"mat-label"),e._uU(13,"Libell\xe9"),e.qZA(),e.TgZ(14,"input",7),e.NdJ("ngModelChange",function(a){return n.bureau.nom=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"mat-form-field",6),e.TgZ(17,"mat-label"),e._uU(18,"Alias"),e.qZA(),e.TgZ(19,"input",9),e.NdJ("ngModelChange",function(a){return n.bureau.alias=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",10),e.TgZ(21,"fieldset"),e.TgZ(22,"legend"),e._uU(23,"Taxes autoris\xe9es"),e.qZA(),e.TgZ(24,"div",4),e.TgZ(25,"div",11),e.TgZ(26,"ng-select",12),e.NdJ("change",function(a){return n.onSecteurChanged(a)}),e.YNc(27,ut,2,2,"ng-option",13),e.qZA(),e.qZA(),e.TgZ(28,"div",10),e.TgZ(29,"mat-form-field",6),e.TgZ(30,"mat-label"),e._uU(31,"Acte(s)"),e.qZA(),e.TgZ(32,"mat-chip-list",14,15),e.YNc(34,ct,4,3,"mat-chip",16),e.TgZ(35,"input",17,18),e.NdJ("matChipInputTokenEnd",function(a){return n.addRole(a)}),e.qZA(),e.qZA(),e.TgZ(37,"mat-autocomplete",19,20),e.NdJ("optionSelected",function(a){return n.onRoleSelected(a)}),e.YNc(39,gt,2,2,"mat-option",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"mat-dialog-actions"),e.TgZ(41,"button",21),e._UZ(42,"i",22),e._uU(43," Enregistrer "),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(33),a=e.MAs(38);e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(6),e.Q6J("ngModel",n.bureau.nom),e.xp6(5),e.Q6J("ngModel",n.bureau.alias),e.xp6(8),e.Q6J("ngForOf",n.secteurs),e.xp6(7),e.Q6J("ngForOf",n.selectedActes),e.xp6(1),e.Q6J("matAutocomplete",a)("matChipInputFor",i)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes),e.xp6(4),e.Q6J("ngForOf",n.actes)}},directives:[l._Y,l.JL,l.sg,c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,p.KE,p.hX,E.Nt,l.Fj,l.JJ,l.u,ne.w9,d.sg,I.qn,y.ZL,I.oH,y.XC,c.H8,ne.xv,I.HS,I.qH,x.ey],styles:[""]}),o})();function dt(o,r){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e._UZ(9,"td"),e.qZA()),2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.alias),e.xp6(2),e.Oqu(null==t.agents?null:t.agents.length)}}function pt(o,r){if(1&o&&(e.TgZ(0,"div",11),e.TgZ(1,"table",12),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Libelle"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Alias "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"N\xb0 actes"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"\xa0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,dt,10,4,"tr",13),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(15),e.Q6J("ngForOf",t.bureaux)}}let Zt=(()=>{class o{constructor(t,n,i,a){this.dialog=t,this.assietteConf=n,this.auth=i,this.data=a,this.sub=[],this.bureaux=[]}ngOnDestroy(){this.sub=[]}ngOnInit(){this.sub.push(this.assietteConf.getOfficesOfCenter(this.data.data.id).subscribe(t=>{this.bureaux=t}))}openAddOffice(t){switch(t){case"EDIT":break;default:this.dialog.open(mt,{disableClose:!0,width:"80%",autoFocus:!0,panelClass:"custom-modalbox",position:{top:"100px"},data:{form:"BUREAU",title:"Ajouter un nouveau bureau",message:"",data:this.center,action:"NEW"}}).afterClosed().subscribe(n=>{var i;n.status&&this.sub.push(this.assietteConf.getOfficesOfCenter(null===(i=this.center)||void 0===i?void 0:i.id).subscribe(a=>{this.bureaux=a}))})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.uw),e.Y36(P.f),e.Y36(v.u),e.Y36(c.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-bureau"]],decls:13,vars:1,consts:[[1,"az-content-label","config-title",2,"padding-top","0px"],[1,"position-absolute","btn-group-config",2,"top","-10px"],["role","group","aria-label","",1,"btn-group"],["type","button",1,"btn","btn-indigo","btn-sm","btn-icon",3,"click"],[1,"typcn","typcn-plus-outline"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon"],[1,"typcn","typcn-printer"],[1,"typcn","typcn-document"],[1,"row"],[1,"col-md-12"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","mg-b-0"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.openAddOffice("NEW")}),e._UZ(5,"i",4),e.qZA(),e.TgZ(6,"button",5),e._UZ(7,"i",6),e.qZA(),e.TgZ(8,"button",5),e._UZ(9,"i",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.YNc(12,pt,16,1,"div",10),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.Q6J("ngIf",n.bureaux))},directives:[d.O5,d.sg],styles:[""]}),o})();const _t=["container"];function ft(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.lnq(" C/ ",null==t.center||null==t.center.adresse||null==t.center.adresse.commune?null:t.center.adresse.commune.nom,", Ville de ",null==t.center||null==t.center.adresse||null==t.center.adresse.commune||null==t.center.adresse.commune.ville?null:t.center.adresse.commune.ville.nom,", Province de : ",null==t.center||null==t.center.adresse||null==t.center.adresse.commune||null==t.center.adresse.commune.ville||null==t.center.adresse.commune.ville.province?null:t.center.adresse.commune.ville.province.libelle," ")}}function ht(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.HOy(" C/ ",null==t.center||null==t.center.adresse||null==t.center.adresse.commune?null:t.center.adresse.commune.nom,", Secteur de ",null==t.center||null==t.center.adresse||null==t.center.adresse.secteur?null:t.center.adresse.secteur.nom,", Ter de ",null==t.center||null==t.center.adresse||null==t.center.adresse.secteur||null==t.center.adresse.secteur.territire?null:t.center.adresse.secteur.territire.nom," , Province de : ",null==t.center||null==t.center.adresse||null==t.center.adresse.commune||null==t.center.adresse.commune.ville||null==t.center.adresse.commune.ville.province?null:t.center.adresse.commune.ville.province.libelle," ")}}function At(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.HOy(" C/ ",null==t.center||null==t.center.adresse||null==t.center.adresse.commune?null:t.center.adresse.commune.nom,", Chef de ",null==t.center||null==t.center.adresse||null==t.center.adresse.chefferie?null:t.center.adresse.chefferie.nom,", Ter de ",null==t.center||null==t.center.adresse||null==t.center.adresse.chefferie?null:t.center.adresse.chefferie.territoire," , Province de : ",null==t.center||null==t.center.adresse||null==t.center.adresse.commune||null==t.center.adresse.commune.ville||null==t.center.adresse.commune.ville.province?null:t.center.adresse.commune.ville.province.libelle," ")}}let Tt=(()=>{class o{constructor(t,n,i){this.dialogService=t,this.data=n,this.componentFactoryResolver=i,this.currentPath="",this.currentType=""}ngOnInit(){this.center=this.data.data}render(t){switch(this.container.clear(),this.container.remove(),console.log(t),t){case"BUREAU":let n=this.componentFactoryResolver.resolveComponentFactory(Zt);this.container.createComponent(n).instance.center=this.center}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z.x),e.Y36(c.WI),e.Y36(e._Vd))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-center"]],viewQuery:function(t,n){if(1&t&&e.Gf(_t,5,e.s_b),2&t){let i;e.iGM(i=e.CRH())&&(n.container=i.first)}},decls:60,vars:13,consts:[["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],[1,"content"],[1,"row","pt-2","pb-2"],[1,"col-md-4"],[1,"col-md-8","font-weight-bold"],[4,"ngIf"],[1,"az-dashboard-nav"],[1,"nav"],["routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"click"],["routerLinkActive","active","data-toggle","tab",1,"nav-link"],[2,"max-height","500px","overflow-y","auto"],["container",""]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"h1",0),e.TgZ(2,"mat-toolbar-row"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"mat-icon",1),e._uU(6,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content"),e.TgZ(8,"div",2),e.TgZ(9,"div"),e.TgZ(10,"div",3),e.TgZ(11,"div",4),e._uU(12,"D\xe9nomination :"),e.qZA(),e.TgZ(13,"div",5),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"div",3),e.TgZ(16,"div",4),e._uU(17,"Code :"),e.qZA(),e.TgZ(18,"div",5),e._uU(19),e.qZA(),e.qZA(),e.TgZ(20,"div",3),e.TgZ(21,"div",4),e._uU(22,"Nature :"),e.qZA(),e.TgZ(23,"div",5),e._uU(24),e.qZA(),e.qZA(),e.TgZ(25,"div",3),e.TgZ(26,"div",4),e._uU(27,"Province :"),e.qZA(),e.TgZ(28,"div",5),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"div",3),e.TgZ(31,"div",4),e._uU(32,"Nbr. agent :"),e.qZA(),e.TgZ(33,"div",5),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"div",3),e.TgZ(36,"div",4),e._uU(37,"Nbre. bureau :"),e.qZA(),e.TgZ(38,"div",5),e._uU(39),e.qZA(),e.qZA(),e.TgZ(40,"div",3),e.TgZ(41,"div",4),e._uU(42,"Adresse :"),e.qZA(),e.TgZ(43,"div",5),e.TgZ(44,"address"),e._uU(45),e.YNc(46,ft,2,3,"ng-container",6),e.YNc(47,ht,2,4,"ng-container",6),e.YNc(48,At,2,4,"ng-container",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",7),e.TgZ(50,"nav",8),e.TgZ(51,"a",9),e.NdJ("click",function(){return n.render("AGENT")}),e._uU(52,"Agents"),e.qZA(),e.TgZ(53,"a",9),e.NdJ("click",function(){return n.render("BUREAU")}),e._uU(54,"Bureaux"),e.qZA(),e.TgZ(55,"a",10),e._uU(56,"Bureaux"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",11),e.GkF(58,null,12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",n.data.title," "),e.xp6(10),e.Oqu(null==n.center?null:n.center.nom),e.xp6(5),e.Oqu(null==n.center?null:n.center.code),e.xp6(5),e.Oqu(null==n.center?null:n.center.nature),e.xp6(5),e.Oqu(null==n.center||null==n.center.adresse||null==n.center.adresse.province?null:n.center.adresse.province.libelle),e.xp6(5),e.Oqu("0"),e.xp6(5),e.Oqu("0"),e.xp6(6),e.lnq(" ",null==n.center||null==n.center.adresse?null:n.center.adresse.num,", Av. ",null==n.center||null==n.center.adresse?null:n.center.adresse.avenue," Q/ ",null==n.center||null==n.center.adresse?null:n.center.adresse.num," "),e.xp6(1),e.Q6J("ngIf",null==n.center||null==n.center.adresse?null:n.center.adresse.commune),e.xp6(1),e.Q6J("ngIf",null==n.center||null==n.center.adresse?null:n.center.adresse.secteur),e.xp6(1),e.Q6J("ngIf",null==n.center||null==n.center.adresse?null:n.center.adresse.chefferie))},directives:[c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,A.Od],styles:[""]}),o})();var oe=g(4457);function vt(o,r){if(1&o&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom," ")}}function qt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).view(a)}),e.TgZ(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",32),e.TgZ(18,"button",33),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).edit(a)}),e._UZ(19,"i",34),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=r.index,i=e.oxw(2);e.xp6(2),e.hij(" ",n+1+i.currentPage*i.pp,""),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.nature),e.xp6(2),e.Oqu(null==t.adresse||null==t.adresse.province?null:t.adresse.province.libelle),e.xp6(2),e.Oqu(t.createdBy),e.xp6(2),e.Oqu(e.xi3(15,7,t.createdAt,"yyyy-MM-dd"))}}function Ct(o,r){if(1&o&&(e.TgZ(0,"div",27),e.TgZ(1,"table",28),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Denomination "),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Code"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Nature"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Province"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Utilisateur"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Date"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"\xa0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,qt,20,10,"tr",29),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",null==t.centersPager?null:t.centersPager.content)}}function bt(o,r){1&o&&(e.TgZ(0,"div",35),e.TgZ(1,"strong"),e._uU(2,"Aucun centre n'est enregistr\xe9e"),e.qZA(),e.qZA())}let Ut=(()=>{class o{constructor(t,n,i){this.dialog=t,this.assietteConf=n,this.auth=i,this.p=0,this.pp=0,this.itemLength=0,this.currentPage=0,this.regies=[],this.imgPath="",this.pattern="",this.subs=[]}ngOnInit(){var t,n,i;(null===(t=this.auth.getSession().user)||void 0===t?void 0:t.regie)&&this.assietteConf.fetchCentersOfRegiePaging(null===(i=null===(n=this.auth.getSession().user)||void 0===n?void 0:n.regie)||void 0===i?void 0:i.id,0,w.N.defautlPageSize).subscribe(a=>{this.centersPager=a})}view(t){this.subs.push(this.assietteConf.getCenter(t.id).subscribe(n=>{this.dialog.open(Tt,{disableClose:!0,width:"80%",autoFocus:!0,panelClass:"custom-modalbox",position:{top:"100px"},data:{form:"CENTRE",title:"VOIR DETAIL",message:"",action:"VIEW",data:t}})}))}openCentreFormDialog(t,n){switch(t){case"EDIT":break;default:this.dialog.open(ue,{disableClose:!0,width:"",autoFocus:!0,panelClass:"custom-modalbox",position:{top:"100px"},data:{form:"CENTRE",title:"Ajout centre",message:"",action:"NEW"}}).afterClosed().subscribe(i=>{var a,s,u;i.success&&(null===(a=this.auth.getSession().user)||void 0===a?void 0:a.regie)&&this.assietteConf.fetchCentersOfRegiePaging(null===(u=null===(s=this.auth.getSession().user)||void 0===s?void 0:s.regie)||void 0===u?void 0:u.id,0,w.N.defautlPageSize).subscribe(m=>{this.centersPager=m})})}}edit(t){this.assietteConf.getCenter(t.id).subscribe(n=>{this.dialog.open(ue,{disableClose:!0,width:"",autoFocus:!0,panelClass:"custom-modalbox",position:{top:"100px"},data:{form:"CENTRE",title:"Edit centre : "+n.nom,message:"",action:"EDIT",data:n}}).afterClosed().subscribe(i=>{var a,s,u;i.success&&(null===(a=this.auth.getSession().user)||void 0===a?void 0:a.regie)&&this.assietteConf.fetchCentersOfRegiePaging(null===(u=null===(s=this.auth.getSession().user)||void 0===s?void 0:s.regie)||void 0===u?void 0:u.id,0,w.N.defautlPageSize).subscribe(m=>{this.centersPager=m})})})}onPageChanged(t){this.pattern.length>2?this.assietteConf.fetchCentersSearchPaging(this.pattern,this.currentPage,5).subscribe(n=>{this.centersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements,this.pp=n.numberOfElements}):this.assietteConf.fetchCentersPaging(t.pageIndex,5).subscribe(n=>{this.centersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements,this.pp=n.numberOfElements}),this.currentPage=t.pageIndex}onChanged(t){this.pattern=t.target.value,t.target.value.length>2&&this.assietteConf.fetchCentersSearchPaging(t.target.value,this.currentPage,5).subscribe(n=>{this.centersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements,this.pp=n.numberOfElements})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.uw),e.Y36(P.f),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-centres"]],decls:36,vars:8,consts:[[1,"az-content-label","config-title",2,"padding-top","0px"],[1,"row",2,"margin-top","-15px"],[1,"col-md-3"],["appearance","standard"],["type","text","matInput","","placeholder","Recherche...","autocomplete","off",3,"keyup"],["matSuffix",""],["appearance","standard",1,"example-full-width"],["type","text","placeholder","Filtrer par province","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"position-absolute","btn-group-config",2,"top","20px"],["role","group","aria-label","",1,"btn-group"],["type","button",1,"btn","btn-indigo","btn-sm","btn-icon",3,"click"],[1,"typcn","typcn-plus-outline"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon"],[1,"typcn","typcn-printer"],[1,"typcn","typcn-document"],[1,"mg-b-20","tx-gray-600"],[1,"mg-y-30"],[1,"row"],[1,"col-md-12"],["class","table-responsive",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"col-md-6"],["aria-label","Select page",3,"length","pageSize","hidePageSize","page"],[3,"value"],[1,"table-responsive"],[1,"table","table-striped","mg-b-0"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["scope","row"],[1,"btn-group"],["type","button",1,"btn-success",3,"click"],[1,"fa","fa-edit"],["role","alert",1,"alert","alert-info"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"input",4),e.NdJ("keyup",function(a){return n.onChanged(a)}),e.qZA(),e.TgZ(6,"mat-icon",5),e._uU(7,"search"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div"),e.TgZ(9,"mat-form-field",6),e.TgZ(10,"mat-label"),e._uU(11,"Province"),e.qZA(),e._UZ(12,"input",7),e.TgZ(13,"mat-autocomplete",8,9),e.YNc(15,vt,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"div",12),e.TgZ(18,"button",13),e.NdJ("click",function(){return n.openCentreFormDialog("NEW")}),e._UZ(19,"i",14),e.qZA(),e.TgZ(20,"button",15),e._UZ(21,"i",16),e.qZA(),e.TgZ(22,"button",15),e._UZ(23,"i",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"p",18),e._uU(25,"Veuillez ajouter, editer, voir la liste des actes. Ces actes seront utilis\xe9s pour la taxation"),e.qZA(),e._UZ(26,"hr",19),e.TgZ(27,"div",20),e.TgZ(28,"div",21),e.YNc(29,Ct,22,1,"div",22),e.YNc(30,bt,3,0,"div",23),e._UZ(31,"hr",19),e.qZA(),e.TgZ(32,"div",24),e._uU(33,"\xa0"),e.qZA(),e.TgZ(34,"div",24),e.TgZ(35,"mat-paginator",25),e.NdJ("page",function(a){return n.onPageChanged(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(14);e.xp6(12),e.Q6J("formControl",n.provinceFilter)("matAutocomplete",i),e.xp6(3),e.Q6J("ngForOf",n.regies),e.xp6(14),e.Q6J("ngIf",0==(null==n.centersPager?null:n.centersPager.empty)),e.xp6(1),e.Q6J("ngIf",1==(null==n.centersPager?null:n.centersPager.empty)),e.xp6(5),e.Q6J("length",n.itemLength)("pageSize",n.pp)("hidePageSize",!0)}},directives:[p.KE,E.Nt,U.Hw,p.R9,p.hX,l.Fj,y.ZL,l.JJ,l.oH,y.XC,d.sg,d.O5,oe.NW,x.ey],pipes:[d.uU],styles:[""]}),o})();var xt=g(2298),It=g(7546),G=g(5783),Et=g(8380),X=g(5647),$=g(7832);const Nt=["stepper"],wt=["canvas"],yt=["inputRole"];function Ft(o,r){if(1&o&&(e.TgZ(0,"div",54),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",55),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}function Ot(o,r){1&o&&e._uU(0,"Renseignement ")}function Jt(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"img",56,57),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.logoUrl,e.LSH)}}function Pt(o,r){1&o&&(e.ynx(0),e._UZ(1,"img",58),e.BQk())}function kt(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle,"")}}function St(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Qt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-chip",60),e.NdJ("removed",function(){const a=e.CHM(t).$implicit;return e.oxw().removeRole(a)}),e._uU(1),e.TgZ(2,"mat-icon",61),e._uU(3,"cancel"),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw();e.Q6J("selectable",n.selectable)("removable",n.removable),e.xp6(1),e.hij(" ",t.libelle," ")}}function Yt(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function Dt(o,r){1&o&&e._uU(0,"Adresse")}function Mt(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Rt(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Lt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",41),e.TgZ(1,"span",42),e._uU(2," Chefferie "),e.qZA(),e.TgZ(3,"mat-slide-toggle",43),e.NdJ("change",function(i){return e.CHM(t),e.oxw().onChangeSecteur(i)}),e.qZA(),e.TgZ(4,"span",42),e._uU(5,"Secteur"),e.qZA(),e.qZA()}2&o&&(e.xp6(3),e.Q6J("checked",!0))}function Bt(o,r){1&o&&e._UZ(0,"mat-error")}function jt(o,r){1&o&&e._UZ(0,"mat-error")}function Vt(o,r){1&o&&e._UZ(0,"mat-error")}function Ht(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function zt(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",45),e.TgZ(1,"mat-form-field",19),e.TgZ(2,"mat-label"),e._uU(3,"Ville"),e.qZA(),e.TgZ(4,"mat-select",62),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onVilleChnge(i)}),e.YNc(5,zt,2,2,"mat-option",26),e.qZA(),e.TgZ(6,"mat-icon",21),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.towns)}}function Xt(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function $t(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",45),e.TgZ(1,"mat-form-field",19),e.TgZ(2,"mat-label"),e._uU(3,"Territoire"),e.qZA(),e.TgZ(4,"mat-select",63),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onTerritoireChange(i)}),e.YNc(5,Xt,2,2,"mat-option",26),e.qZA(),e.TgZ(6,"mat-icon",21),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.territoires)}}function Wt(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Kt(o,r){if(1&o&&(e.TgZ(0,"div",45),e.TgZ(1,"mat-form-field",19),e.TgZ(2,"mat-label"),e._uU(3,"Commune"),e.qZA(),e.TgZ(4,"mat-select",64),e.YNc(5,Wt,2,2,"mat-option",26),e.qZA(),e.TgZ(6,"mat-icon",21),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.communes)}}function en(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function tn(o,r){if(1&o&&(e.TgZ(0,"div",45),e.TgZ(1,"mat-form-field",19),e.TgZ(2,"mat-label"),e._uU(3,"Secteur"),e.qZA(),e.TgZ(4,"mat-select",65),e.YNc(5,en,2,2,"mat-option",26),e.qZA(),e.TgZ(6,"mat-icon",21),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.secteurs)}}function nn(o,r){if(1&o&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function on(o,r){if(1&o&&(e.TgZ(0,"div",45),e.TgZ(1,"mat-form-field",19),e.TgZ(2,"mat-label"),e._uU(3,"Chefferie"),e.qZA(),e.TgZ(4,"mat-select",66),e.YNc(5,nn,2,2,"mat-option",26),e.qZA(),e.TgZ(6,"mat-icon",21),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.chefferies)}}function rn(o,r){1&o&&e._uU(0,"Finalisation")}function an(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",67),e.TgZ(2,"mat-icon",68),e._uU(3,"check_circle_outline"),e.qZA(),e.TgZ(4,"div",67),e.TgZ(5,"h1"),e._uU(6,"Success"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Operation reussie avec success"),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Le compte a \xe9t\xe9 cr\xe9\xe9 avec succes. Un mail/sms de confirmation est envoy\xe9 \xe0/au adresse/phone mail utilis\xe9. Veuillez utiliser le code recu pour achever la creation"),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"div",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().onView()}),e.TgZ(13,"a",70),e._uU(14,"Voir d\xe9tail"),e.qZA(),e.qZA(),e.TgZ(15,"div",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().init()}),e.TgZ(16,"a",71),e._uU(17,"Nouvel utilisateur"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function ln(o,r){if(1&o&&(e.TgZ(0,"div",7),e.TgZ(1,"div",67),e.TgZ(2,"mat-icon",72),e._uU(3,"block"),e.qZA(),e.TgZ(4,"div",67),e.TgZ(5,"h1"),e._uU(6,"Erreur"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Operation \xe9chou\xe9e "),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(10),e.hij(" ",null==t.error?null:t.error.description," ")}}function sn(o,r){1&o&&(e.TgZ(0,"div",7),e.TgZ(1,"div",67),e._UZ(2,"img",73),e.TgZ(3,"div",67),e.TgZ(4,"h1"),e._uU(5,"Patientez"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Operation en cours "),e.qZA(),e.qZA(),e.qZA(),e.qZA())}function un(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){return e.CHM(t),e.oxw().prev()}),e._UZ(1,"i",75),e._uU(2," Prev "),e.qZA()}}function cn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e._UZ(1,"i",76),e._uU(2),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.btnNextLabel," ")}}let gn=(()=>{class o{constructor(t,n,i,a,s,u){this.data=t,this.regionalService=n,this.userServ=i,this.assietteConf=a,this.agentMan=s,this.auth=u,this.currentPage=0,this.separatorKeysCodes=[V.K5,V.OC],this.hasError=!1,this.logoUrl="",this.couldSelectMultiRoles=!0,this.categories=[],this.dataf=new G.H,this.userOrAgent=!0,this.isEnded=0,this.isShown=!1,this.couldSave=!0,this.couldBack=!1,this.btnNextLabel="Suivant",this.townOrTerritory=!0,this.secteurOrChefferie=!0,this.regies=[],this.bureaux=[],this.centers=[],this.provinces=[],this.towns=[],this.communes=[],this.secteurs=[],this.territoires=[],this.chefferies=[],this.roles=[],this.access=[X.P.WEB_ONLY,X.P.MOBILE_ONLY,X.P.API,X.P.ALL],this.selectedRoles=[],this.selectable=!0,this.removable=!0}ngOnInit(){this.form=new l.cw({nom:new l.NI("",[l.kI.required]),prenom:new l.NI("",[l.kI.required]),email:new l.NI("",[l.kI.required,l.kI.email]),phone:new l.NI("",[l.kI.required]),category:new l.NI("",[l.kI.required]),role:new l.NI,access:new l.NI("",[l.kI.required])}),this.adressForm=new l.cw({centre:new l.NI("",[]),bureau:new l.NI("bureau"),province:new l.NI("",[l.kI.required]),town:new l.NI,territoire:new l.NI,num:new l.NI,avenue:new l.NI,quartier:new l.NI,commune:new l.NI,secteur:new l.NI,chefferie:new l.NI}),this.userServ.getRoles().subscribe(t=>{this.roles=t,this.userServ.getCategoryIn(["USER"]).subscribe(n=>{this.categories=n,this.regionalService.getProvinces().subscribe(i=>{var a,s;this.provinces=i,this.assietteConf.fetchCenters(null===(s=null===(a=this.auth.getSession().user)||void 0===a?void 0:a.regie)||void 0===s?void 0:s.id).subscribe(u=>{this.centers=u})})})})}valid(){}fileImageEvent(t){this.hasError=!1,t.target.files.length>0&&this.convertFile(t.target.files[0])}convertFile(t){const n=new xt.t(1),i=new FileReader;return i.readAsDataURL(t),i.onload=a=>{try{const s=new Image;s.src=a.target.result,s.onload=u=>{var m;null===(m=this.ctx)||void 0===m||m.drawImage(s,0,0,120,120);let T=Et.b$.Base64Compile(this.canvas.nativeElement.toDataURL());this.selectedImage=new It.$(T[0],T[1]),this.logoUrl=a.target.result}}catch(s){this.error=new f.D,this.error.error=s.message,this.error.description="Veuillez s\xe9lectionner l'image qui reste le format",this.hasError=!0}},n}onTypeUserChange(t){this.userOrAgent=t.checked}init(){}onView(){}next(){var t,n,i,a,s;if(-1===this.isEnded)return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Enregistrement en cours","Veuillez patienter, votre op\xe9ration est en cours"));this.hasError=!1;let u=null===(t=this.stepper)||void 0===t?void 0:t.selectedIndex;switch(this.btnNextLabel=1==u?"Enregistrer":"Suivant",u){case 0:this.form.valid?(this.dataf.profile=this.selectedImage,this.currentPage++,this.isShown=!0,this.dataf.roles=this.selectedRoles,this.couldBack=!0,this.btnNextLabel="Enregistrer",0==this.selectedRoles.length&&(this.hasError=!0,this.isShown=!1,this.error=new f.D("Erreur de saisie","Veuillez s\xe9lectionner au moins un role"))):(this.hasError=!0,this.isShown=!1,this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs"));break;case 1:{let m=new ee.w;this.userOrAgent?this.adressForm.valid?(this.isEnded=-1,m.avenue=this.adressForm.value.avenue,m.num=this.adressForm.value.num,m.quartier=this.adressForm.value.quartier,this.townOrTerritory?(m.typeEmplacement=J.a.COMUNE,m.province=this.adressForm.value.province,m.idcom=this.adressForm.value.commune):this.secteurOrChefferie?(m.typeEmplacement=J.a.SECTEUR,m.province=this.adressForm.value.province,m.idcom=this.adressForm.value.secteur):(m.typeEmplacement=J.a.CHEFFERIE,m.province=this.adressForm.value.province,m.idcom=this.adressForm.value.chefferie),this.dataf.adress=m,this.isEnded=-1,this.currentPage=2,this.couldSave=!1,this.dataf.profile=this.selectedImage,this.dataf.centre=null===(i=null===(n=this.auth.getSession().user)||void 0===n?void 0:n.centre)||void 0===i?void 0:i.id,this.dataf.regie=null===(s=null===(a=this.auth.getSession().user)||void 0===a?void 0:a.regie)||void 0===s?void 0:s.id,this.agentMan.addAgent(this.dataf).subscribe(Z=>{this.isEnded=1,this.couldBack=!0,this.dataf=new G.H},Z=>{this.isEnded=0,this.couldBack=!0,this.hasError=!0,this.error=new f.D("Erreur d'enregistrement","Veuillez corriger certains champs")}),this.couldSave=!1):(this.hasError=!0,this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs ")):(this.isEnded=-1,this.currentPage=2,this.couldSave=!1,this.userServ.addUser(this.dataf).subscribe(Z=>{this.isEnded=1,this.couldSave=!1,this.couldBack=!0,this.dataf=new G.H},Z=>{this.isEnded=0,this.couldBack=!0,this.hasError=!0,this.error=new f.D("Erreur d'enregistrement","Veuillez corriger certains champs")}))}}this.stepper.selectedIndex=this.currentPage}prev(){var t,n,i,a;if(2==(null===(t=this.stepper)||void 0===t?void 0:t.selectedIndex)&&-1==this.isEnded)return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Enregistrement en cours","Veuillez patienter votre op\xe9ration est en cours"));if(this.hasError=!1,2==(null===(n=this.stepper)||void 0===n?void 0:n.selectedIndex)&&1==this.isEnded)return this.hasError=!0,this.isShown=!1,this.error=new f.D("Enregistrement du nouvel acte","Veuillez enregistrer un nouvel acte si il y en a autres"),this.stepper.selectedIndex=0,this.currentPage=0,this.couldSave=!0,this.couldBack=!1,void(this.btnNextLabel="Suivant");this.hasError=!1,2==(null===(i=this.stepper)||void 0===i?void 0:i.selectedIndex)&&0==this.isEnded&&(this.couldBack=!0,this.couldSave=!0);let s=null===(a=this.stepper)||void 0===a?void 0:a.selectedIndex;this.btnNextLabel=1==s?"Enregistrer":"Suivant",this.currentPage=s,this.currentPage--,this.stepper.selectedIndex=this.currentPage}onChangeTown(t){this.townOrTerritory=t.checked}onChangeSecteur(t){this.secteurOrChefferie=t.checked}onProvinceChange(t){this.townOrTerritory?this.regionalService.getProvinceTowns(t.value).subscribe(n=>{this.towns=n}):this.regionalService.getProvinceTerriroires(t.value).subscribe(n=>{this.territoires=n})}onVilleChnge(t){this.regionalService.getCommunesByVille(t.value).subscribe(n=>{this.communes=n})}onTerritoireChange(t){this.secteurOrChefferie?this.regionalService.getSecteurByTerritoire(t.value).subscribe(n=>{this.secteurs=n}):this.regionalService.getChefferieByTerritoire(t.value).subscribe(n=>{this.chefferies=n})}onRoleSelected(t){this.selectedRoles.length>=0&&0==this.couldSelectMultiRoles||this.roles.forEach((n,i)=>{if(n.id==t.option.value){if(this.selectedRoles.includes(n))return;return this.selectedRoles.push(n),this.inputRole.nativeElement.value="",void this.form.controls.role.setValue(null)}})}removeRole(t){console.log(t),this.selectedRoles.forEach((n,i)=>{n.id!=t.id||this.selectedRoles.splice(i,1)})}addRole(t){console.log(t)}onCenterChanged(t){t.value&&this.assietteConf.getOfficesOfCenter(t.value).subscribe(n=>{this.bureaux=n})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.WI),e.Y36(te.N),e.Y36(S.K),e.Y36(P.f),e.Y36(H.t),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-agent-form"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Nt,5),e.Gf(wt,7),e.Gf(yt,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.stepper=i.first),e.iGM(i=e.CRH())&&(n.canvas=i.first),e.iGM(i=e.CRH())&&(n.inputRole=i.first)}},inputs:{dataf:"dataf",townOrTerritory:"townOrTerritory",secteurOrChefferie:"secteurOrChefferie"},decls:171,vars:40,consts:[["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],["stepper",""],["label","Step 1"],["matStepLabel",""],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"row"],[1,"col-md-6","justify-content-center","d-flex","text-center"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],[1,"warp-avatar","justify-content-center"],[4,"ngIf"],["width","120","height","120",2,"display","none"],["canvas",""],["type","file","accept","image/*",1,"",3,"change"],[1,"p-1","m-3"],[1,"alert","alert-info"],[1,"col-md-6"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","nom","placeholder","Ex : Ekoto",3,"ngModel","ngModelChange"],["matSuffix",""],["type","text","matInput","","formControlName","prenom","placeholder","Ex : Brandon",3,"ngModel","ngModelChange"],["type","email","matInput","","formControlName","email","type","email","placeholder","Ex exemple@exemple.com",3,"ngModel","ngModelChange"],["type","tel","matInput","","formControlName","phone","type","tel","placeholder","Ex 08XXXXXXXX",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","category","placeholder","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Alias","formControlName","access",3,"ngModel","matAutocomplete","ngModelChange"],["autoAccess","matAutocomplete"],["aria-label","Roles"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Ajouter un autre role","formControlName","role",3,"matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["inputRole",""],[3,"optionSelected"],["auto","matAutocomplete"],["label","Step 2"],[3,"formGroup"],[1,"row","m-2"],["type","text","matInput","","formControlName","centre","placeholder","",3,"ngModel","ngModelChange","selectionChange"],["type","text","matInput","","formControlName","bureau","placeholder","",3,"ngModel","ngModelChange"],[1,"col","m-2"],[1,"m-3"],["color","primary",3,"checked","change"],["class","col m-2",4,"ngIf"],[1,"col-md-4"],["type","text","matInput","","formControlName","num","placeholder","Ex : Centre Luna "],["type","text","matInput","","formControlName","avenue","placeholder","Ex : exemple "],["type","text","matInput","","formControlName","quartier","placeholder",""],["type","text","matInput","","formControlName","province","placeholder","Ex : Nord kivu",3,"selectionChange"],["class","col-md-4",4,"ngIf"],["label","Step 3"],["class","col-md-12 ",4,"ngIf"],["class","btn btn-indigo btn-with-icon ","type","submit",3,"click",4,"ngIf"],[1,"alert","alert-danger"],[1,"p-2"],[1,"avatar",3,"src"],["imgLogo",""],["src","/assets/img/avatar.jpg",1,"avatar"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove",""],["type","text","matInput","","formControlName","town","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","territoire","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","commune","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","secteur","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","chefferie","placeholder","Ex : FINANCE"],[1,"d-flex","align-items-center","justify-content-center","flex-column"],[1,"successIcon"],[1,"mg-t-10","mg-md-t-0",3,"click"],[1,"btn","btn-primary","btn-rounded","btn-block"],[1,"btn","btn-outline-primary","btn-rounded","btn-block"],[1,"successIcon",2,"color","crimson"],["src","assets/img/loading.gif",1,"successIcon",2,"color","rgb(248, 232, 9)"],["type","submit",1,"btn","btn-indigo","btn-with-icon",3,"click"],[1,"typcn","typcn-arrow-left"],[1,"typcn","typcn-arrow-right"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h1",0),e.TgZ(1,"mat-toolbar-row"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",1),e._uU(5,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"mat-dialog-content"),e.YNc(7,Ft,6,2,"div",2),e.TgZ(8,"div"),e.TgZ(9,"mat-stepper",null,3),e.TgZ(11,"mat-step",4),e.YNc(12,Ot,1,0,"ng-template",5),e.TgZ(13,"form",6),e.NdJ("ngSubmit",function(){return n.valid()}),e.TgZ(14,"div",7),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e.TgZ(17,"div",10),e.TgZ(18,"div",11),e.YNc(19,Jt,3,1,"ng-container",12),e.YNc(20,Pt,2,0,"ng-container",12),e._UZ(21,"canvas",13,14),e.TgZ(23,"input",15),e.NdJ("change",function(a){return n.fileImageEvent(a)}),e.qZA(),e.qZA(),e.TgZ(24,"p",16),e._uU(25,"Photo"),e.qZA(),e.TgZ(26,"p",17),e._uU(27," Veuillez cliquer sur l'icone photo pour charger l'image "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",18),e.TgZ(29,"div",8),e.TgZ(30,"div",18),e.TgZ(31,"mat-form-field",19),e.TgZ(32,"mat-label"),e._uU(33,"Nom"),e.qZA(),e.TgZ(34,"input",20),e.NdJ("ngModelChange",function(a){return n.dataf.nom=a}),e.qZA(),e.TgZ(35,"mat-icon",21),e._uU(36,"mode_edit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",18),e.TgZ(38,"mat-form-field",19),e.TgZ(39,"mat-label"),e._uU(40,"Pr\xe9nom"),e.qZA(),e.TgZ(41,"input",22),e.NdJ("ngModelChange",function(a){return n.dataf.prenom=a}),e.qZA(),e.TgZ(42,"mat-icon",21),e._uU(43,"mode_edit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",7),e.TgZ(45,"mat-form-field",19),e.TgZ(46,"mat-label"),e._uU(47,"Email"),e.qZA(),e.TgZ(48,"input",23),e.NdJ("ngModelChange",function(a){return n.dataf.email=a}),e.qZA(),e.TgZ(49,"mat-icon",21),e._uU(50,"email"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",7),e.TgZ(52,"mat-form-field",19),e.TgZ(53,"mat-label"),e._uU(54,"Phone"),e.qZA(),e.TgZ(55,"input",24),e.NdJ("ngModelChange",function(a){return n.dataf.phone=a}),e.qZA(),e.TgZ(56,"mat-icon",21),e._uU(57,"phone"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",18),e.TgZ(59,"mat-form-field",19),e.TgZ(60,"mat-label"),e._uU(61,"Cat\xe9gorie"),e.qZA(),e.TgZ(62,"mat-select",25),e.NdJ("ngModelChange",function(a){return n.dataf.category=a}),e.YNc(63,kt,2,2,"mat-option",26),e.qZA(),e.TgZ(64,"mat-icon",21),e._uU(65,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(66,"div",18),e.TgZ(67,"mat-form-field",19),e.TgZ(68,"mat-label"),e._uU(69,"Access Platform"),e.qZA(),e.TgZ(70,"input",27),e.NdJ("ngModelChange",function(a){return n.dataf.accessPlatform=a}),e.qZA(),e.TgZ(71,"mat-icon",21),e._uU(72,"filter_b_and_w"),e.qZA(),e.TgZ(73,"mat-autocomplete",null,28),e.YNc(75,St,2,2,"mat-option",26),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",7),e.TgZ(77,"mat-form-field",19),e.TgZ(78,"mat-label"),e._uU(79,"Role(s)"),e.qZA(),e.TgZ(80,"mat-chip-list",29,30),e.YNc(82,Qt,4,3,"mat-chip",31),e.TgZ(83,"input",32,33),e.NdJ("matChipInputTokenEnd",function(a){return n.addRole(a)}),e.qZA(),e.qZA(),e.TgZ(85,"mat-autocomplete",34,35),e.NdJ("optionSelected",function(a){return n.onRoleSelected(a)}),e.YNc(87,Yt,2,2,"mat-option",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(88,"mat-step",36),e.YNc(89,Dt,1,0,"ng-template",5),e.TgZ(90,"form",37),e.TgZ(91,"fieldset"),e.TgZ(92,"legend"),e._uU(93,"Centre & bureau"),e.qZA(),e.TgZ(94,"div",38),e.TgZ(95,"div",18),e.TgZ(96,"mat-form-field",19),e.TgZ(97,"mat-label"),e._uU(98,"Centre"),e.qZA(),e.TgZ(99,"mat-select",39),e.NdJ("ngModelChange",function(a){return n.dataf.centre=a})("selectionChange",function(a){return n.onCenterChanged(a)}),e.YNc(100,Mt,2,2,"mat-option",26),e.qZA(),e.TgZ(101,"mat-icon",21),e._uU(102,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(103,"div",18),e.TgZ(104,"mat-form-field",19),e.TgZ(105,"mat-label"),e._uU(106,"Bureau"),e.qZA(),e.TgZ(107,"mat-select",40),e.NdJ("ngModelChange",function(a){return n.dataf.bureau=a}),e.YNc(108,Rt,2,2,"mat-option",26),e.qZA(),e.TgZ(109,"mat-icon",21),e._uU(110,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(111,"fieldset"),e.TgZ(112,"legend"),e._uU(113,"Adresse"),e.qZA(),e.TgZ(114,"div",38),e.TgZ(115,"div",7),e.TgZ(116,"div",8),e.TgZ(117,"div",41),e.TgZ(118,"span",42),e._uU(119," Territoire "),e.qZA(),e.TgZ(120,"mat-slide-toggle",43),e.NdJ("change",function(a){return n.onChangeTown(a)}),e.qZA(),e.TgZ(121,"span",42),e._uU(122,"Ville"),e.qZA(),e.qZA(),e.YNc(123,Lt,6,1,"div",44),e.qZA(),e.qZA(),e.TgZ(124,"div",45),e.TgZ(125,"mat-form-field",19),e.TgZ(126,"mat-label"),e._uU(127,"Num\xe9ro"),e.qZA(),e._UZ(128,"input",46),e.TgZ(129,"mat-icon",21),e._uU(130,"mode_edit"),e.qZA(),e.YNc(131,Bt,1,0,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(132,"div",45),e.TgZ(133,"mat-form-field",19),e.TgZ(134,"mat-label"),e._uU(135,"Avenue"),e.qZA(),e._UZ(136,"input",47),e.TgZ(137,"mat-icon",21),e._uU(138,"mode_edit"),e.qZA(),e.YNc(139,jt,1,0,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(140,"div",45),e.TgZ(141,"mat-form-field",19),e.TgZ(142,"mat-label"),e._uU(143,"Quartier"),e.qZA(),e._UZ(144,"input",48),e.TgZ(145,"mat-icon",21),e._uU(146,"mode_edit"),e.qZA(),e.YNc(147,Vt,1,0,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(148,"div",45),e.TgZ(149,"mat-form-field",19),e.TgZ(150,"mat-label"),e._uU(151,"Provinces"),e.qZA(),e.TgZ(152,"mat-select",49),e.NdJ("selectionChange",function(a){return n.onProvinceChange(a)}),e.YNc(153,Ht,2,2,"mat-option",26),e.qZA(),e.TgZ(154,"mat-icon",21),e._uU(155,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.YNc(156,Gt,8,1,"div",50),e.YNc(157,$t,8,1,"div",50),e.YNc(158,Kt,8,1,"div",50),e.YNc(159,tn,8,1,"div",50),e.YNc(160,on,8,1,"div",50),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(161,"mat-step",51),e.YNc(162,rn,1,0,"ng-template",5),e.TgZ(163,"div",8),e.YNc(164,an,18,0,"div",52),e.YNc(165,ln,11,1,"div",52),e.YNc(166,sn,8,0,"div",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(167,"mat-dialog-actions"),e.YNc(168,un,3,0,"button",53),e._uU(169,"\xa0\xa0 "),e.YNc(170,cn,3,1,"button",53),e.qZA()),2&t){const i=e.MAs(74),a=e.MAs(81),s=e.MAs(86);e.xp6(3),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(6),e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("ngIf",null!=n.selectedImage&&null!=n.selectedImage.data),e.xp6(1),e.Q6J("ngIf",!(null!=n.selectedImage&&null!=n.selectedImage.data)),e.xp6(14),e.Q6J("ngModel",n.dataf.nom),e.xp6(7),e.Q6J("ngModel",n.dataf.prenom),e.xp6(7),e.Q6J("ngModel",n.dataf.email),e.xp6(7),e.Q6J("ngModel",n.dataf.phone),e.xp6(7),e.Q6J("ngModel",n.dataf.category),e.xp6(1),e.Q6J("ngForOf",n.categories),e.xp6(7),e.Q6J("ngModel",n.dataf.accessPlatform)("matAutocomplete",i),e.xp6(5),e.Q6J("ngForOf",n.access),e.xp6(7),e.Q6J("ngForOf",n.selectedRoles),e.xp6(1),e.Q6J("matAutocomplete",s)("matChipInputFor",a)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes),e.xp6(4),e.Q6J("ngForOf",n.roles),e.xp6(3),e.Q6J("formGroup",n.adressForm),e.xp6(9),e.Q6J("ngModel",n.dataf.centre),e.xp6(1),e.Q6J("ngForOf",n.centers),e.xp6(7),e.Q6J("ngModel",n.dataf.bureau),e.xp6(1),e.Q6J("ngForOf",n.bureaux),e.xp6(12),e.Q6J("checked",!0),e.xp6(3),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(8),e.Q6J("ngIf",n.form.hasError("num")&&!n.form.hasError("required")),e.xp6(8),e.Q6J("ngIf",n.form.hasError("avenue")&&!n.form.hasError("required")),e.xp6(8),e.Q6J("ngIf",n.form.hasError("quartier")&&!n.form.hasError("required")),e.xp6(6),e.Q6J("ngForOf",n.provinces),e.xp6(3),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&1==n.secteurOrChefferie),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&0==n.secteurOrChefferie),e.xp6(4),e.Q6J("ngIf",1===n.isEnded),e.xp6(1),e.Q6J("ngIf",0===n.isEnded),e.xp6(1),e.Q6J("ngIf",-1===n.isEnded),e.xp6(2),e.Q6J("ngIf",1==n.isShown&&1==n.couldBack),e.xp6(2),e.Q6J("ngIf",n.couldSave)}},directives:[c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,$.Vq,$.C0,$.VY,l._Y,l.JL,l.sg,p.KE,p.hX,E.Nt,l.Fj,l.JJ,l.u,p.R9,N.gD,d.sg,y.ZL,y.XC,I.qn,I.oH,j.Rr,c.H8,x.ey,I.HS,I.qH,p.TO],styles:[""]}),o})();function mn(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.lnq(" C/ ",null==t.user||null==t.user.adresse||null==t.user.adresse.commune?null:t.user.adresse.commune.nom,", Ville de ",null==t.user||null==t.user.adresse||null==t.user.adresse.commune||null==t.user.adresse.commune.ville?null:t.user.adresse.commune.ville.nom,", Province de : ",null==t.user||null==t.user.adresse||null==t.user.adresse.commune||null==t.user.adresse.commune.ville||null==t.user.adresse.commune.ville.province?null:t.user.adresse.commune.ville.province.libelle," ")}}function dn(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.HOy(" C/ ",null==t.user||null==t.user.adresse||null==t.user.adresse.commune?null:t.user.adresse.commune.nom,", Secteur de ",null==t.user||null==t.user.adresse||null==t.user.adresse.secteur?null:t.user.adresse.secteur.nom,", Ter de ",null==t.user||null==t.user.adresse||null==t.user.adresse.secteur||null==t.user.adresse.secteur.territire?null:t.user.adresse.secteur.territire.nom," , Province de : ",null==t.user||null==t.user.adresse||null==t.user.adresse.commune||null==t.user.adresse.commune.ville||null==t.user.adresse.commune.ville.province?null:t.user.adresse.commune.ville.province.libelle," ")}}function pn(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.HOy(" C/ ",null==t.user||null==t.user.adresse||null==t.user.adresse.commune?null:t.user.adresse.commune.nom,", Chef de ",null==t.user||null==t.user.adresse||null==t.user.adresse.chefferie?null:t.user.adresse.chefferie.nom,", Ter de ",null==t.user||null==t.user.adresse||null==t.user.adresse.chefferie?null:t.user.adresse.chefferie.territoire," , Province de : ",null==t.user||null==t.user.adresse||null==t.user.adresse.commune||null==t.user.adresse.commune.ville||null==t.user.adresse.commune.ville.province?null:t.user.adresse.commune.ville.province.libelle," ")}}function Zn(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t.libelle,"\xa0")}}let _n=(()=>{class o{constructor(){this.user=new G.n}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ok"]],inputs:{user:"user"},decls:84,vars:17,consts:[["_ngcontent-dlf-c18","",1,"typcn","typcn-group-outline"],[1,"mg-y-10"],[1,"row","pt-2","pb-2"],[1,"col-md-4"],[1,"col-md-8","font-weight-bold"],[1,"mg-y-20"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"h5"),e._UZ(1,"i",0),e._uU(2," Identit\xe9"),e.qZA(),e._UZ(3,"hr",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e._uU(6,"Nom :"),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",2),e.TgZ(10,"div",3),e._uU(11,"Pr\xe9nom :"),e.qZA(),e.TgZ(12,"div",4),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"div",2),e.TgZ(15,"div",3),e._uU(16,"Post :"),e.qZA(),e.TgZ(17,"div",4),e._uU(18),e.qZA(),e.qZA(),e._UZ(19,"hr",5),e.TgZ(20,"h5"),e._UZ(21,"i",0),e._uU(22," Contact"),e.qZA(),e.TgZ(23,"div",2),e.TgZ(24,"div",3),e._uU(25,"Tel :"),e.qZA(),e.TgZ(26,"div",4),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",2),e.TgZ(29,"div",3),e._uU(30,"Adresse :"),e.qZA(),e.TgZ(31,"div",4),e.TgZ(32,"address"),e._uU(33),e.YNc(34,mn,2,3,"ng-container",6),e.YNc(35,dn,2,4,"ng-container",6),e.YNc(36,pn,2,4,"ng-container",6),e.qZA(),e.qZA(),e.qZA(),e._UZ(37,"hr",5),e.TgZ(38,"h5"),e._UZ(39,"i",0),e._uU(40," Compte"),e.qZA(),e.TgZ(41,"div",2),e.TgZ(42,"div",3),e._uU(43,"Type :"),e.qZA(),e.TgZ(44,"div",4),e._uU(45),e.qZA(),e.qZA(),e.TgZ(46,"div",2),e.TgZ(47,"div",3),e._uU(48,"Plateforme :"),e.qZA(),e.TgZ(49,"div",4),e._uU(50),e.qZA(),e.qZA(),e.TgZ(51,"div",2),e.TgZ(52,"div",3),e._uU(53,"Role :"),e.qZA(),e.TgZ(54,"div",4),e.YNc(55,Zn,2,1,"span",7),e.qZA(),e.qZA(),e.TgZ(56,"div",2),e.TgZ(57,"div",3),e._uU(58,"Username :"),e.qZA(),e.TgZ(59,"div",4),e._uU(60),e.qZA(),e.qZA(),e.TgZ(61,"div",2),e.TgZ(62,"div",3),e._uU(63,"Email :"),e.qZA(),e.TgZ(64,"div",4),e._uU(65),e.qZA(),e.qZA(),e._UZ(66,"hr",5),e.TgZ(67,"h5"),e._UZ(68,"i",0),e._uU(69," Services"),e.qZA(),e.TgZ(70,"div",2),e.TgZ(71,"div",3),e._uU(72,"R\xe9gie :"),e.qZA(),e.TgZ(73,"div",4),e._uU(74),e.qZA(),e.qZA(),e.TgZ(75,"div",2),e.TgZ(76,"div",3),e._uU(77,"Centre :"),e.qZA(),e.TgZ(78,"div",4),e._uU(79),e.qZA(),e.qZA(),e.TgZ(80,"div",2),e.TgZ(81,"div",3),e._uU(82,"Taxes :"),e.qZA(),e._UZ(83,"div",4),e.qZA()),2&t&&(e.xp6(8),e.Oqu(null==n.user?null:n.user.nom),e.xp6(5),e.Oqu(null==n.user?null:n.user.prenom),e.xp6(5),e.Oqu(null==n.user?null:n.user.postnom),e.xp6(9),e.Oqu(null==n.user?null:n.user.phone),e.xp6(6),e.lnq(" ",null==n.user||null==n.user.adresse?null:n.user.adresse.num,", Av. ",null==n.user||null==n.user.adresse?null:n.user.adresse.avenue," Q/ ",null==n.user||null==n.user.adresse?null:n.user.adresse.num," "),e.xp6(1),e.Q6J("ngIf",null==n.user||null==n.user.adresse?null:n.user.adresse.commune),e.xp6(1),e.Q6J("ngIf",null==n.user||null==n.user.adresse?null:n.user.adresse.secteur),e.xp6(1),e.Q6J("ngIf",null==n.user||null==n.user.adresse?null:n.user.adresse.chefferie),e.xp6(9),e.Oqu(null==n.user?null:n.user.type),e.xp6(5),e.Oqu(null==n.user?null:n.user.accessPlatform),e.xp6(5),e.Q6J("ngForOf",null==n.user?null:n.user.roles),e.xp6(5),e.Oqu(null==n.user?null:n.user.username),e.xp6(5),e.Oqu(null==n.user?null:n.user.email),e.xp6(9),e.Oqu(null==n.user||null==n.user.regie?null:n.user.regie.denomination),e.xp6(5),e.Oqu(null==n.user||null==n.user.centre?null:n.user.centre.nom))},directives:[d.O5,d.sg],styles:[""]}),o})();const fn=["container"],hn=function(o,r){return{"text-primary":o,"text-danger":r}};let An=(()=>{class o{constructor(t,n,i,a,s,u,m){this.route=t,this.router=n,this.userServ=i,this.agentMan=a,this.dialogService=s,this.data=u,this.componentFactoryResolver=m,this.currentPath="",this.currentType=""}ngOnInit(){this.user=this.data.data}refresh(t){this.dialogConfig=new c.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"20px"},this.dialogConfig.data={form:"ACTE",title:"Confirmation",message:"Voulez vous r\xe9initialiser ce compte? <br/>L'utilisateur ne pourra se connecter jusqu'\xe0 ce qu'il d\xe9finisse le nouveau mot de passe",action:"VIEW"},this.dialogService.open(this.dialogConfig).confirm().subscribe(n=>{n.resulte&&this.userServ.refresh(null==t?void 0:t.id).subscribe(i=>{window.location.reload()})})}disableOrEnable(t){this.dialogConfig=new c.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"20px"},this.dialogConfig.data={form:"ACTE",title:"Confirmation",message:"Voulez vous changer le statut de cet utilisateur?",action:"VIEW"},this.dialogService.open(this.dialogConfig).confirm().subscribe(n=>{n.resulte&&((null==t?void 0:t.isAllowed)?this.userServ.disableUser(t.id).subscribe(i=>{window.location.reload()}):this.userServ.enableUser(null==t?void 0:t.id).subscribe(i=>{window.location.reload()}))})}render(t){switch(this.container.clear(),this.container.remove(),t){case"INFO":console.log(t);let n=this.componentFactoryResolver.resolveComponentFactory(_n);this.container.createComponent(n).instance.user=this.user}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.gz),e.Y36(A.F0),e.Y36(S.K),e.Y36(H.t),e.Y36(z.x),e.Y36(c.WI),e.Y36(e._Vd))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-agent"]],viewQuery:function(t,n){if(1&t&&e.Gf(fn,5,e.s_b),2&t){let i;e.iGM(i=e.CRH())&&(n.container=i.first)}},decls:44,vars:8,consts:[["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],[1,"row"],[1,"col-md-3","p-4","position-fixe","az-content-left-components"],[1,"component-item"],[1,"wrap-img-profile"],["src","http://localhost:8084/dtax/img/avatar.jpg",1,"avatar"],[1,"text-center"],[1,"flex-column","justify-content-center","d-flex"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-icon"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-sm","btn-icon",3,"click"],[1,"fa","fa-refresh"],[1,"fa","fa-envelope"],["type","button",1,"btn","btn-sm","btn-icon",3,"ngClass","click"],[1,"fa","fa-power-off"],[1,"col-md-9","offset-"],[1,"az-content-breadcrumb"],[1,"content"],[1,"az-dashboard-nav"],[1,"nav"],["routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"click"],["routerLinkActive","active","data-toggle","tab",1,"nav-link"],[2,"max-height","500px","overflow-y","auto"],["container",""],[1,"ht-40"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e.TgZ(1,"mat-toolbar-row"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",1),e._uU(5,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"div",5),e._UZ(10,"img",6),e.qZA(),e.TgZ(11,"div"),e.TgZ(12,"h3",7),e._uU(13),e.qZA(),e.TgZ(14,"p",7),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",8),e.TgZ(17,"div",9),e.TgZ(18,"button",10),e._UZ(19,"i",11),e.qZA(),e.TgZ(20,"button",12),e.NdJ("click",function(){return n.refresh(n.user)}),e._UZ(21,"i",13),e.qZA(),e.TgZ(22,"button",10),e._UZ(23,"i",14),e.qZA(),e.TgZ(24,"button",15),e.NdJ("click",function(){return n.disableOrEnable(n.user)}),e._UZ(25,"i",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",17),e.TgZ(27,"div",18),e._uU(28," \xa0 "),e.qZA(),e.TgZ(29,"div",19),e.TgZ(30,"div",20),e.TgZ(31,"nav",21),e.TgZ(32,"a",22),e.NdJ("click",function(){return n.render("INFO")}),e._uU(33,"Info Generale "),e.qZA(),e.TgZ(34,"a",23),e._uU(35,"Activit\xe9s"),e.qZA(),e.TgZ(36,"a",23),e._uU(37,"Taxations"),e.qZA(),e.TgZ(38,"a",23),e._uU(39,"R\xe9gionale"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",24),e.GkF(41,null,25),e.qZA(),e.qZA(),e._UZ(43,"div",26),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",n.data.title," "),e.xp6(10),e.AsE("",null==n.user?null:n.user.nom," ",null==n.user?null:n.user.prenom,""),e.xp6(2),e.Oqu(null==n.user?null:n.user.username),e.xp6(9),e.Q6J("ngClass",e.WLB(5,hn,1==(null==n.user?null:n.user.isAllowed),0==(null==n.user?null:n.user.isAllowed))))},directives:[c.uh,b.rD,U.Hw,c.ZT,d.mk,A.Od],styles:[""]}),o})();function Tn(o,r){1&o&&(e.ynx(0),e._uU(1," Activ\xe9 "),e.BQk())}function vn(o,r){1&o&&(e.ynx(0),e._uU(1," D\xe9sactiv\xe9 "),e.BQk())}function qn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",15),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",16),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,Tn,2,0,"ng-container",14),e.YNc(15,vn,2,0,"ng-container",14),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",17),e.TgZ(18,"button",18),e._UZ(19,"i",19),e.qZA(),e.TgZ(20,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw(2).edit(i)}),e._UZ(21,"i",21),e.qZA(),e.TgZ(22,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw(2).view(i)}),e._UZ(23,"i",23),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(),n=t.index,i=t.$implicit,a=e.oxw(2);e.xp6(2),e.hij(" ",n+1+a.currentPage*a.pp,""),e.xp6(2),e.Q6J("src",a.imgPath+""+i.url+"."+i.typeImg,e.LSH),e.xp6(2),e.AsE("",i.nom," ",i.prenom,""),e.xp6(2),e.Oqu(i.centr),e.xp6(2),e.Oqu(i.phone),e.xp6(2),e.Oqu(i.role),e.xp6(2),e.Q6J("ngIf",i.isAllowed),e.xp6(1),e.Q6J("ngIf",0==i.isAllowed)}}function Cn(o,r){if(1&o&&(e.ynx(0),e.YNc(1,qn,24,9,"tr",14),e.BQk()),2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.id!=(null==n.connectedUser?null:n.connectedUser.id))}}function bn(o,r){if(1&o&&(e.TgZ(0,"div",11),e.TgZ(1,"table",12),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Photo"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Noms "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Centre"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Phone"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Role"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Access"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"\xa0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,Cn,2,1,"ng-container",13),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",null==t.usersPager?null:t.usersPager.content)}}function Un(o,r){1&o&&(e.TgZ(0,"div",24),e.TgZ(1,"strong"),e._uU(2,"Aucune banque n'est enregistr\xe9e"),e.qZA(),e.qZA())}let xn=(()=>{class o{constructor(t,n,i,a,s){this.userServ=t,this.activatedRoute=n,this.dialog=i,this.router=a,this.auth=s,this.p=0,this.pp=0,this.itemLength=0,this.currentPage=0,this.imgPath="",this.pattern="",this.imgPath=w.N.imgPath}ngOnDestroy(){var t;null===(t=this.userSubscription)||void 0===t||t.unsubscribe()}ngOnInit(){var t;this.connectedUser=this.auth.getSession().user,this.userSubscription=this.userServ.fetchUsersOfRegiePaging(null===(t=this.activatedRoute.parent)||void 0===t?void 0:t.snapshot.params.id,this.currentPage,w.N.defautlPageSize).subscribe(n=>{this.usersPager=n})}edit(t){}openAddUserForm(){this.dialogConfig=new c.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"REGIE",title:"Creation user ",message:"",action:"EDIT",data:null},this.dialog.open(gn,this.dialogConfig)}view(t){t&&this.userServ.getUser(t.id).subscribe(n=>{this.dialogConfig=new c.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"REGIE",title:"View agent ",message:"",action:"VIEW",data:t},this.dialog.open(An,this.dialogConfig)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.K),e.Y36(A.gz),e.Y36(c.uw),e.Y36(A.F0),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agent"]],decls:15,vars:2,consts:[[1,"az-content-label","mg-b-5","config-title"],[1,"position-absolute","btn-group-config"],["role","group","aria-label","",1,"btn-group"],["type","button",1,"btn","btn-indigo","btn-sm","btn-icon",3,"click"],[1,"typcn","typcn-plus-outline"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon"],[1,"typcn","typcn-printer"],[1,"mg-b-20","tx-gray-600"],[1,"mg-y-30"],["class","table-responsive",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","mg-b-0"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],[1,"logo",3,"src"],[1,"btn-group"],["type","button",1,"btn-danger"],[1,"typcn","typcn-delete"],["type","button",1,"btn-success",3,"click"],[1,"typcn","typcn-edit"],["type","button",1,"btn-primary",3,"click"],[1,"fa","fa-user"],["role","alert",1,"alert","alert-info"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.TgZ(2,"span"),e._uU(3,"Liste des agents/users "),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"button",3),e.NdJ("click",function(){return n.openAddUserForm()}),e._UZ(7,"i",4),e.qZA(),e.TgZ(8,"button",5),e._UZ(9,"i",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"Veuillez ajouter, editer, voir la liste des agents de votre r\xe9gie."),e.qZA(),e._UZ(12,"hr",8),e.YNc(13,bn,22,1,"div",9),e.YNc(14,Un,3,0,"div",10),e.qZA()),2&t&&(e.xp6(13),e.Q6J("ngIf",0==(null==n.usersPager?null:n.usersPager.empty)),e.xp6(1),e.Q6J("ngIf",1==(null==n.usersPager?null:n.usersPager.empty)))},directives:[d.O5,d.sg],styles:[""]}),o})();class In{constructor(){this.amount=0}}function En(o,r){if(1&o&&(e.TgZ(0,"div",15),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",16),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}let Nn=(()=>{class o{constructor(t,n,i){this.data=t,this.configGen=n,this.authServ=i,this.hasError=!1,this.taux=0}ngOnInit(){this.tauxForm=new l.NI("",[l.kI.required]),this.configGen.getCurrentTaux(this.authServ.getSession().user.regie.id).subscribe(t=>{this.taux=t.amount})}save(){}cancel(){}setTaux(){var t;if(this.tauxForm.valid){let n=new In;n.amount=this.tauxForm.value,n.regie=null===(t=this.authServ.getSession().user)||void 0===t?void 0:t.regie,this.taux!=n.amount&&this.configGen.setTaux(n).subscribe(i=>{this.taux=i.amount})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.WI),e.Y36(k.E),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-param-regie-dialog"]],decls:70,vars:5,consts:[["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],["_ngcontent-dlf-c18","",1,"typcn","typcn-group-outline"],[1,"mg-y-10"],[1,"row","pt-2","pb-2"],[1,"col-md-4"],[1,"col-md-8","font-weight-bold"],[1,"",3,"formControl","ngModel"],[1,"btn-primary",3,"click"],[1,"fa","fa-save"],[1,"mg-y-20"],["type","checkbox",1,"",3,"ngModel"],["type","submit",1,"btn","btn-indigo","btn-with-icon",3,"click"],[1,"fa","fa-remove"],[1,"alert","alert-danger"],[1,"p-2"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e.TgZ(1,"mat-toolbar-row"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",1),e._uU(5,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"mat-dialog-content"),e.YNc(7,En,6,2,"div",2),e.TgZ(8,"div"),e.TgZ(9,"h5"),e._UZ(10,"i",3),e._uU(11," Echange"),e.qZA(),e._UZ(12,"hr",4),e.TgZ(13,"div",5),e.TgZ(14,"div",6),e._uU(15,"Taux du jour :"),e.qZA(),e.TgZ(16,"div",7),e._UZ(17,"input",8),e._uU(18," \xa0 "),e.TgZ(19,"button",9),e.NdJ("click",function(){return n.setTaux()}),e._UZ(20,"i",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",5),e.TgZ(22,"div",6),e._uU(23,"\xa0"),e.qZA(),e._UZ(24,"div",7),e.qZA(),e._UZ(25,"hr",11),e.TgZ(26,"h5"),e._UZ(27,"i",3),e._uU(28," Fiscalit\xe9 "),e.qZA(),e.TgZ(29,"div",5),e.TgZ(30,"div",6),e._uU(31,"Proc\xe9dure :"),e.qZA(),e.TgZ(32,"div",7),e._uU(33,"Longue"),e.qZA(),e.qZA(),e.TgZ(34,"div",5),e.TgZ(35,"div",6),e._uU(36,"Multi acte :"),e.qZA(),e.TgZ(37,"div",7),e._UZ(38,"input",12),e._uU(39," \xa0"),e.qZA(),e.qZA(),e.TgZ(40,"div",5),e.TgZ(41,"div",6),e._uU(42,"Cr\xe9\xe9 par :"),e.qZA(),e._UZ(43,"div",7),e.qZA(),e._UZ(44,"hr",11),e.TgZ(45,"h5"),e._UZ(46,"i",3),e._uU(47," Information structurelle"),e.qZA(),e.TgZ(48,"div",5),e.TgZ(49,"div",6),e._uU(50,"Agents :"),e.qZA(),e.TgZ(51,"div",7),e._uU(52,"0"),e.qZA(),e.qZA(),e.TgZ(53,"div",5),e.TgZ(54,"div",6),e._uU(55,"Centres :"),e.qZA(),e.TgZ(56,"div",7),e._uU(57,"0"),e.qZA(),e.qZA(),e.TgZ(58,"div",5),e.TgZ(59,"div",6),e._uU(60,"Directeur G\xe9n\xe9ral :"),e.qZA(),e._UZ(61,"div",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"mat-dialog-actions"),e.TgZ(63,"button",13),e.NdJ("click",function(){return n.save()}),e._UZ(64,"i",10),e._uU(65," Enregistrer "),e.qZA(),e._uU(66," \xa0\xa0 "),e.TgZ(67,"button",13),e.NdJ("click",function(){return n.cancel()}),e._UZ(68,"i",14),e._uU(69," Annuler "),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(10),e.Q6J("formControl",n.tauxForm)("ngModel",n.taux),e.xp6(21),e.Q6J("ngModel",n.taux))},directives:[c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,l.Fj,l.JJ,l.oH,l.Wl,l.On,c.H8],styles:[""]}),o})();const wn=function(){return["./detail"]},yn=function(){return["./agents"]},Fn=function(){return["./taxes"]},ce=function(){return["./centers"]},On=function(){return["./banks"]},Jn=function(){return["./peages"]};let ge=(()=>{class o{constructor(t,n,i,a,s,u,m,Z){this.assietteServ=t,this.route=n,this.router=i,this.userServ=a,this.agentMan=s,this.dialogService=u,this.dialogManager=m,this.taxeConf=Z,this.currentPath="",this.imgPath="",this.imgPath=w.N.imgPath}ngAfterViewInit(){this.route.params.subscribe(t=>{this.currentPath=t.id,this.regieSub=this.assietteServ.getRegie(t.id).subscribe(n=>{this.regie=n})})}ngOnDestroy(){this.regieSub&&this.regieSub.unsubscribe()}ngOnInit(){}showRegieParams(t){this.dialogConfig=new c.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="65%",this.dialogConfig.data={form:"TAXE",title:"Paramt\xe8tres",message:"",action:"NEW"},this.dialogManager.open(Nn,this.dialogConfig).afterClosed().subscribe(n=>{})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.f),e.Y36(A.gz),e.Y36(A.F0),e.Y36(S.K),e.Y36(H.t),e.Y36(z.x),e.Y36(c.uw),e.Y36(O.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-regie-detail"]],decls:52,vars:17,consts:[[1,"row"],[1,"col-md-3","p-4","position-fixe","az-content-left-components"],[1,"component-item"],[1,"wrap-img-profile"],[1,"avatar",3,"src"],[1,"text-center"],[1,"flex-column","justify-content-center","d-flex"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-icon"],[1,"fa","fa-edit"],[1,"fa","fa-gears",3,"click"],[1,"flex-row","justify-content-center","d-flex"],[1,"fa","fa-users"],[1,"fa","fa-home"],[1,"col-md-9","offset-"],[1,"az-content-breadcrumb"],[1,"content"],[1,"az-dashboard-nav"],[1,"nav"],["routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"routerLink"],[1,"ht-40"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"h3",5),e._uU(7),e.qZA(),e.TgZ(8,"p",5),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e.TgZ(12,"button",8),e._UZ(13,"i",9),e.qZA(),e.TgZ(14,"button",8),e.TgZ(15,"i",10),e.NdJ("click",function(){return n.showRegieParams(n.regie)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"span"),e._UZ(18,"i",12),e._uU(19," 0 "),e.qZA(),e._uU(20,"\xa0 | \xa0"),e.TgZ(21,"span"),e._UZ(22,"i",13),e._uU(23," 0 "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"div",15),e.TgZ(26,"span"),e._uU(27,"Configuration"),e.qZA(),e.TgZ(28,"span"),e._uU(29,"R\xe9gie"),e.qZA(),e.TgZ(30,"span"),e._uU(31,"D\xe9tail"),e.qZA(),e.qZA(),e.TgZ(32,"div",16),e.TgZ(33,"div",17),e.TgZ(34,"nav",18),e.TgZ(35,"a",19),e._uU(36,"Info Generale "),e.qZA(),e.TgZ(37,"a",19),e._uU(38,"Agents"),e.qZA(),e.TgZ(39,"a",19),e._uU(40,"Taxes"),e.qZA(),e.TgZ(41,"a",19),e._uU(42,"Centres"),e.qZA(),e.TgZ(43,"a",19),e._uU(44,"Banques & comptes"),e.qZA(),e.TgZ(45,"a",19),e._uU(46,"P\xe9ages"),e.qZA(),e.TgZ(47,"a",19),e._uU(48,"Centres"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div"),e._UZ(50,"router-outlet"),e.qZA(),e.qZA(),e._UZ(51,"div",20),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("src",n.imgPath+(null==n.regie||null==n.regie.logo?null:n.regie.logo.url)+"."+(null==n.regie||null==n.regie.logo?null:n.regie.logo.type),e.LSH),e.xp6(3),e.Oqu(null==n.regie?null:n.regie.denomination),e.xp6(2),e.Oqu(null==n.regie?null:n.regie.alias),e.xp6(26),e.Q6J("routerLink",e.DdM(10,wn)),e.xp6(2),e.Q6J("routerLink",e.DdM(11,yn)),e.xp6(2),e.Q6J("routerLink",e.DdM(12,Fn)),e.xp6(2),e.Q6J("routerLink",e.DdM(13,ce)),e.xp6(2),e.Q6J("routerLink",e.DdM(14,On)),e.xp6(2),e.Q6J("routerLink",e.DdM(15,Jn)),e.xp6(2),e.Q6J("routerLink",e.DdM(16,ce)))},directives:[A.yS,A.Od,A.lC],styles:[""]}),o})();var Pn=g(9532);let kn=(()=>{class o{constructor(t){this.detailComp=t}ngAfterViewInit(){this.regie=this.detailComp.regie}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(ge))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-info"]],decls:51,vars:6,consts:[["_ngcontent-dlf-c18","",1,"typcn","typcn-group-outline"],[1,"mg-y-10"],[1,"row","pt-2","pb-2"],[1,"col-md-4"],[1,"col-md-8","font-weight-bold"],[1,"mg-y-20"]],template:function(t,n){1&t&&(e.TgZ(0,"h5"),e._UZ(1,"i",0),e._uU(2," Identit\xe9"),e.qZA(),e._UZ(3,"hr",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e._uU(6,"D\xe9nomination :"),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",2),e.TgZ(10,"div",3),e._uU(11,"Pr\xe9nom :"),e.qZA(),e.TgZ(12,"div",4),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"div",2),e.TgZ(15,"div",3),e._uU(16,"Province :"),e.qZA(),e.TgZ(17,"div",4),e._uU(18),e.qZA(),e.qZA(),e._UZ(19,"hr",5),e.TgZ(20,"h5"),e._UZ(21,"i",0),e._uU(22," Autres Information "),e.qZA(),e.TgZ(23,"div",2),e.TgZ(24,"div",3),e._uU(25,"Cr\xe9\xe9 le :"),e.qZA(),e.TgZ(26,"div",4),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",2),e.TgZ(29,"div",3),e._uU(30,"Cr\xe9\xe9 par :"),e.qZA(),e.TgZ(31,"div",4),e._uU(32),e.qZA(),e.qZA(),e._UZ(33,"hr",5),e.TgZ(34,"h5"),e._UZ(35,"i",0),e._uU(36," Information structurelle"),e.qZA(),e.TgZ(37,"div",2),e.TgZ(38,"div",3),e._uU(39,"Agents :"),e.qZA(),e.TgZ(40,"div",4),e._uU(41,"0"),e.qZA(),e.qZA(),e.TgZ(42,"div",2),e.TgZ(43,"div",3),e._uU(44,"Centres :"),e.qZA(),e.TgZ(45,"div",4),e._uU(46,"0"),e.qZA(),e.qZA(),e.TgZ(47,"div",2),e.TgZ(48,"div",3),e._uU(49,"Directeur G\xe9n\xe9ral :"),e.qZA(),e._UZ(50,"div",4),e.qZA()),2&t&&(e.xp6(8),e.Oqu(null==n.regie?null:n.regie.denomination),e.xp6(5),e.Oqu(null==n.regie?null:n.regie.alias),e.xp6(5),e.Oqu(null==n.regie||null==n.regie.province?null:n.regie.province.libelle),e.xp6(9),e.Oqu(null==n.regie?null:n.regie.creadtedAt),e.xp6(5),e.AsE("",null==n.regie||null==n.regie.createdBy?null:n.regie.createdBy.nom," ",null==n.regie||null==n.regie.createdBy?null:n.regie.createdBy.prenom,""))},styles:[""]}),o})();var Sn=g(2533);let Qn=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agent-detail"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"agent-detail works!"),e.qZA())},styles:[""]}),o})();var me=g(2509),W=g(1238);function Yn(o,r){if(1&o&&(e.TgZ(0,"div",14),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",15),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}function Dn(o,r){1&o&&e._UZ(0,"mat-error")}function Mn(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Le num\xe9ro de compte est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA(),e.qZA())}function Rn(o,r){1&o&&e._UZ(0,"mat-error")}function Ln(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," D\xe9nomination est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA(),e.qZA())}function Bn(o,r){if(1&o&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.denomination," (",null==t?null:t.category,")")}}function jn(o,r){1&o&&e._UZ(0,"mat-error")}function Vn(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," D\xe9nomination est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA(),e.qZA())}let Hn=(()=>{class o{constructor(t,n,i,a){this.configService=t,this.dialog=n,this.data=i,this.auth=a,this.hasError=!1,this.banks=[],this.subs=[],this.categories=[W.K.BANK,W.K.MOBILE,W.K.VISA,W.K.FLASH]}ngOnDestroy(){this.subs=[]}ngOnInit(){switch(this.data.action){case"EDIT":this.form=new l.cw({account:new l.NI(this.data.data.denomination,[l.kI.required]),devise:new l.NI("",[l.kI.pattern(/USD|CDF|EUR|CFA/i)]),bank:new l.NI(this.data.data.denomination,[l.kI.required])});break;default:this.form=new l.cw({account:new l.NI("",[l.kI.required]),devise:new l.NI("",[l.kI.pattern(/USD|CDF|EUR|CFA/i)]),bank:new l.NI("",[l.kI.required])})}this.configService.getBanks(),this.subs.push(this.configService.bankSub.subscribe(t=>{this.banks=t}))}onSubmit(){var t;if(this.form.valid){let n=new me.x(0,this.form.value.account,this.form.value.devise,null===(t=this.auth.getSession().user)||void 0===t?void 0:t.regie,new me.H(this.form.value.bank));this.configService.addBankAccount(n).subscribe(i=>{this.dialog.close({success:!0})},i=>{this.hasError=!0,this.error=new f.D("Erreur de saisie","Veuillez controller les champs")})}else console.log(this.form.errors),this.hasError=!0,this.error=new f.D("Erreur de saisie","Veuillez controller les champs")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k.E),e.Y36(c.so),e.Y36(c.WI),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bank-account-form"]],inputs:{error:"error",hasError:"hasError"},decls:47,vars:14,consts:[[3,"formGroup","ngSubmit"],["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","account","placeholder","Ex : 0293884747737"],["matSuffix",""],[4,"ngIf"],["type","text","matInput","","formControlName","devise","placeholder","Ex : MONEY"],[3,"value"],["type","text","matInput","","formControlName","bank","placeholder","Ex : Equity"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-indigo","btn-with-icon"],[1,"typcn","typcn-folder-add"],[1,"alert","alert-danger"],[1,"p-2"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"h1",1),e.TgZ(2,"mat-toolbar-row"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"mat-icon",2),e._uU(6,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content"),e.YNc(8,Yn,6,2,"div",3),e.TgZ(9,"div"),e.TgZ(10,"mat-form-field",4),e.TgZ(11,"mat-label"),e._uU(12,"Numero compte"),e.qZA(),e._UZ(13,"input",5),e.TgZ(14,"mat-icon",6),e._uU(15,"mode_edit"),e.qZA(),e.YNc(16,Dn,1,0,"mat-error",7),e.YNc(17,Mn,4,0,"mat-error",7),e.qZA(),e.TgZ(18,"mat-form-field",4),e.TgZ(19,"mat-label"),e._uU(20,"Devise"),e.qZA(),e.TgZ(21,"mat-select",8),e.TgZ(22,"mat-option",9),e._uU(23," USD"),e.qZA(),e.TgZ(24,"mat-option",9),e._uU(25," CDF"),e.qZA(),e.TgZ(26,"mat-option",9),e._uU(27," CFA"),e.qZA(),e.TgZ(28,"mat-option",9),e._uU(29," EURO"),e.qZA(),e.qZA(),e.TgZ(30,"mat-icon",6),e._uU(31,"mode_edit"),e.qZA(),e.YNc(32,Rn,1,0,"mat-error",7),e.YNc(33,Ln,4,0,"mat-error",7),e.qZA(),e.TgZ(34,"mat-form-field",4),e.TgZ(35,"mat-label"),e._uU(36,"Banque"),e.qZA(),e.TgZ(37,"mat-select",10),e.YNc(38,Bn,2,3,"mat-option",11),e.qZA(),e.TgZ(39,"mat-icon",6),e._uU(40,"mode_edit"),e.qZA(),e.YNc(41,jn,1,0,"mat-error",7),e.YNc(42,Vn,4,0,"mat-error",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"mat-dialog-actions"),e.TgZ(44,"button",12),e._UZ(45,"i",13),e._uU(46," Enregistrer "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(8),e.Q6J("ngIf",n.form.hasError("account")&&!n.form.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.form.hasError("required")),e.xp6(5),e.Q6J("value","USD"),e.xp6(2),e.Q6J("value","CDF"),e.xp6(2),e.Q6J("value","CFA"),e.xp6(2),e.Q6J("value","EUR"),e.xp6(4),e.Q6J("ngIf",n.form.hasError("devise")&&!n.form.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.form.hasError("required")),e.xp6(5),e.Q6J("ngForOf",n.banks),e.xp6(3),e.Q6J("ngIf",n.form.hasError("bank")&&!n.form.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.form.hasError("required")))},directives:[l._Y,l.JL,l.sg,c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,p.KE,p.hX,E.Nt,l.Fj,l.JJ,l.u,p.R9,N.gD,x.ey,d.sg,c.H8,p.TO],styles:[""]}),o})();function zn(o,r){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"div",18),e.TgZ(19,"button",19),e._UZ(20,"i",20),e.qZA(),e.TgZ(21,"button",21),e._UZ(22,"i",22),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.hij(" ",n+1,""),e.xp6(2),e.Oqu(t.num),e.xp6(2),e.Oqu(t.devise),e.xp6(2),e.Oqu(null==t.banque?null:t.banque.denomination),e.xp6(2),e.Oqu(null==t.banque?null:t.banque.category),e.xp6(2),e.Oqu(null==t.createdBy?null:t.createdBy.nom),e.xp6(2),e.Oqu(t.createdAt),e.xp6(2),e.Oqu(t.statut)}}function Gn(o,r){if(1&o&&(e.TgZ(0,"div",14),e.TgZ(1,"table",15),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Compte"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Devise"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Banque"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Cat\xe9gorie"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Utilisateur"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Date"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Statut"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"\xa0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,zn,23,8,"tr",16),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(23),e.Q6J("ngForOf",null==t.bankPager?null:t.bankPager.content)}}function Xn(o,r){1&o&&(e.TgZ(0,"div",23),e.TgZ(1,"strong"),e._uU(2,"Aucune banque n'est enregistr\xe9e"),e.qZA(),e.qZA())}let $n=(()=>{class o{constructor(t,n,i){this.configService=t,this.dialog=n,this.auth=i,this.p=0,this.pp=0,this.itemLength=0,this.currentPage=0,this.subs=[],this.imgPath="",this.pattern=""}ngOnDestroy(){this.subs=[]}ngOnInit(){var t,n;this.subs.push(this.configService.getBankAccountOfRegiePaging(null===(n=null===(t=this.auth.getSession().user)||void 0===t?void 0:t.regie)||void 0===n?void 0:n.id).subscribe(i=>{this.bankPager=i,this.p=i.totalPages,this.itemLength=i.totalElements,this.pp=i.numberOfElements}))}onBanqueDialog(){const t=new c.vA;t.disableClose=!0,t.autoFocus=!0,t.panelClass="custom-modalbox",t.position={top:"100px"},t.width="400px",t.data={form:"IMMO",title:"Editer une banque",message:"",action:"NEW"},this.dialog.open(Hn,t).afterClosed().subscribe(i=>{console.log("close dialog bank",i)})}onPageChanged(t){var n,i,a,s;this.subs.push(this.pattern.length>2?this.configService.getBankAccountOfRegiePaging(null===(i=null===(n=this.auth.getSession().user)||void 0===n?void 0:n.regie)||void 0===i?void 0:i.id).subscribe(u=>{this.bankPager=u,this.p=u.totalPages,this.itemLength=u.totalElements,this.pp=u.numberOfElements}):this.configService.getBankAccountOfRegiePaging(null===(s=null===(a=this.auth.getSession().user)||void 0===a?void 0:a.regie)||void 0===s?void 0:s.id).subscribe(u=>{this.bankPager=u,this.p=u.totalPages,this.itemLength=u.totalElements,this.pp=u.numberOfElements})),this.currentPage=t.pageIndex}onChanged(t){var n,i;this.pattern=t.target.value,t.target.value.length>2&&this.subs.push(this.configService.getBankAccountOfRegiePaging(null===(i=null===(n=this.auth.getSession().user)||void 0===n?void 0:n.regie)||void 0===i?void 0:i.id).subscribe(a=>{this.bankPager=a,this.p=a.totalPages,this.itemLength=a.totalElements,this.pp=a.numberOfElements}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k.E),e.Y36(c.uw),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bank-account"]],decls:20,vars:5,consts:[[1,"az-content-label","mg-b-5","config-title"],[1,"position-absolute","btn-group-config"],["role","group","aria-label","",1,"btn-group"],["type","button",1,"btn","btn-indigo","btn-sm","btn-icon",3,"click"],[1,"typcn","typcn-plus-outline"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon"],[1,"typcn","typcn-printer"],[1,"mg-b-20","tx-gray-600"],[1,"mg-y-30"],["class","table-responsive",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"row"],[1,"col-md-6"],["aria-label","Select page",3,"length","pageSize","hidePageSize","page"],[1,"table-responsive"],[1,"table","table-striped","mg-b-0"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn-group"],["type","button",1,"btn-danger"],[1,"fa","fa-remove"],["type","button",1,"btn-success"],[1,"fa","fa-edit"],["role","alert",1,"alert","alert-info"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.TgZ(2,"span"),e._uU(3,"Comptes, Numero Mobile Money,... "),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"button",3),e.NdJ("click",function(){return n.onBanqueDialog()}),e._UZ(7,"i",4),e.qZA(),e.TgZ(8,"button",5),e._UZ(9,"i",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"La configuration des comptes/numeros op\xe9rateurs des paiement pour votre r\xe9gie"),e.qZA(),e._UZ(12,"hr",8),e.YNc(13,Gn,24,1,"div",9),e.YNc(14,Xn,3,0,"div",10),e.TgZ(15,"div",11),e.TgZ(16,"div",12),e._uU(17,"\xa0"),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"mat-paginator",13),e.NdJ("page",function(a){return n.onPageChanged(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(13),e.Q6J("ngIf",0==(null==n.bankPager?null:n.bankPager.empty)),e.xp6(1),e.Q6J("ngIf",1==(null==n.bankPager?null:n.bankPager.empty)),e.xp6(5),e.Q6J("length",n.itemLength)("pageSize",n.pp)("hidePageSize",!0))},directives:[d.O5,oe.NW,d.sg],styles:[""]}),o})();var Wn=g(6215);class Kn{constructor(){this.libelle="",this.amount=0,this.amountInt=0,this.amountControl=0}}var de=g(8788);function eo(o,r){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",22),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}function to(o,r){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function no(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La cat\xe9gorie du v\xe9hicule est requise "),e.qZA())}function oo(o,r){1&o&&e._UZ(0,"mat-error")}function io(o,r){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.libelle," (",t.code,")")}}function ro(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La route est requise "),e.qZA())}function ao(o,r){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.libelle," (",t.code,")")}}function lo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Le troncon est requis "),e.qZA())}function so(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Le taux du p\xe9age est requis "),e.qZA())}function uo(o,r){1&o&&e._UZ(0,"mat-error")}function co(o,r){1&o&&e._UZ(0,"mat-error")}let go=(()=>{class o{constructor(t,n,i,a){this.data=t,this.peageConfig=n,this.config=i,this.authSer=a,this.hasError=!1,this.routes=[],this.troncons=[],this.categories=[],this.subscribers=[],this.dataf=new Kn}ngOnDestroy(){this.subscribers=[]}ngOnInit(){this.form=new l.cw({category:new l.NI("",[l.kI.required]),alias:new l.NI(""),troncon:new l.NI("",[l.kI.required]),route:new l.NI("",[l.kI.required]),control:new l.NI("",[]),inter:new l.NI("",[]),taux:new l.NI("",[l.kI.required])}),this.config.getVehicule(),this.config.categoryVehiculeSubject.subscribe(t=>{this.categories=t}),this.subscribers.push(this.peageConfig.getRoutes().subscribe(t=>{this.routes=t}))}routeChanged(t){this.subscribers.push(this.peageConfig.getTronconsByRoute(t).subscribe(n=>{this.troncons=n}))}onSubmit(){var t,n,i,a;console.log(this.dataf),this.hasError=!1,this.form.valid?((null===(n=null===(t=this.authSer.getSession().user)||void 0===t?void 0:t.regie)||void 0===n?void 0:n.id)||(this.hasError=!0,this.error=new f.D("Erreur de privilege","Vous ne pouvez effectuer cette op\xe9ration")),this.dataf.regieId=null===(a=null===(i=this.authSer.getSession().user)||void 0===i?void 0:i.regie)||void 0===a?void 0:a.id,this.peageConfig.addPeagePrice(this.dataf).subscribe(s=>{console.log(s)},s=>{s.error?(this.hasError=!0,this.error=new f.D(s.error.error,s.error.description)):this.error=new f.D(s.statusText,s.message),console.log(s)})):(this.hasError=!0,this.error=new f.D("Erreur de saisie","Veuillez corriger les champs mis en exergue"))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.WI),e.Y36(de.w),e.Y36(k.E),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-peage-price-form"]],decls:83,vars:20,consts:[[3,"formGroup","ngSubmit"],["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],[1,"row"],[1,"col-md-6"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","category","placeholder","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],[4,"ngIf"],["type","text","matInput","","formControlName","alias","placeholder","Ex : Categorie A ",3,"ngModel","ngModelChange"],[1,"col-md-12"],["type","text","matInput","","formControlName","route","placeholder","",3,"ngModel","valueChange","ngModelChange"],["type","text","matInput","","formControlName","troncon","placeholder","",3,"ngModel","ngModelChange"],[1,"col-md-4"],["type","number","matInput","","formControlName","taux","placeholder","Ex : Centre Luna ",3,"ngModel","ngModelChange"],["type","number","matInput","","formControlName","inter","placeholder","Ex : Centre Luna ",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","control","placeholder","",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-indigo","btn-with-icon"],[1,"typcn","typcn-folder-add"],[1,"alert","alert-danger"],[1,"p-2"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"h1",1),e.TgZ(2,"mat-toolbar-row"),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"mat-icon",2),e._uU(6,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-dialog-content"),e.YNc(8,eo,6,2,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"mat-form-field",6),e.TgZ(12,"mat-label"),e._uU(13,"Cat\xe9gorie v\xe9hicule"),e.qZA(),e.TgZ(14,"mat-select",7),e.NdJ("ngModelChange",function(a){return n.dataf.categorieId=a}),e.YNc(15,to,2,2,"mat-option",8),e.qZA(),e.TgZ(16,"mat-icon",9),e._uU(17,"cars"),e.qZA(),e.YNc(18,no,2,0,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(19,"div",5),e.TgZ(20,"mat-form-field",6),e.TgZ(21,"mat-label"),e._uU(22,"Alias"),e.qZA(),e.TgZ(23,"input",11),e.NdJ("ngModelChange",function(a){return n.dataf.libelle=a}),e.qZA(),e.TgZ(24,"mat-icon",9),e._uU(25,"mode_edit"),e.qZA(),e.YNc(26,oo,1,0,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(27,"div",12),e.TgZ(28,"fieldset"),e.TgZ(29,"legend"),e._uU(30,"Itin\xe9rance "),e.qZA(),e.TgZ(31,"div",4),e.TgZ(32,"div",5),e.TgZ(33,"mat-form-field",6),e.TgZ(34,"mat-label"),e._uU(35,"Route"),e.qZA(),e.TgZ(36,"mat-select",13),e.NdJ("valueChange",function(a){return n.routeChanged(a)})("ngModelChange",function(a){return n.dataf.routeId=a}),e.YNc(37,io,2,3,"mat-option",8),e.qZA(),e.TgZ(38,"mat-icon",9),e._uU(39,"bookmark"),e.qZA(),e.YNc(40,ro,2,0,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(41,"div",5),e.TgZ(42,"mat-form-field",6),e.TgZ(43,"mat-label"),e._uU(44,"Troncon"),e.qZA(),e.TgZ(45,"mat-select",14),e.NdJ("ngModelChange",function(a){return n.dataf.tronconId=a}),e.YNc(46,ao,2,3,"mat-option",8),e.qZA(),e.TgZ(47,"mat-icon",9),e._uU(48,"bookmark"),e.qZA(),e.YNc(49,lo,2,0,"mat-error",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",12),e.TgZ(51,"fieldset"),e.TgZ(52,"legend"),e._uU(53,"Taux "),e.qZA(),e.TgZ(54,"div",4),e.TgZ(55,"div",15),e.TgZ(56,"mat-form-field",6),e.TgZ(57,"mat-label"),e._uU(58,"P\xe9age"),e.qZA(),e.TgZ(59,"input",16),e.NdJ("ngModelChange",function(a){return n.dataf.amount=a}),e.qZA(),e.TgZ(60,"mat-icon",9),e._uU(61,"mode_edit"),e.qZA(),e.YNc(62,so,2,0,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(63,"div",15),e.TgZ(64,"mat-form-field",6),e.TgZ(65,"mat-label"),e._uU(66,"Frais d'intervention"),e.qZA(),e.TgZ(67,"input",17),e.NdJ("ngModelChange",function(a){return n.dataf.amountInt=a}),e.qZA(),e.TgZ(68,"mat-icon",9),e._uU(69,"mode_edit"),e.qZA(),e.YNc(70,uo,1,0,"mat-error",10),e.qZA(),e.qZA(),e.TgZ(71,"div",15),e.TgZ(72,"mat-form-field",6),e.TgZ(73,"mat-label"),e._uU(74,"Frais de control"),e.qZA(),e.TgZ(75,"input",18),e.NdJ("ngModelChange",function(a){return n.dataf.amountControl=a}),e.qZA(),e.TgZ(76,"mat-icon",9),e._uU(77,"mode_edit"),e.qZA(),e.YNc(78,co,1,0,"mat-error",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"mat-dialog-actions"),e.TgZ(80,"button",19),e._UZ(81,"i",20),e._uU(82," Enregistrer "),e.qZA(),e.qZA(),e.qZA()),2&t){let i,a,s,u,m,Z,h;e.Q6J("formGroup",n.form),e.xp6(4),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(6),e.Q6J("ngModel",n.dataf.categorieId),e.xp6(1),e.Q6J("ngForOf",n.categories),e.xp6(3),e.Q6J("ngIf",(null==(i=n.form.get("category"))?null:i.invalid)&&!(null!=(i=n.form.get("category"))&&i.touched)),e.xp6(5),e.Q6J("ngModel",n.dataf.libelle),e.xp6(3),e.Q6J("ngIf",(null==(a=n.form.get("alias"))?null:a.invalid)&&!(null!=(a=n.form.get("alias"))&&a.touched)),e.xp6(10),e.Q6J("ngModel",n.dataf.routeId),e.xp6(1),e.Q6J("ngForOf",n.routes),e.xp6(3),e.Q6J("ngIf",(null==(s=n.form.get("route"))?null:s.invalid)&&!(null!=(s=n.form.get("route"))&&s.touched)),e.xp6(5),e.Q6J("ngModel",n.dataf.tronconId),e.xp6(1),e.Q6J("ngForOf",n.troncons),e.xp6(3),e.Q6J("ngIf",(null==(u=n.form.get("troncon"))?null:u.invalid)&&!(null!=(u=n.form.get("troncon"))&&u.touched)),e.xp6(10),e.Q6J("ngModel",n.dataf.amount),e.xp6(3),e.Q6J("ngIf",(null==(m=n.form.get("taux"))?null:m.invalid)&&!(null!=(m=n.form.get("taux"))&&m.touched)),e.xp6(5),e.Q6J("ngModel",n.dataf.amountInt),e.xp6(3),e.Q6J("ngIf",(null==(Z=n.form.get("inter"))?null:Z.invalid)&&!(null!=(Z=n.form.get("inter"))&&Z.touched)),e.xp6(5),e.Q6J("ngModel",n.dataf.amountControl),e.xp6(3),e.Q6J("ngIf",(null==(h=n.form.get("control"))?null:h.invalid)&&!(null!=(h=n.form.get("control"))&&h.touched))}},directives:[l._Y,l.JL,l.sg,c.uh,b.rD,U.Hw,c.ZT,c.xY,d.O5,p.KE,p.hX,N.gD,l.JJ,l.u,d.sg,p.R9,E.Nt,l.Fj,l.wV,c.H8,x.ey,p.TO],styles:[""]}),o})();var mo=g(9757);function po(o,r){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",9),e._uU(8),e.ALo(9,"number"),e.qZA(),e.TgZ(10,"td",9),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",9),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"\xa0"),e.qZA(),e.qZA()),2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(null==t||null==t.categorie?null:t.categorie.libelle),e.xp6(2),e.Oqu(null==t?null:t.libelle),e.xp6(2),e.Oqu(e.xi3(9,7,null==t?null:t.amount,".2-2")),e.xp6(3),e.Oqu(e.xi3(12,10,null==t?null:t.amountControl,".2-2")),e.xp6(3),e.Oqu(e.xi3(15,13,null==t?null:t.amountInt,".2-2")),e.xp6(3),e.Oqu(e.xi3(18,16,t.amount+t.amountControl+t.amountInt,".2-2"))}}function Zo(o,r){if(1&o&&(e.TgZ(0,"table",2),e.TgZ(1,"thead",3),e.TgZ(2,"tr",3),e.TgZ(3,"th",4),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",5),e._uU(6,"V\xe9hicule"),e.qZA(),e.TgZ(7,"th",6),e._uU(8,"Alias"),e.qZA(),e.TgZ(9,"th",7),e._uU(10,"Taux "),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\xa0"),e.qZA(),e.qZA(),e.TgZ(13,"tr",3),e.TgZ(14,"td",3),e._uU(15,"P\xe9age"),e.qZA(),e.TgZ(16,"td",3),e._uU(17,"F. Control"),e.qZA(),e.TgZ(18,"td",3),e._uU(19,"F. Inter."),e.qZA(),e.TgZ(20,"td"),e._uU(21,"Total"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,po,21,19,"tr",8),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(23),e.Q6J("ngForOf",t.item)}}let pe=(()=>{class o{constructor(){this.item=[]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["item-peage-categorie-price"]],inputs:{item:"item"},decls:2,vars:1,consts:[[1,"row","bg-light","p-3","rounded"],["class","table ",4,"ngIf"],[1,"table"],[1,""],["rowspan","2"],["rowspan","2",2,"width","35%"],["rowspan","2",1,""],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-right"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Zo,24,1,"table",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.item&&n.item.length>0))},directives:[d.O5,d.sg],pipes:[d.JJ],styles:[""]}),o})();function _o(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.item[0]||null==t.item[0].troncon?null:t.item[0].troncon.libelle),e.xp6(2),e.Oqu(null==t.item[0]||null==t.item[0].troncon||null==t.item[0].troncon.route?null:t.item[0].troncon.route.libelle)}}function fo(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"div"),e._uU(5,"km"),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",e.xi3(3,1,null==t.item[0]||null==t.item[0].troncon?null:t.item[0].troncon.trajectoire,".2-2"),"")}}let ho=(()=>{class o{constructor(){this.item=[]}ngOnInit(){console.log(this.item)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["item-troncon-peage"]],inputs:{item:"item"},decls:9,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"d-flex","justify-content-between","mb-2"],[4,"ngIf"],[1,"text-right"],[3,"item"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div"),e.YNc(5,_o,5,2,"ng-container",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,fo,6,4,"ng-container",4),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"item-peage-categorie-price",6),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.item&&n.item.length>0),e.xp6(2),e.Q6J("ngIf",n.item&&n.item.length>0),e.xp6(1),e.Q6J("item",n.item))},directives:[d.O5,pe],pipes:[d.JJ],styles:[""]}),o})();function Ao(o,r){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"div",11),e.TgZ(2,"div",24),e.TgZ(3,"form",25),e.TgZ(4,"div",26),e.TgZ(5,"div",27),e._UZ(6,"input",28,29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(6),e.Q6J("formControl",t.formSearch)}}function To(o,r){1&o&&e._UZ(0,"item-troncon-peage",32),2&o&&e.Q6J("item",r.$implicit[1])}function vo(o,r){if(1&o&&(e.TgZ(0,"div",30),e.YNc(1,To,1,1,"item-troncon-peage",31),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.datas)}}function qo(o,r){1&o&&(e.TgZ(0,"div",33),e.TgZ(1,"strong"),e._uU(2,"Aucune donn\xe9e n'est trouv\xe9e"),e.qZA(),e.qZA())}const Co=[{path:"",component:Ze,data:{breadcrumb:"Regies"}},{path:":id",component:ge,children:[{path:"banks",component:$n},{path:"detail",component:kn},{path:"centers",component:Ut},{path:"peages",component:(()=>{class o{constructor(t,n,i){this.dialog=t,this.peageConfig=n,this.auth=i,this.p=0,this.pp=w.N.defautlPageSize,this.itemLength=0,this.currentPage=0,this.imgPath="",this.pattern="",this.subs=[],this.isSeachForm=!1,this.datesEmit=new Wn.X({}),this.datas=[]}ngOnInit(){var t,n;this.peageConfig.getPricesOfRegie(null===(n=null===(t=this.auth.getSession().user)||void 0===t?void 0:t.regie)||void 0===n?void 0:n.id).subscribe(i=>{console.log(i),this.datas=Object.entries(this.extract(i))})}console(t){console.log(t)}extract(t){var n={};return t.forEach(function(i){var a,u,m=null===(a=i.troncon)||void 0===a?void 0:a.id;let h=null===(u=i.troncon)||void 0===u?void 0:u.id;m in n?n[h].push(i):n[h]=new Array(i)}),n}onStatusChange(t){}clickSearchForm(){}openPeagePriceForm(){let t=new c.vA;t.disableClose=!0,t.autoFocus=!0,t.panelClass="custom-modalbox",t.position={top:"100px"},t.width="80%",t.data={form:"PEAGEPRICE",title:"Editer prix p\xe9age",message:"",action:"NEW"},this.dialog.open(go,t).afterClosed().subscribe(i=>{console.log("close dialog bank",i)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.uw),e.Y36(de.w),e.Y36(v.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-peage-price-dialog"]],inputs:{itemsPager:"itemsPager",datas:"datas"},decls:36,vars:6,consts:[[1,"az-content-label","mg-b-5","config-title"],[3,"formGroup"],[1,"row"],[1,"col-2"],[3,"selectionChange"],["value",""],["value","VALIDED"],["value","CANCELLED"],["value","INIT"],["value","REDRESSED"],["value","TAXED"],[1,"col"],[1,"",2,"margin-top","20px","margin-left","-10","display","inline-block",3,"click"],[1,"fa","fa-search"],["class","row",4,"ngIf"],[1,"position-absolute","btn-group-config"],["role","group","aria-label","",1,"btn-group"],["type","button",1,"btn","btn-indigo","btn-sm","btn-icon",3,"hasRoles","privileges","click"],[1,"typcn","typcn-plus-outline"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon"],[1,"typcn","typcn-printer"],[1,"mg-y-30"],["class","table-responsive",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"nav-search","clearfix"],["role","search",1,"navtop","navbar-form","home-search"],[1,"search-group"],["id","nav-search-input",1,"input-group","clearfix"],["type","text","placeholder","Search",1,"form-control","dropdown-toggle",3,"formControl"],["seachInput",""],[1,"table-responsive"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],["role","alert",1,"alert","alert-info"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.TgZ(2,"form",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e._uU(7,"Statut"),e.qZA(),e.TgZ(8,"mat-select",4),e.NdJ("selectionChange",function(a){return n.onStatusChange(a)}),e.TgZ(9,"mat-option"),e._uU(10,"None"),e.qZA(),e.TgZ(11,"mat-option",5),e._uU(12,"Tous"),e.qZA(),e.TgZ(13,"mat-option",6),e._uU(14,"Valid\xe9e"),e.qZA(),e.TgZ(15,"mat-option",7),e._uU(16,"Annul\xe9e"),e.qZA(),e.TgZ(17,"mat-option",8),e._uU(18,"INIT"),e.qZA(),e.TgZ(19,"mat-option",9),e._uU(20,"Redress\xe9e"),e.qZA(),e.TgZ(21,"mat-option",10),e._uU(22,"Tax\xe9"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",11),e.TgZ(24,"a",12),e.NdJ("click",function(){return n.clickSearchForm()}),e._UZ(25,"i",13),e.qZA(),e.qZA(),e.qZA(),e.YNc(26,Ao,8,1,"div",14),e.qZA(),e.TgZ(27,"div",15),e.TgZ(28,"div",16),e.TgZ(29,"button",17),e.NdJ("click",function(){return n.openPeagePriceForm()}),e._UZ(30,"i",18),e.qZA(),e.TgZ(31,"button",19),e._UZ(32,"i",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(33,"hr",21),e.YNc(34,vo,2,1,"div",22),e.YNc(35,qo,3,0,"div",23),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(24),e.Q6J("ngIf",n.isSeachForm),e.xp6(3),e.Q6J("hasRoles","declaration|ordonnancement")("privileges","ALL|WRITE"),e.xp6(5),e.Q6J("ngIf",n.datas&&n.datas.length>0),e.xp6(1),e.Q6J("ngIf",1==(null==n.itemsPager?null:n.itemsPager.empty)))},directives:[l._Y,l.JL,l.sg,p.KE,p.hX,N.gD,x.ey,d.O5,mo.f,l.F,l.Fj,l.JJ,l.oH,d.sg,ho],styles:[""]}),o})(),children:[{path:"cate",component:pe}]},{path:"agents",component:xn,children:[{path:":agent",component:Qn}]},{path:"taxes",component:Fe}]}];let bo=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,Pn.N,A.Bz.forChild(Co),j.rP,b.g0,E.c,Sn.JX,y.Bb,$.T5,N.LD,N.LD,p.lN,oe.TU,j.rP,I.Hi,x.us,ne.A0]]}),o})()}}]);