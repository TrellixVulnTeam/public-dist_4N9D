"use strict";(self.webpackChunkdtax=self.webpackChunkdtax||[]).push([[911],{5972:(w,Z,u)=>{u.d(Z,{w:()=>v});var d=u(7655);class v{constructor(){this.num="",this.quartier="",this.avenue="",this.idcom=0,this.lat=0,this.lon=0,this.apl=0,this.province=new d.a}}},2453:(w,Z,u)=>{u.d(Z,{DV:()=>e,Qf:()=>v,rF:()=>U});class e{constructor(){this.nbreEtage=0,this.portes=1,this.withContribuable=!0}}var v=(()=>{return(h=v||(v={})).VEHICULE="VEHICULE",h.IMMOBILIER="IMMOBILIER",h.AUTRES="OTHER",v;var h})();class U{}},5647:(w,Z,u)=>{u.d(Z,{P:()=>d});var d=(()=>{return(e=d||(d={})).WEB_ONLY="WEB_ONLY",e.MOBILE_ONLY="MOBILE_ONLY",e.API="API",e.ALL="ALL",d;var e})()},877:(w,Z,u)=>{u.d(Z,{a:()=>d});var d=(()=>{return(e=d||(d={}))[e.COMUNE=0]="COMUNE",e[e.SECTEUR=1]="SECTEUR",e[e.TERRITOIRE=2]="TERRITOIRE",e[e.CHEFFERIE=3]="CHEFFERIE",e[e.PROVINCE=4]="PROVINCE",d;var e})()},8548:(w,Z,u)=>{u.d(Z,{c:()=>d});var d=(()=>{return(e=d||(d={})).ELECTOR="ELECTEUR",e.PASSPORT="PASSPORT",e.DRIVING_CARD="PERMIS DE CONDUIRE",e.OTHER="AUTRE",d;var e})()},9731:(w,Z,u)=>{u.d(Z,{k:()=>e,sw:()=>v,ZQ:()=>U});var d=u(5972);class e{}class v{constructor(){this.adresse=new d.w}}class U{}},7655:(w,Z,u)=>{u.d(Z,{a:()=>d});class d{constructor(v,U,h,I,s){this.id=v,this.libelle=U,this.pays=h,this.createdBy=I,this.createdAt=s}}},911:(w,Z,u)=>{u.r(Z),u.d(Z,{ContribubleModule:()=>Sn});var d=u(264),e=u(7716);const v=function(){return["/contribuables/home"]},U=function(){return["/contribuables/directories"]},h=function(){return["/contribuables/identification"]},I=function(){return["/settings/regional"]};let s=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home-contribuable"]],decls:21,vars:11,consts:[[1,"row"],[1,"col-md-12"],[1,"az-content-breadcrumb"],[1,"content"],[1,"az-dashboard-nav"],[1,"nav"],["data-toggle","tab",1,"nav-link",3,"routerLink","routerLinkActive"],["data-toggle","tab",1,"nav-link",3,"routerLink"],[1,"ht-40"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"span"),e._uU(4,"Gestion des Assujettis"),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Repertoire des Assujettis"),e.qZA(),e.qZA(),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"nav",5),e.TgZ(10,"a",6),e._uU(11,"Overview"),e.qZA(),e.TgZ(12,"a",6),e._uU(13,"Repertoires"),e.qZA(),e.TgZ(14,"a",6),e._uU(15,"Identification"),e.qZA(),e.TgZ(16,"a",7),e._uU(17,"R\xe9gionale"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div"),e._UZ(19,"router-outlet"),e.qZA(),e.qZA(),e._UZ(20,"div",8),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("routerLink",e.DdM(7,v))("routerLinkActive","active"),e.xp6(2),e.Q6J("routerLink",e.DdM(8,U))("routerLinkActive","active"),e.xp6(2),e.Q6J("routerLink",e.DdM(9,h))("routerLinkActive","active"),e.xp6(2),e.Q6J("routerLink",e.DdM(10,I)))},directives:[d.yS,d.Od,d.lC],styles:[""]}),o})();var m=u(9532),g=u(2238),E=u(9731),b=u(2340),l=u(3679),_e=u(2298),Ze=u(7546),f=u(9949),q=u(8380),L=u(6461),R=u(5647),ue=u(5972),M=u(877),V=u(8548),F=u(5430),ce=u(8939),K=u(2596),H=u(3071),j=u(1533),z=u(9630),de=u(1602),ee=u(2522),B=u(6627),x=u(8583),S=u(7832),te=u(5396),T=u(8295),Y=u(9983),X=u(3220),G=u(7441),ne=u(2458);const fe=["stepper"],be=["canvas"],Te=["inputRole"];function Ae(o,a){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function ve(o,a){if(1&o&&(e.TgZ(0,"div",62),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",63),e._uU(5),e.YNc(6,Ae,2,1,"p",64),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," "),e.xp6(1),e.Q6J("ngForOf",t.errors)}}function Ce(o,a){1&o&&e._uU(0,"Renseignement personnel")}function qe(o,a){if(1&o&&(e.ynx(0),e._UZ(1,"img",65,66),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.logoUrl,e.LSH)}}function xe(o,a){1&o&&(e.ynx(0),e._UZ(1,"img",67),e.BQk())}function Ue(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Raison sociale/D\xe9nomination"),e.qZA(),e.TgZ(4,"input",68),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.raisonSociale=i}),e.qZA(),e.TgZ(5,"mat-icon",36),e._uU(6,"mode_edit"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.dataf.raisonSociale)}}function Ne(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle,"")}}function Ie(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Forme juridique"),e.qZA(),e.TgZ(4,"mat-select",69),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.formeJuridique=i}),e.YNc(5,Ne,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.dataf.formeJuridique),e.xp6(1),e.Q6J("ngForOf",t.formeJuridiques)}}function Ee(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Sexe"),e.qZA(),e.TgZ(4,"mat-select",71),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.sexe=i}),e.TgZ(5,"mat-option",70),e._uU(6,"Homme"),e.qZA(),e.TgZ(7,"mat-option",70),e._uU(8,"Femme"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.dataf.sexe),e.xp6(1),e.Q6J("value","H"),e.xp6(2),e.Q6J("value","F")}}function ye(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function we(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Civilit\xe9"),e.qZA(),e.TgZ(4,"mat-select",72),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.etatcivil=i}),e.YNc(5,ye,2,2,"mat-option",35),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.dataf.etatcivil),e.xp6(1),e.Q6J("ngForOf",t.civilities)}}function Me(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom," ")}}function Fe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Profession"),e.qZA(),e.TgZ(4,"input",73),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.profession=i}),e.qZA(),e.TgZ(5,"mat-icon",36),e._uU(6,"assignment_ind"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.dataf.profession)}}function Pe(o,a){1&o&&e._uU(0,"Documents")}function Je(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t,"")}}function Oe(o,a){1&o&&e._uU(0,"Adresse & autres")}function Se(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"span",12),e._uU(2," Chefferie "),e.qZA(),e.TgZ(3,"mat-slide-toggle",51),e.NdJ("change",function(i){return e.CHM(t),e.oxw().onChangeSecteur(i)}),e.qZA(),e.TgZ(4,"span",12),e._uU(5,"Secteur"),e.qZA(),e.qZA()}2&o&&(e.xp6(3),e.Q6J("checked",!0))}function ke(o,a){1&o&&e._UZ(0,"mat-error")}function Qe(o,a){1&o&&e._UZ(0,"mat-error")}function Ye(o,a){1&o&&e._UZ(0,"mat-error")}function Be(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function De(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Le(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Ville"),e.qZA(),e.TgZ(4,"mat-select",74),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onVilleChnge(i)}),e.YNc(5,De,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.towns)}}function $e(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Re(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Territoire"),e.qZA(),e.TgZ(4,"mat-select",75),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onTerritoireChange(i)}),e.YNc(5,$e,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.territoires)}}function Ve(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function He(o,a){if(1&o&&(e.TgZ(0,"div",53),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Commune"),e.qZA(),e.TgZ(4,"mat-select",76),e.YNc(5,Ve,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.communes)}}function je(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function ze(o,a){if(1&o&&(e.TgZ(0,"div",53),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Secteur"),e.qZA(),e.TgZ(4,"mat-select",77),e.YNc(5,je,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.secteurs)}}function Xe(o,a){if(1&o&&(e.TgZ(0,"mat-option",70),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Ge(o,a){if(1&o&&(e.TgZ(0,"div",53),e.TgZ(1,"mat-form-field",27),e.TgZ(2,"mat-label"),e._uU(3,"Chefferie"),e.qZA(),e.TgZ(4,"mat-select",78),e.YNc(5,Xe,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.chefferies)}}function We(o,a){1&o&&e._uU(0,"Finalisation")}function Ke(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",79),e.TgZ(2,"mat-icon",80),e._uU(3,"check_circle_outline"),e.qZA(),e.TgZ(4,"div",79),e.TgZ(5,"h1"),e._uU(6,"Success"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Operation reussie avec success"),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Le contribuable a \xe9t\xe9 cr\xe9\xe9 avec succes. Un mail/sms de confirmation est envoy\xe9 \xe0/au adresse/phone mail utilis\xe9. Veuillez proc\xe9der \xe0 la v\xe9rification des infos."),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"div",81),e.NdJ("click",function(){return e.CHM(t),e.oxw().onView()}),e.TgZ(13,"a",82),e._uU(14,"Voir d\xe9tail"),e.qZA(),e.qZA(),e.TgZ(15,"div",81),e.NdJ("click",function(){return e.CHM(t),e.oxw().init()}),e.TgZ(16,"a",83),e._uU(17,"Nouveau contribuable"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function et(o,a){if(1&o&&(e.TgZ(0,"div",7),e.TgZ(1,"div",79),e.TgZ(2,"mat-icon",84),e._uU(3,"block"),e.qZA(),e.TgZ(4,"div",79),e.TgZ(5,"h1"),e._uU(6,"Erreur"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Operation \xe9chou\xe9e "),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(10),e.hij(" ",null==t.error?null:t.error.description," ")}}function tt(o,a){1&o&&(e.TgZ(0,"div",7),e.TgZ(1,"div",79),e._UZ(2,"img",85),e.TgZ(3,"div",79),e.TgZ(4,"h1"),e._uU(5,"Patientez"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Operation en cours "),e.qZA(),e.qZA(),e.qZA(),e.qZA())}function nt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){return e.CHM(t),e.oxw().prev()}),e._UZ(1,"i",87),e._uU(2," Prev "),e.qZA()}}function ot(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e._UZ(1,"i",88),e._uU(2),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.btnNextLabel," ")}}let oe=(()=>{class o{constructor(t,n,i,r,c,p,A,C,O,k){this.refDia=t,this.parent=n,this.contSrv=i,this.configService=r,this.data=c,this.regionalService=p,this.userServ=A,this.assietteConf=C,this.agentMan=O,this.dialogServ=k,this.currentPage=0,this.separatorKeysCodes=[L.K5,L.OC],this.hasError=!1,this.logoUrl="",this.couldSelectMultiRoles=!0,this.categories=[],this.dataf=new E.sw,this.moralOrPhysic=!1,this.isEnded=0,this.isShown=!1,this.couldSave=!0,this.isEditable=!1,this.couldBack=!1,this.btnNextLabel="Suivant",this.townOrTerritory=!0,this.secteurOrChefferie=!0,this.regies=[],this.contribuables=[],this.centers=[],this.provinces=[],this.countries=[],this.towns=[],this.communes=[],this.secteurs=[],this.territoires=[],this.chefferies=[],this.roles=[],this.access=[R.P.WEB_ONLY,R.P.MOBILE_ONLY,R.P.API,R.P.ALL],this.selectedRoles=[],this.selectable=!0,this.removable=!0,this.errors=[],this.civilities=["CELIBATAIRE","MARIE","VEUF","DIVORCE"],this.typeIdentities=[V.c.ELECTOR,V.c.PASSPORT,V.c.DRIVING_CARD,V.c.OTHER],this.formeJuridiques=[],this.subs=[]}ngOnDestroy(){this.subs=[]}ngOnInit(){var t,n,i,r,c;if(this.contribuable=void 0,this.formDoc=new l.cw({typeidentity:new l.NI("",[l.kI.required]),identity:new l.NI("",[l.kI.required]),rccm:new l.NI("",[]),idnational:new l.NI("",[]),numimpot:new l.NI("",[])}),this.dataf.typePersonne="P",this.form=new l.cw({nom:new l.NI("",[l.kI.required,l.kI.minLength(2),l.kI.maxLength(30)]),prenom:new l.NI("",[l.kI.required,l.kI.minLength(2),l.kI.maxLength(30)]),postnom:new l.NI("",[l.kI.minLength(2),l.kI.maxLength(30)]),dateNaissance:new l.NI("",[]),sexe:new l.NI("",[]),civility:new l.NI("",[]),profesion:new l.NI("",[]),raisonSociale:new l.NI("",[]),nationality:new l.NI("",[l.kI.required]),forme:new l.NI("",[]),email:new l.NI("",[l.kI.email]),phone:new l.NI("",[l.kI.required])}),this.adressForm=new l.cw({province:new l.NI("",[l.kI.required]),town:new l.NI,territoire:new l.NI,num:new l.NI,avenue:new l.NI,quartier:new l.NI,commune:new l.NI,secteur:new l.NI,fax:new l.NI,url:new l.NI,website:new l.NI,chefferie:new l.NI}),this.subs.push(this.configService.getForm().subscribe(p=>{this.formeJuridiques=p})),this.subs.push(this.regionalService.getCountries().subscribe(p=>{this.countries=p,this.subs.push(this.regionalService.getProvinces().subscribe(A=>{this.provinces=A}))})),this.data.action)switch(this.data.action){case"EDIT":{this.isEditable=!0;let p=this.data.data;console.log(this.data),this.dataf=this.data.data,this.dataf.agent=void 0,this.dataf.rccmDoc=void 0,this.dataf.numImpotDoc=void 0,this.dataf.idNationalDoc=void 0,this.dataf.identite=void 0,this.dataf.photo=void 0,(null===(t=p.adresse)||void 0===t?void 0:t.commune)?(this.dataf.adresse.idcom=p.adresse.commune.id,this.dataf.adresse.typeEmplacement=M.a.COMUNE):(null===(n=p.adresse)||void 0===n?void 0:n.secteur)?(this.dataf.adresse.idcom=p.adresse.secteur.id,this.dataf.adresse.typeEmplacement=M.a.SECTEUR):(null===(i=p.adresse)||void 0===i?void 0:i.chefferie)&&(this.dataf.adresse.idcom=p.adresse.chefferie.id,this.dataf.adresse.typeEmplacement=M.a.CHEFFERIE),this.dataf.adresse.province=null===(r=p.adresse)||void 0===r?void 0:r.province,this.dataf.nationality=p.nationality.id,this.dataf.formeJuridique=null===(c=p.formeJuridique)||void 0===c?void 0:c.id,this.moralOrPhysic="P"!=p.typePersonne,console.log(this.dataf)}}}valid(){}next(){var t,n,i,r,c,p,A,C,O,k,P;if(this.errors=[],-1===this.isEnded)return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Enregistrement en cours","Veuillez patienter, votre op\xe9ration est en cours"));this.hasError=!1;let N=null===(t=this.stepper)||void 0===t?void 0:t.selectedIndex;switch(this.btnNextLabel=1==N?"Enregistrer":"Suivant",console.log(N),N){case 0:if(this.form.valid){if(null==this.selectedImage||this.selectedImage.data.length<1||(this.dataf.photo=this.selectedImage),this.moralOrPhysic&&((!this.dataf.raisonSociale||(null===(i=null===(n=this.dataf)||void 0===n?void 0:n.raisonSociale)||void 0===i?void 0:i.length)<1)&&this.errors.push("Veuillez selectionner la forme juridique"),this.dataf.formeJuridique||this.errors.push("Veuillez saisir la raison sociale"),this.errors.length>0))return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Erreur de saisie","Veuillez Corriger les champs s\xe9lectionner"));this.dataf.identite=this.selectedImage,this.currentPage++,this.isShown=!0,this.couldBack=!0}else console.log(q.b$.removeNullFromArray(q.oc.getErrors(this.form)),q.oc.getErrors(this.form)),this.hasError=!0,this.isShown=!1,this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs");break;case 1:if(!this.formDoc.valid)return this.hasError=!0,this.couldBack=!0,this.isShown=!0,void(this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs"));if(this.moralOrPhysic?((!this.dataf.rccm||(null===(c=null===(r=this.dataf)||void 0===r?void 0:r.rccm)||void 0===c?void 0:c.length)<1)&&this.errors.push("Veuillez saisir rccm"),(!this.dataf.idNational||(null===(A=null===(p=this.dataf)||void 0===p?void 0:p.idNational)||void 0===A?void 0:A.length)<1)&&this.errors.push("Veuillez saisir idNational"),(!this.dataf.numImpot||(null===(O=null===(C=this.dataf)||void 0===C?void 0:C.numImpot)||void 0===O?void 0:O.length)<1)&&this.errors.push("Veuillez saisir rccm")):(!this.dataf.numidentity||(null===(P=null===(k=this.dataf)||void 0===k?void 0:k.numidentity)||void 0===P?void 0:P.length)<1)&&this.errors.push("Veuillez saisir le num de piece d'identit\xe9"),!(this.errors.length>0)){this.currentPage++,this.stepper.selectedIndex=this.currentPage;break}this.hasError=!0,this.isShown=!0,this.couldBack=!0,this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs");break;case 2:{let _=new ue.w;if(this.adressForm.valid){if(this.isEnded=-1,_.avenue=this.adressForm.value.avenue,_.num=this.adressForm.value.num,_.quartier=this.adressForm.value.quartier,this.townOrTerritory?(_.typeEmplacement=M.a.COMUNE,_.province=this.adressForm.value.province,_.idcom=this.adressForm.value.commune):this.secteurOrChefferie?(_.typeEmplacement=M.a.SECTEUR,_.province=this.adressForm.value.province,_.idcom=this.adressForm.value.secteur):(_.typeEmplacement=M.a.CHEFFERIE,_.province=this.adressForm.value.province,_.idcom=this.adressForm.value.chefferie),this.dataf.adresse=_,this.isEnded=-1,this.currentPage=3,this.couldSave=!1,this.btnNextLabel="Enregistrer",this.data.action)switch(this.data.action){case"EDIT":this.contSrv.editContribuable(this.data.data.id,this.dataf).subscribe(y=>{this.isEnded=1,this.couldBack=!0,this.contribuable=y,this.dataf=new E.sw},y=>{this.isEnded=0,this.couldBack=!0,this.contribuable=void 0,this.hasError=!0,this.error=new f.D("Erreur d'enregistrement","Une erreur est survenue")});break;default:this.contSrv.addContribuable(this.dataf).subscribe(y=>{this.isEnded=1,this.couldBack=!0,this.contribuable=y,this.dataf=new E.sw,this.parent.ngOnInit()},y=>{this.isEnded=0,this.contribuable=void 0,this.couldBack=!0,this.hasError=!0,this.error=new f.D("Erreur d'enregistrement","Une erreur est survenue")})}}else this.hasError=!0,this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs")}}this.stepper.selectedIndex=this.currentPage}prev(){var t,n,i,r;if(3==(null===(t=this.stepper)||void 0===t?void 0:t.selectedIndex)&&-1==this.isEnded)return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Enregistrement en cours","Veuillez patienter votre op\xe9ration est en cours"));if(this.hasError=!1,3==(null===(n=this.stepper)||void 0===n?void 0:n.selectedIndex)&&1==this.isEnded)return this.hasError=!0,this.isShown=!1,this.error=new f.D("Enregistrement du nouvel acte","Veuillez enregistrer un nouvel acte si il y en a autres"),this.stepper.selectedIndex=0,this.currentPage=0,this.couldSave=!0,this.couldBack=!1,void(this.btnNextLabel="Suivant");this.hasError=!1,3==(null===(i=this.stepper)||void 0===i?void 0:i.selectedIndex)&&0==this.isEnded&&(this.couldBack=!0,this.couldSave=!0);let c=null===(r=this.stepper)||void 0===r?void 0:r.selectedIndex;this.btnNextLabel=3==c?"Enregistrer":"Suivant",this.currentPage=c,console.log(this.currentPage),0!=this.currentPage&&(this.currentPage--,this.stepper.selectedIndex=this.currentPage)}fileImageEvent(t){this.hasError=!1,t.target.files.length>0&&this.convertFile(t.target.files[0])}convertFile(t){const n=new _e.t(1),i=new FileReader;return i.readAsDataURL(t),i.onload=r=>{try{let c=new Image;c.src=r.target.result,c.onload=p=>{var A;null===(A=this.ctx)||void 0===A||A.drawImage(c,0,0,120,120);let P=q.b$.Base64Compile(this.canvas.nativeElement.toDataURL());this.selectedImage=new Ze.$(P[0],P[1]),this.logoUrl=r.target.result}}catch(c){this.error=new f.D,this.error.error=c.message,this.error.description="Veuillez s\xe9lectionner l'image qui reste le format",this.hasError=!0}},n}onChangeTown(t){this.townOrTerritory=t.checked}onChangeSecteur(t){this.secteurOrChefferie=t.checked}onProvinceChange(t){this.townOrTerritory?this.regionalService.getProvinceTowns(t.value).subscribe(n=>{this.towns=n}):this.regionalService.getProvinceTerriroires(t.value).subscribe(n=>{this.territoires=n})}onVilleChnge(t){this.regionalService.getCommunesByVille(t.value).subscribe(n=>{this.communes=n})}onTerritoireChange(t){this.secteurOrChefferie?this.regionalService.getSecteurByTerritoire(t.value).subscribe(n=>{this.secteurs=n}):this.regionalService.getChefferieByTerritoire(t.value).subscribe(n=>{this.chefferies=n})}upload(t){this.subs.push(this.dialogServ.openFilePicker({disableClose:!0,width:"70%",autoFocus:!0,panelClass:"custom-modalbox",data:{title:"Choisir le document  "+t,message:"",action:"NEW"}}).closeFilePicker().subscribe(n=>{if("success"==n.status)switch(t){case"idenity":this.dataf.identite=n.file;break;case"rccm":this.dataf.rccmDoc=n.file;break;case"numimpot":this.dataf.numImpotDoc=n.file;break;case"idnational":this.dataf.idNationalDoc=n.file}}))}onView(){this.contribuable&&(new E.ZQ,this.refDia.close({status:"success",data:this.contribuable}))}init(){this.currentPage=0,this.stepper.selectedIndex=this.currentPage,this.dataf=new E.sw,this.contribuable=void 0}onTypeUserChange(t){this.moralOrPhysic=t.checked,this.dataf.typePersonne=1==t.checked?"M":"P"}pickPhoto(){this.dialogServ.openPickPhoto({disableClose:!0,autoFocus:!0,panelClass:"custom-modalbox",position:{top:"100px"},data:{title:"Capturer une photo ",message:"",action:"NEW"}}).closeCamera().subscribe(t=>{"success"==t.status&&t.file&&(this.selectedImage=t.file,this.logoUrl=t.data)})}modelChanged(t){const i=new Date(Date.parse(t)).toLocaleString().split(" ");this.dataf.dateNaissance=i[0],console.log(i)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.so),e.Y36(ae),e.Y36(F.l),e.Y36(ce.E),e.Y36(g.WI),e.Y36(K.N),e.Y36(H.K),e.Y36(j.f),e.Y36(z.t),e.Y36(de.x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-contribuable-form"]],viewQuery:function(t,n){if(1&t&&(e.Gf(fe,5),e.Gf(be,7),e.Gf(Te,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.stepper=i.first),e.iGM(i=e.CRH())&&(n.canvas=i.first),e.iGM(i=e.CRH())&&(n.inputRole=i.first)}},inputs:{dataf:"dataf",townOrTerritory:"townOrTerritory",secteurOrChefferie:"secteurOrChefferie"},decls:212,vars:51,consts:[["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],["stepper",""],["label","Step 1"],["matStepLabel",""],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"row"],[1,"col-md-12","mb-3"],[1,"col-md-2","m-2"],[1,"col","m-2"],[1,"m-3"],["color","primary",3,"checked","disabled","change"],[1,"col-md-6","justify-content-center","d-flex","text-center"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],[1,"warp-avatar","justify-content-center"],[4,"ngIf"],["width","120","height","120",2,"display","none"],["canvas",""],["type","file","accept","image/*",1,"",3,"change"],[1,"p-1","m-3"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-camera"],[1,"alert","alert-info"],[1,"col-md-6"],["class","col-md-6",4,"ngIf"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","nom","placeholder","Ex : Ekoto",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","prenom","placeholder","Ex : Brandon",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","postnom","placeholder","Ex : Ekoto",3,"ngModel","ngModelChange"],["matInput","","formControlName","dateNaissance","placeholder","",3,"matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["type","text","matInput","","formControlName","nationality","placeholder","Ex : RDC",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],["matInput","","formControlName","email","type","email","placeholder","Ex exemple@exemple.com",3,"ngModel","ngModelChange"],["type","tel","matInput","","formControlName","phone","placeholder","Ex 08XXXXXXXX",3,"ngModel","ngModelChange"],["label","Step 2"],[3,"formGroup"],["type","text","matInput","","formControlName","typeidentity","placeholder","",3,"ngModel","ngModelChange"],["type","tel","matInput","","formControlName","identity","type","text","placeholder","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["type","tel","matInput","","formControlName","rccm","type","tel","placeholder","Ex 08XXXXXXXX",3,"ngModel","ngModelChange"],["type","tel","matInput","","formControlName","idnational","type","tel","placeholder","Ex 08XXXXXXXX",3,"ngModel","ngModelChange"],["type","tel","matInput","","formControlName","numimpot","type","tel","placeholder","Ex 08XXXXXXXX",3,"ngModel","ngModelChange"],["label","Step 3"],[1,"row","m-2"],["type","text","matInput","","formControlName","fax","type","text","placeholder","",3,"ngModel","ngModelChange"],["type","tel","matInput","","formControlName","website","type","text","placeholder","",3,"ngModel","ngModelChange"],["color","primary",3,"checked","change"],["class","col m-2",4,"ngIf"],[1,"col-md-4"],["type","text","matInput","","formControlName","num","placeholder","Ex : Centre Luna ",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","avenue","placeholder","Ex : exemple ",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","quartier","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","province","placeholder","Ex : Nord kivu",3,"ngModel","selectionChange","ngModelChange"],["class","col-md-4",4,"ngIf"],["label","Step 4"],["class","col-md-12 ",4,"ngIf"],["class","btn btn-indigo btn-with-icon ","type","submit",3,"click",4,"ngIf"],[1,"alert","alert-danger"],[1,"p-2"],[4,"ngFor","ngForOf"],[1,"avatar",3,"src"],["imgLogo",""],["src","/assets/img/avatar.jpg",1,"avatar"],["type","text","matInput","","formControlName","raisonSociale","placeholder","Ex : Ekoto",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","forme","placeholder","",3,"ngModel","ngModelChange"],[3,"value"],["type","text","matInput","","formControlName","sexe","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","civility","placeholder","",3,"ngModel","ngModelChange"],["type","tel","matInput","","formControlName","profesion","placeholder","Ex 08XXXXXXXX",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","town","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","territoire","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","commune","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","secteur","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","chefferie","placeholder","Ex : FINANCE"],[1,"d-flex","align-items-center","justify-content-center","flex-column"],[1,"successIcon"],[1,"mg-t-10","mg-md-t-0",3,"click"],[1,"btn","btn-primary","btn-rounded","btn-block"],[1,"btn","btn-outline-primary","btn-rounded","btn-block"],[1,"successIcon",2,"color","crimson"],["src","assets/img/loading.gif",1,"successIcon",2,"color","rgb(248, 232, 9)"],["type","submit",1,"btn","btn-indigo","btn-with-icon",3,"click"],[1,"typcn","typcn-arrow-left"],[1,"typcn","typcn-arrow-right"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h1",0),e.TgZ(1,"mat-toolbar-row"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",1),e._uU(5,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"mat-dialog-content"),e.YNc(7,ve,7,3,"div",2),e.TgZ(8,"div"),e.TgZ(9,"mat-stepper",null,3),e.TgZ(11,"mat-step",4),e.YNc(12,Ce,1,0,"ng-template",5),e.TgZ(13,"form",6),e.NdJ("ngSubmit",function(){return n.valid()}),e.TgZ(14,"div",7),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e.TgZ(17,"div",8),e.TgZ(18,"div",10),e._uU(19,"Type de personne : "),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"span",12),e._uU(22," Physique "),e.qZA(),e.TgZ(23,"mat-slide-toggle",13),e.NdJ("change",function(r){return n.onTypeUserChange(r)}),e.qZA(),e.TgZ(24,"span",12),e._uU(25,"Morale"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"div",15),e.TgZ(28,"div",16),e.YNc(29,qe,3,1,"ng-container",17),e.YNc(30,xe,2,0,"ng-container",17),e._UZ(31,"canvas",18,19),e.TgZ(33,"input",20),e.NdJ("change",function(r){return n.fileImageEvent(r)}),e.qZA(),e.qZA(),e.TgZ(34,"p",21),e.TgZ(35,"button",22),e.NdJ("click",function(){return n.pickPhoto()}),e._UZ(36,"i",23),e._uU(37," Capturer"),e.qZA(),e.qZA(),e.TgZ(38,"p",24),e._uU(39," Veuillez cliquer sur l'icone photo pour charger l'image ou capturer pour prendre la photo "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",25),e.TgZ(41,"div",8),e.YNc(42,Ue,7,1,"div",26),e.YNc(43,Ie,8,2,"div",26),e.YNc(44,Ee,9,3,"div",26),e.YNc(45,we,6,2,"div",26),e.TgZ(46,"div",25),e.TgZ(47,"mat-form-field",27),e.TgZ(48,"mat-label"),e._uU(49,"Nom"),e.qZA(),e.TgZ(50,"input",28),e.NdJ("ngModelChange",function(r){return n.dataf.nom=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",25),e.TgZ(52,"mat-form-field",27),e.TgZ(53,"mat-label"),e._uU(54,"Pr\xe9nom"),e.qZA(),e.TgZ(55,"input",29),e.NdJ("ngModelChange",function(r){return n.dataf.prenom=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",25),e.TgZ(57,"mat-form-field",27),e.TgZ(58,"mat-label"),e._uU(59,"Postnom"),e.qZA(),e.TgZ(60,"input",30),e.NdJ("ngModelChange",function(r){return n.dataf.postnom=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",25),e.TgZ(62,"mat-form-field",27),e.TgZ(63,"mat-label"),e._uU(64,"Date de naissance"),e.qZA(),e.TgZ(65,"input",31),e.NdJ("ngModelChange",function(r){return n.modelChanged(r)}),e.qZA(),e._UZ(66,"mat-datepicker-toggle",32),e._UZ(67,"mat-datepicker",null,33),e.qZA(),e.qZA(),e.TgZ(69,"div",25),e.TgZ(70,"mat-form-field",27),e.TgZ(71,"mat-label"),e._uU(72,"Nationalit\xe9"),e.qZA(),e.TgZ(73,"mat-select",34),e.NdJ("ngModelChange",function(r){return n.dataf.nationality=r}),e.YNc(74,Me,2,2,"mat-option",35),e.qZA(),e.TgZ(75,"mat-icon",36),e._uU(76,"flag"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"div",25),e.TgZ(78,"mat-form-field",27),e.TgZ(79,"mat-label"),e._uU(80,"Email"),e.qZA(),e.TgZ(81,"input",37),e.NdJ("ngModelChange",function(r){return n.dataf.email=r}),e.qZA(),e.TgZ(82,"mat-icon",36),e._uU(83,"email"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",25),e.TgZ(85,"mat-form-field",27),e.TgZ(86,"mat-label"),e._uU(87,"Phone"),e.qZA(),e.TgZ(88,"input",38),e.NdJ("ngModelChange",function(r){return n.dataf.phone=r}),e.qZA(),e.TgZ(89,"mat-icon",36),e._uU(90,"phone"),e.qZA(),e.qZA(),e.qZA(),e.YNc(91,Fe,7,1,"div",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(92,"mat-step",39),e.YNc(93,Pe,1,0,"ng-template",5),e.TgZ(94,"form",40),e.TgZ(95,"div",8),e.TgZ(96,"div",25),e.TgZ(97,"mat-form-field",27),e.TgZ(98,"mat-label"),e._uU(99,"Type d'idenit\xe9"),e.qZA(),e.TgZ(100,"mat-select",41),e.NdJ("ngModelChange",function(r){return n.dataf.typeIdentity=r}),e.YNc(101,Je,2,2,"mat-option",35),e.qZA(),e.TgZ(102,"mat-icon",36),e._uU(103,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(104,"div",25),e.TgZ(105,"mat-form-field",27),e.TgZ(106,"mat-label"),e._uU(107,"N\xb0 identit\xe9"),e.qZA(),e.TgZ(108,"input",42),e.NdJ("ngModelChange",function(r){return n.dataf.numidentity=r}),e.qZA(),e.TgZ(109,"mat-icon",43),e.NdJ("click",function(){return n.upload("identity")}),e._uU(110,"attach_file"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(111,"div",8),e.TgZ(112,"div",25),e.TgZ(113,"mat-form-field",27),e.TgZ(114,"mat-label"),e._uU(115,"Rccm/Patente"),e.qZA(),e.TgZ(116,"input",44),e.NdJ("ngModelChange",function(r){return n.dataf.rccm=r}),e.qZA(),e.TgZ(117,"mat-icon",43),e.NdJ("click",function(){return n.upload("rccm")}),e._uU(118,"attach_file"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(119,"div",25),e.TgZ(120,"mat-form-field",27),e.TgZ(121,"mat-label"),e._uU(122,"Id national"),e.qZA(),e.TgZ(123,"input",45),e.NdJ("ngModelChange",function(r){return n.dataf.idNational=r}),e.qZA(),e.TgZ(124,"mat-icon",43),e.NdJ("click",function(){return n.upload("idnational")}),e._uU(125,"attach_file"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(126,"div",25),e.TgZ(127,"mat-form-field",27),e.TgZ(128,"mat-label"),e._uU(129,"Num. Impot"),e.qZA(),e.TgZ(130,"input",46),e.NdJ("ngModelChange",function(r){return n.dataf.numImpot=r}),e.qZA(),e.TgZ(131,"mat-icon",43),e.NdJ("click",function(){return n.upload("numimpot")}),e._uU(132,"attach_file"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(133,"mat-step",47),e.YNc(134,Oe,1,0,"ng-template",5),e.TgZ(135,"form",40),e.TgZ(136,"fieldset"),e.TgZ(137,"legend"),e._uU(138,"Autres infos"),e.qZA(),e.TgZ(139,"div",48),e.TgZ(140,"div",7),e.TgZ(141,"div",8),e.TgZ(142,"div",25),e.TgZ(143,"mat-form-field",27),e.TgZ(144,"mat-label"),e._uU(145,"Fax"),e.qZA(),e.TgZ(146,"input",49),e.NdJ("ngModelChange",function(r){return n.dataf.fax=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(147,"div",25),e.TgZ(148,"mat-form-field",27),e.TgZ(149,"mat-label"),e._uU(150,"Website"),e.qZA(),e.TgZ(151,"input",50),e.NdJ("ngModelChange",function(r){return n.dataf.websibe=r}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(152,"fieldset"),e.TgZ(153,"legend"),e._uU(154,"Adresse"),e.qZA(),e.TgZ(155,"div",48),e.TgZ(156,"div",7),e.TgZ(157,"div",8),e.TgZ(158,"div",11),e.TgZ(159,"span",12),e._uU(160," Territoire "),e.qZA(),e.TgZ(161,"mat-slide-toggle",51),e.NdJ("change",function(r){return n.onChangeTown(r)}),e.qZA(),e.TgZ(162,"span",12),e._uU(163,"Ville"),e.qZA(),e.qZA(),e.YNc(164,Se,6,1,"div",52),e.qZA(),e.qZA(),e.TgZ(165,"div",53),e.TgZ(166,"mat-form-field",27),e.TgZ(167,"mat-label"),e._uU(168,"Num\xe9ro"),e.qZA(),e.TgZ(169,"input",54),e.NdJ("ngModelChange",function(r){return n.dataf.adresse.num=r}),e.qZA(),e.TgZ(170,"mat-icon",36),e._uU(171,"mode_edit"),e.qZA(),e.YNc(172,ke,1,0,"mat-error",17),e.qZA(),e.qZA(),e.TgZ(173,"div",53),e.TgZ(174,"mat-form-field",27),e.TgZ(175,"mat-label"),e._uU(176,"Avenue"),e.qZA(),e.TgZ(177,"input",55),e.NdJ("ngModelChange",function(r){return n.dataf.adresse.avenue=r}),e.qZA(),e.TgZ(178,"mat-icon",36),e._uU(179,"mode_edit"),e.qZA(),e.YNc(180,Qe,1,0,"mat-error",17),e.qZA(),e.qZA(),e.TgZ(181,"div",53),e.TgZ(182,"mat-form-field",27),e.TgZ(183,"mat-label"),e._uU(184,"Quartier"),e.qZA(),e.TgZ(185,"input",56),e.NdJ("ngModelChange",function(r){return n.dataf.adresse.quartier=r}),e.qZA(),e.TgZ(186,"mat-icon",36),e._uU(187,"mode_edit"),e.qZA(),e.YNc(188,Ye,1,0,"mat-error",17),e.qZA(),e.qZA(),e.TgZ(189,"div",53),e.TgZ(190,"mat-form-field",27),e.TgZ(191,"mat-label"),e._uU(192,"Provinces"),e.qZA(),e.TgZ(193,"mat-select",57),e.NdJ("selectionChange",function(r){return n.onProvinceChange(r)})("ngModelChange",function(r){return n.dataf.adresse.province.id=r}),e.YNc(194,Be,2,2,"mat-option",35),e.qZA(),e.TgZ(195,"mat-icon",36),e._uU(196,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.YNc(197,Le,8,1,"div",58),e.YNc(198,Re,8,1,"div",58),e.YNc(199,He,8,1,"div",58),e.YNc(200,ze,8,1,"div",58),e.YNc(201,Ge,8,1,"div",58),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(202,"mat-step",59),e.YNc(203,We,1,0,"ng-template",5),e.TgZ(204,"div",8),e.YNc(205,Ke,18,0,"div",60),e.YNc(206,et,11,1,"div",60),e.YNc(207,tt,8,0,"div",60),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(208,"mat-dialog-actions"),e.YNc(209,nt,3,0,"button",61),e._uU(210,"\xa0\xa0 "),e.YNc(211,ot,3,1,"button",61),e.qZA()),2&t){const i=e.MAs(68);e.xp6(3),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(6),e.Q6J("formGroup",n.form),e.xp6(10),e.Q6J("checked",n.moralOrPhysic)("disabled",n.isEditable),e.xp6(6),e.Q6J("ngIf",null!=n.selectedImage&&null!=n.selectedImage.data),e.xp6(1),e.Q6J("ngIf",!(null!=n.selectedImage&&null!=n.selectedImage.data)),e.xp6(12),e.Q6J("ngIf",n.moralOrPhysic),e.xp6(1),e.Q6J("ngIf",n.moralOrPhysic),e.xp6(1),e.Q6J("ngIf",!n.moralOrPhysic),e.xp6(1),e.Q6J("ngIf",!n.moralOrPhysic),e.xp6(5),e.Q6J("ngModel",n.dataf.nom),e.xp6(5),e.Q6J("ngModel",n.dataf.prenom),e.xp6(5),e.Q6J("ngModel",n.dataf.postnom),e.xp6(5),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(7),e.Q6J("ngModel",n.dataf.nationality),e.xp6(1),e.Q6J("ngForOf",n.countries),e.xp6(7),e.Q6J("ngModel",n.dataf.email),e.xp6(7),e.Q6J("ngModel",n.dataf.phone),e.xp6(3),e.Q6J("ngIf",!n.moralOrPhysic),e.xp6(3),e.Q6J("formGroup",n.formDoc),e.xp6(6),e.Q6J("ngModel",n.dataf.typeIdentity),e.xp6(1),e.Q6J("ngForOf",n.typeIdentities),e.xp6(7),e.Q6J("ngModel",n.dataf.numidentity),e.xp6(8),e.Q6J("ngModel",n.dataf.rccm),e.xp6(7),e.Q6J("ngModel",n.dataf.idNational),e.xp6(7),e.Q6J("ngModel",n.dataf.numImpot),e.xp6(5),e.Q6J("formGroup",n.adressForm),e.xp6(11),e.Q6J("ngModel",n.dataf.fax),e.xp6(5),e.Q6J("ngModel",n.dataf.websibe),e.xp6(10),e.Q6J("checked",!0),e.xp6(3),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(5),e.Q6J("ngModel",n.dataf.adresse.num),e.xp6(3),e.Q6J("ngIf",n.form.hasError("num")&&!n.form.hasError("required")),e.xp6(5),e.Q6J("ngModel",n.dataf.adresse.avenue),e.xp6(3),e.Q6J("ngIf",n.form.hasError("avenue")&&!n.form.hasError("required")),e.xp6(5),e.Q6J("ngModel",n.dataf.adresse.quartier),e.xp6(3),e.Q6J("ngIf",n.form.hasError("quartier")&&!n.form.hasError("required")),e.xp6(5),e.Q6J("ngModel",n.dataf.adresse.province.id),e.xp6(1),e.Q6J("ngForOf",n.provinces),e.xp6(3),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&1==n.secteurOrChefferie),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&0==n.secteurOrChefferie),e.xp6(4),e.Q6J("ngIf",1===n.isEnded),e.xp6(1),e.Q6J("ngIf",0===n.isEnded),e.xp6(1),e.Q6J("ngIf",-1===n.isEnded),e.xp6(2),e.Q6J("ngIf",1==n.isShown&&1==n.couldBack),e.xp6(2),e.Q6J("ngIf",n.couldSave)}},directives:[g.uh,ee.rD,B.Hw,g.ZT,g.xY,x.O5,S.Vq,S.C0,S.VY,l._Y,l.JL,l.sg,te.Rr,T.KE,T.hX,Y.Nt,l.Fj,l.JJ,l.u,X.hl,X.nW,T.R9,X.Mq,G.gD,x.sg,g.H8,ne.ey,T.TO],styles:[""]}),o})();var it=u(7655),ie=u(6640),ge=u(4457);function rt(o,a){if(1&o&&(e.TgZ(0,"ng-option",17),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function at(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.raisonSociale," ")}}function lt(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.nom," ",t.prenom," ")}}function st(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).view(r)}),e.TgZ(1,"td",22),e._uU(2),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",23),e.qZA(),e.TgZ(7,"td"),e.YNc(8,at,2,1,"ng-container",24),e.YNc(9,lt,2,2,"ng-container",24),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td"),e.TgZ(26,"div",25),e.TgZ(27,"a",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).del(r)}),e._UZ(28,"i",27),e.qZA(),e._uU(29,"\xa0 "),e.TgZ(30,"a",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).edit(r)}),e._UZ(31,"i",28),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,n=a.index,i=e.oxw(2);e.xp6(2),e.hij(" ",n+1+i.currentPage*i.pp,""),e.xp6(2),e.Oqu(null==t?null:t.nuc),e.xp6(2),e.Q6J("src",i.imgPath+""+t.photo+"."+t.ext,e.LSH),e.xp6(2),e.Q6J("ngIf","M"==t.typePersonne),e.xp6(1),e.Q6J("ngIf","P"==t.typePersonne),e.xp6(2),e.Oqu(t.typePersonne),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(null==t.adresse||null==t.adresse.province?null:t.adresse.province.libelle),e.xp6(2),e.hij(" ",t.status," "),e.xp6(2),e.Oqu(t.agent),e.xp6(2),e.Oqu(e.lcZ(24,12,t.dateCreated))}}function ut(o,a){if(1&o&&(e.TgZ(0,"div",18),e.TgZ(1,"table",19),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Nuc"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Photo"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Noms "),e.qZA(),e.TgZ(12,"th"),e._uU(13,"TP"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Phone"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Province"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Statut"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Utilisateur"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Date"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"\xa0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"tbody"),e.YNc(29,st,32,14,"tr",20),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(29),e.Q6J("ngForOf",null==t.usersPager?null:t.usersPager.content)}}function ct(o,a){1&o&&(e.TgZ(0,"div",29),e.TgZ(1,"strong"),e._uU(2,"Aucune banque n'est enregistr\xe9e"),e.qZA(),e.qZA())}let dt=(()=>{class o{constructor(t,n,i,r){this.regionalSr=t,this.dialog=n,this.contSer=i,this.ref=r,this.p=0,this.pp=b.N.defautlPageSize,this.itemLength=0,this.currentPage=0,this.provinces=[],this.regies=[],this.imgPath="",this.pattern="",this.selectedProvince=0,this.subs=[]}ngOnDestroy(){this.subs=[]}ngOnInit(){this.imgPath=b.N.imgPath,this.provinceFilter=new l.NI,this.subs.push(this.regionalSr.getProvinces().subscribe(t=>{this.provinces=t,this.provinces.unshift(new it.a(0,"Tous"))})),this.subs.push(this.contSer.getContribuablesPaging(0,b.N.defautlPageSize).subscribe(t=>{this.usersPager=t,this.itemLength=t.totalElements,this.pp=b.N.defautlPageSize}))}onPageChanged(t){this.subs.push(this.pattern.length>2?this.contSer.searchContribuablesPaging(this.pattern,this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}):this.contSer.getContribuablesPaging(t.pageIndex,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements})),this.currentPage=t.pageIndex}onProvinceChanged(t){this.selectedProvince=t,this.subs.push(t>0&&this.pattern.length>2?this.contSer.searchContribuablesOfProvincePaging(this.pattern,t,this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}):t>0?this.contSer.getContribuablesOfProvincePaging(t,this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}):this.pattern.length>2?this.contSer.searchContribuablesPaging(t.target.value,this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}):this.contSer.getContribuablesPaging(0,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}))}onChanged(t){this.pattern=t.target.value,this.subs.push(this.selectedProvince>0&&this.pattern.length>2?this.contSer.searchContribuablesOfProvincePaging(this.pattern,t,this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}):this.selectedProvince>0?this.contSer.getContribuablesOfProvincePaging(t,this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}):this.pattern.length>2?this.contSer.searchContribuablesPaging(t.target.value,this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}):this.contSer.getContribuablesPaging(this.currentPage,b.N.defautlPageSize).subscribe(n=>{this.usersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements}))}view(t){this.ref.close({id:t.id})}del(t){}edit(t){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(K.N),e.Y36(g.uw),e.Y36(F.l),e.Y36(g.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-contribuable-dialog"]],decls:27,vars:7,consts:[["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],[1,"row"],[1,"col-md-3"],["appearance","standard"],["type","text","matInput","","placeholder","Recherche...","autocomplete","off",3,"keyup"],["matSuffix",""],["placeholder","Province",3,"formControl","change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","table-responsive",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],[1,"mg-y-30"],[1,"col-md-6"],[1,"btn","btn-indigo","btn-with-icon"],[1,"fa","fa-file-pdf"],["aria-label","Select page",3,"length","pageSize","hidePageSize","page"],[3,"value"],[1,"table-responsive"],[1,"table","table-striped","mg-b-0"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["scope","row"],["onError","this.src='../assets/img/avatar.jpg'",1,"logo",3,"src"],[4,"ngIf"],[1,"btn-group"],["type","button",1,"",3,"click"],[1,"fa","fa-remove"],[1,"fa","fa-edit"],["role","alert",1,"alert","alert-info"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e.TgZ(1,"mat-toolbar-row"),e.TgZ(2,"span"),e._uU(3," Tous les contribuables "),e.qZA(),e.TgZ(4,"mat-icon",1),e._uU(5,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"mat-dialog-content"),e.TgZ(7,"div",2),e.TgZ(8,"div",3),e.TgZ(9,"mat-form-field",4),e.TgZ(10,"input",5),e.NdJ("keyup",function(r){return n.onChanged(r)}),e.qZA(),e.TgZ(11,"mat-icon",6),e._uU(12,"search"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",3),e.TgZ(14,"ng-select",7),e.NdJ("change",function(r){return n.onProvinceChanged(r)}),e.YNc(15,rt,2,2,"ng-option",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",2),e.TgZ(17,"div",9),e.YNc(18,ut,30,1,"div",10),e.YNc(19,ct,3,0,"div",11),e._UZ(20,"hr",12),e.qZA(),e.TgZ(21,"div",13),e.TgZ(22,"button",14),e._UZ(23,"i",15),e._uU(24," PDF "),e.qZA(),e.qZA(),e.TgZ(25,"div",13),e.TgZ(26,"mat-paginator",16),e.NdJ("page",function(r){return n.onPageChanged(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(14),e.Q6J("formControl",n.provinceFilter),e.xp6(1),e.Q6J("ngForOf",n.provinces),e.xp6(3),e.Q6J("ngIf",0==(null==n.usersPager?null:n.usersPager.empty)),e.xp6(1),e.Q6J("ngIf",1==(null==n.usersPager?null:n.usersPager.empty)),e.xp6(7),e.Q6J("length",n.itemLength)("pageSize",n.pp)("hidePageSize",!0))},directives:[g.uh,ee.rD,B.Hw,g.ZT,g.xY,T.KE,Y.Nt,T.R9,ie.w9,l.JJ,l.oH,x.sg,x.O5,ge.NW,ie.xv],pipes:[x.uU],styles:[""]}),o})();var gt=u(7538),re=u(1554);function mt(o,a){if(1&o&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom," ")}}function pt(o,a){if(1&o&&e._UZ(0,"img",44),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("src",n.imgPath+t.photo+"."+t.ext,e.LSH)}}function ht(o,a){1&o&&e._UZ(0,"img",45),2&o&&e.Q6J("src","http://localhost:8084/dtax/img/avatar.jpg",e.LSH)}function _t(o,a){if(1&o&&(e.TgZ(0,"h6"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.AsE("",t.nom," ",t.prenom,"")}}function Zt(o,a){if(1&o&&(e.TgZ(0,"h6"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.raisonSociale," ")}}function ft(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28),e.TgZ(2,"div",29),e.TgZ(3,"div",30),e.TgZ(4,"a",31),e._UZ(5,"i",32),e.qZA(),e.qZA(),e.TgZ(6,"div",33),e.TgZ(7,"div",34),e.YNc(8,pt,1,1,"img",35),e.YNc(9,ht,1,1,"img",36),e.qZA(),e.YNc(10,_t,2,2,"h6",22),e.YNc(11,Zt,2,1,"h6",22),e.TgZ(12,"h6"),e._uU(13),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.qZA(),e._UZ(16,"hr",37),e.TgZ(17,"div",38),e.TgZ(18,"span",39),e._uU(19),e.qZA(),e.qZA(),e._UZ(20,"hr",37),e.TgZ(21,"div",40),e.TgZ(22,"a",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).view(r)}),e._UZ(23,"i",42),e._uU(24," Voir"),e.qZA(),e.TgZ(25,"a",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).edit(r)}),e._UZ(26,"i",43),e._uU(27," Edit Profile"),e.qZA(),e._UZ(28,"br"),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=a.$implicit;e.xp6(8),e.Q6J("ngIf",t.photo),e.xp6(1),e.Q6J("ngIf",!t.photo),e.xp6(1),e.Q6J("ngIf","P"==t.typePersonne),e.xp6(1),e.Q6J("ngIf","M"==t.typePersonne),e.xp6(2),e.Oqu(null==t?null:t.nuc),e.xp6(2),e.Oqu(t.typePersonne),e.xp6(4),e.Oqu(null==t?null:t.status)}}function bt(o,a){if(1&o&&(e.ynx(0),e.YNc(1,ft,29,7,"ng-container",27),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.taxerPager?null:t.taxerPager.content)}}let ae=(()=>{class o{constructor(t,n,i,r,c,p){this.contSer=t,this.dialog=n,this.assietteConf=i,this.auth=r,this.router=c,this.route=p,this.p=0,this.pp=0,this.itemLength=0,this.currentPage=0,this.regies=[],this.imgPath="",this.pattern="",this.subs=[]}ngOnInit(){this.imgPath=b.N.imgPath,this.subs.push(this.contSer.getContribuablesPaging(0,b.N.defautlPageSize).subscribe(t=>{this.taxerPager=t,this.p=t.totalPages,this.itemLength=t.totalElements,this.pp=t.numberOfElements}))}openAddContribuableForm(){this.dialogConfig=new g.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"Contribuable",title:"Nouveau contribuable",message:"",action:"NEW"},this.dialog.open(oe,this.dialogConfig).afterClosed().subscribe(t=>{if(t&&"success"==t.status){let n=new E.ZQ;n.id=t.data.id,this.view(n)}})}onPageChanged(t){this.pattern.length>2?this.assietteConf.fetchCentersSearchPaging(this.pattern,this.currentPage,5).subscribe(n=>{this.centersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements,this.pp=n.numberOfElements}):this.assietteConf.fetchCentersPaging(t.pageIndex,5).subscribe(n=>{this.centersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements,this.pp=n.numberOfElements}),this.currentPage=t.pageIndex}onChanged(t){this.pattern=t.target.value,t.target.value.length>2&&this.assietteConf.fetchCentersSearchPaging(t.target.value,this.currentPage,5).subscribe(n=>{this.centersPager=n,this.p=n.totalPages,this.itemLength=n.totalElements,this.pp=n.numberOfElements})}seeAll(){this.dialogConfig=new g.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"USER",title:"Liste des contribuables ",message:"",action:"LIST",data:null},this.dialog.open(dt,this.dialogConfig).afterClosed().subscribe(t=>{t.id&&this.router.navigate(["/contribuables",t.id])})}view(t){this.router.navigate(["/contribuables",t.id])}edit(t){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.l),e.Y36(g.uw),e.Y36(j.f),e.Y36(gt.u),e.Y36(d.F0),e.Y36(d.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-directory"]],decls:33,vars:4,consts:[[1,"az-content-label","config-title",2,"padding-top","0px"],[1,"row",2,"margin-top","-15px"],[1,"col-md-3"],["appearance","standard"],["type","text","matInput","","placeholder","Recherche...","autocomplete","off",3,"keyup"],["matSuffix",""],["appearance","standard",1,"example-full-width"],["type","text","placeholder","Filtrer par province","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"position-absolute","btn-group-config",2,"top","20px"],["role","group","aria-label","",1,"btn-group"],["type","button",1,"btn","btn-indigo","btn-sm","btn-icon",3,"click"],[1,"typcn","typcn-plus-outline"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon"],[1,"typcn","typcn-printer"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon",3,"click"],[1,"typcn","typcn-document"],[1,"mg-b-20","tx-gray-600","alert"],[1,"mg-y-30"],[1,"row","p-3"],[4,"ngIf"],[1,"p-2","m-2"],[1,"col-sm-6","col-md-3","mg-t-10","mg-md-t-0"],[1,"btn","btn-outline-primary","btn-rounded","btn-block",3,"click"],[3,"value"],[4,"ngFor","ngForOf"],[1,"col-md-4","p-4"],[1,"border","shadow","rounded-lg"],[1,"az-dropdown-header","d-sm-none"],["href","",1,"az-header-arrow"],[1,"icon","ion-md-arrow-back"],[1,"az-header-profile"],[1,"az-img-user","border","rounded-circle"],["alt","",3,"src",4,"ngIf"],["alt","","onError","this.src='../assets/img/avatar.jpg'",3,"src",4,"ngIf"],[1,"mg-y-10"],[1,"justify-content-center","d-flex"],[2,"font-weight","bolder"],[1,"justify-content-center","d-flex","align-content-center","align-items-center","flex-column"],[1,"dropdown-item","justify-content-center","d-flex","align-content-center","align-items-center",3,"click"],[1,"typcn","typcn-user-outline"],[1,"typcn","typcn-edit"],["alt","",3,"src"],["alt","","onError","this.src='../assets/img/avatar.jpg'",3,"src"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"input",4),e.NdJ("keyup",function(r){return n.onChanged(r)}),e.qZA(),e.TgZ(6,"mat-icon",5),e._uU(7,"search"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div"),e.TgZ(9,"mat-form-field",6),e.TgZ(10,"mat-label"),e._uU(11,"Province"),e.qZA(),e._UZ(12,"input",7),e.TgZ(13,"mat-autocomplete",8,9),e.YNc(15,mt,2,2,"mat-option",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"div",12),e.TgZ(18,"button",13),e.NdJ("click",function(){return n.openAddContribuableForm()}),e._UZ(19,"i",14),e.qZA(),e.TgZ(20,"button",15),e._UZ(21,"i",16),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return n.seeAll()}),e._UZ(23,"i",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"p",19),e._uU(25," Veuillez ajouter, editer, voir la liste des contribuables. Ces actes seront utilis\xe9s pour la taxation"),e.qZA(),e._UZ(26,"hr",20),e.TgZ(27,"div",21),e.YNc(28,bt,2,1,"ng-container",22),e.qZA(),e.TgZ(29,"div",23),e.TgZ(30,"div",24),e.TgZ(31,"button",25),e.NdJ("click",function(){return n.seeAll()}),e._uU(32,"Voir tout"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(14);e.xp6(12),e.Q6J("formControl",n.provinceFilter)("matAutocomplete",i),e.xp6(3),e.Q6J("ngForOf",n.regies),e.xp6(13),e.Q6J("ngIf",!(null!=n.taxerPager&&n.taxerPager.empty))}},directives:[T.KE,Y.Nt,B.Hw,T.R9,T.hX,l.Fj,re.ZL,l.JJ,l.oH,re.XC,x.sg,x.O5,ne.ey],styles:[""]}),o})();var Tt=u(2533),D=(()=>{return(o=D||(D={})).VALID="VALID",o.INVALID="INVALID",D;var o})();class At{}function vt(o,a){if(1&o&&(e.TgZ(0,"h3",7),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",null==t.taxer?null:t.taxer.nom," ",null==t.taxer?null:t.taxer.prenom,"")}}function Ct(o,a){if(1&o&&(e.TgZ(0,"h3",7),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(null==t.taxer?null:t.taxer.raisonSociale)}}function qt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.validate(i.taxer)}),e._UZ(1,"i",23),e.qZA()}}const xt=function(){return["./"]},Ut=function(){return["./properties"]},Nt=function(){return["./taxations"]},It=function(){return["./payments"]},Et=function(){return["./exoneration   "]},yt=function(){return["./centers"]};let wt=(()=>{class o{constructor(t,n,i,r,c,p,A,C){this.dialogServ=t,this.contServ=n,this.assietteServ=i,this.route=r,this.router=c,this.userServ=p,this.agentMan=A,this.dialog=C,this.currentPath="",this.imgPath=""}ngOnInit(){this.imgPath=b.N.imgPath,this.route.params.subscribe(t=>{this.currentPath=t.id,this.regieSub=this.contServ.getContribuable(t.id).subscribe(n=>{this.taxer=n})})}edit(t){t&&(this.dialogConfig=new g.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"Contribuable",title:"Edit contribuable",message:"",action:"EDIT",data:t},this.dialog.open(oe,this.dialogConfig).afterClosed().subscribe(n=>{}))}validate(t){t&&this.dialogServ.openObs().closeObs().subscribe(n=>{let i=new At;n.result&&1==n.result?(i.status=D.VALID,i.observation=n.text,this.contServ.activateContribuable(parseInt(this.currentPath),i).subscribe(r=>{window.location.reload()})):n.result&&0==n.result&&(i.status=D.INVALID,i.observation=n.text,this.contServ.activateContribuable(parseInt(this.currentPath),i).subscribe(r=>{window.location.reload()})),console.log(n)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(de.x),e.Y36(F.l),e.Y36(j.f),e.Y36(d.gz),e.Y36(d.F0),e.Y36(H.K),e.Y36(z.t),e.Y36(g.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-detail"]],decls:47,vars:18,consts:[[1,"row"],[1,"col-md-3","p-4","position-fixe","az-content-left-components"],[1,"component-item"],[1,"wrap-img-profile"],["onError","this.src='../assets/img/avatar.jpg'",1,"avatar",3,"src"],[2,"margin-top","10px"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"flex-column","justify-content-center","d-flex"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-icon",3,"click"],[1,"fa","fa-edit"],["type","button","class","btn  btn-sm btn-icon",3,"click",4,"ngIf"],[1,"mg-y-10"],[2,"font-weight","bolder","text-align","center"],[1,"flex-column","text-center"],[1,"flex-row","justify-content-center","d-flex"],[1,"col-md-9","offset-"],[1,"content"],[1,"az-dashboard-nav"],[1,"nav"],["routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"routerLink"],[1,"ht-40"],[1,"fa","fa-check"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5),e.YNc(6,vt,2,2,"h3",6),e.YNc(7,Ct,2,1,"h3",6),e.TgZ(8,"p",7),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"button",10),e.NdJ("click",function(){return n.edit(n.taxer)}),e._UZ(13,"i",11),e.qZA(),e.YNc(14,qt,2,0,"button",12),e.qZA(),e._UZ(15,"hr",13),e.TgZ(16,"div",14),e._uU(17),e.qZA(),e._UZ(18,"hr",13),e.TgZ(19,"div",15),e.TgZ(20,"div"),e._uU(21,"Compte fiscal :"),e.qZA(),e.TgZ(22,"div",16),e.TgZ(23,"span"),e._uU(24,"Solde : 0 "),e.qZA(),e._uU(25,"\xa0 | \xa0"),e.TgZ(26,"span"),e._uU(27,"Statut : Null "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",17),e.TgZ(29,"div",18),e.TgZ(30,"div",19),e.TgZ(31,"nav",20),e.TgZ(32,"a",21),e._uU(33,"Info Generale "),e.qZA(),e.TgZ(34,"a",21),e._uU(35,"Propri\xe9t\xe9s"),e.qZA(),e.TgZ(36,"a",21),e._uU(37,"Taxations"),e.qZA(),e.TgZ(38,"a",21),e._uU(39,"Paiements"),e.qZA(),e.TgZ(40,"a",21),e._uU(41,"Exon\xe9rations"),e.qZA(),e.TgZ(42,"a",21),e._uU(43,"Centres"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div"),e._UZ(45,"router-outlet"),e.qZA(),e.qZA(),e._UZ(46,"div",22),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("src",n.imgPath+(null==n.taxer||null==n.taxer.photo?null:n.taxer.photo.url)+"."+(null==n.taxer||null==n.taxer.photo?null:n.taxer.photo.type),e.LSH),e.xp6(2),e.Q6J("ngIf","P"==(null==n.taxer?null:n.taxer.typePersonne)),e.xp6(1),e.Q6J("ngIf","M"==(null==n.taxer?null:n.taxer.typePersonne)),e.xp6(2),e.Oqu(null==n.taxer?null:n.taxer.nuc),e.xp6(5),e.Q6J("ngIf","PENDING"==(null==n.taxer?null:n.taxer.status)),e.xp6(3),e.hij(" ",null==n.taxer?null:n.taxer.status,""),e.xp6(15),e.Q6J("routerLink",e.DdM(12,xt)),e.xp6(2),e.Q6J("routerLink",e.DdM(13,Ut)),e.xp6(2),e.Q6J("routerLink",e.DdM(14,Nt)),e.xp6(2),e.Q6J("routerLink",e.DdM(15,It)),e.xp6(2),e.Q6J("routerLink",e.DdM(16,Et)),e.xp6(2),e.Q6J("routerLink",e.DdM(17,yt)))},directives:[x.O5,d.yS,d.Od,d.lC],styles:[""]}),o})();function Mt(o,a){1&o&&(e.TgZ(0,"div",7),e._uU(1,"Physique"),e.qZA())}function Ft(o,a){1&o&&(e.TgZ(0,"div",7),e._uU(1,"Moral"),e.qZA())}function Pt(o,a){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e._uU(2,"Raison Sociale :"),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()),2&o){const t=e.oxw(2);e.xp6(4),e.Oqu(null==t.contr?null:t.contr.raisonSociale)}}function Jt(o,a){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e._uU(2,"Forme juridique :"),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()),2&o){const t=e.oxw(2);e.xp6(4),e.Oqu(null==t.contr||null==t.contr.formeJuridique?null:t.contr.formeJuridique.libelle)}}function Ot(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Pt,5,1,"div",6),e.YNc(2,Jt,5,1,"div",6),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","M"==(null==t.contr?null:t.contr.typePersonne)),e.xp6(1),e.Q6J("ngIf","M"==(null==t.contr?null:t.contr.typePersonne))}}function St(o,a){1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e._uU(2,"Responsable "),e.qZA(),e.qZA())}function kt(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e._uU(3,"Sexe :"),e.qZA(),e.TgZ(4,"div",7),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"div",3),e._uU(8,"Etat civil :"),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA(),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(5),e.Oqu(null==t.contr?null:t.contr.sexe),e.xp6(5),e.Oqu(null==t.contr?null:t.contr.etatcivil)}}function Qt(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.lnq(" C/ ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.commune?null:t.contr.adresse.commune.nom,", Ville de ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.commune||null==t.contr.adresse.commune.ville?null:t.contr.adresse.commune.ville.nom,", Province de : ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.commune||null==t.contr.adresse.commune.ville||null==t.contr.adresse.commune.ville.province?null:t.contr.adresse.commune.ville.province.libelle," ")}}function Yt(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.HOy(" C/ ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.commune?null:t.contr.adresse.commune.nom,", Secteur de ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.secteur?null:t.contr.adresse.secteur.nom,", Ter de ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.secteur||null==t.contr.adresse.secteur.territoire?null:t.contr.adresse.secteur.territoire.nom," , Province de : ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.province?null:t.contr.adresse.province.libelle," ")}}function Bt(o,a){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.HOy(" C/ ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.commune?null:t.contr.adresse.commune.nom,", Chef de ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.chefferie?null:t.contr.adresse.chefferie.nom,", Ter de ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.chefferie?null:t.contr.adresse.chefferie.territoire," , Province de : ",null==t.contr||null==t.contr.adresse||null==t.contr.adresse.commune||null==t.contr.adresse.commune.ville||null==t.contr.adresse.commune.ville.province?null:t.contr.adresse.commune.ville.province.libelle," ")}}function Dt(o,a){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.hij(" ",t.libelle,"\xa0")}}let Lt=(()=>{class o{constructor(t,n,i,r,c){this.contSer=t,this.route=n,this.router=i,this.userServ=r,this.agentMan=c}ngOnInit(){this.route.params.subscribe(t=>{this.route.queryParams.subscribe(n=>{this.contSer.getContribuable(t.id).subscribe(i=>{this.contr=i})})})}onShown(t){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.l),e.Y36(d.gz),e.Y36(d.F0),e.Y36(H.K),e.Y36(z.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-general-info"]],inputs:{contr:"contr"},decls:116,vars:26,consts:[["_ngcontent-dlf-c18","",1,"typcn","typcn-group-outline"],[1,"mg-y-10"],[1,"row","pt-2","pb-2"],[1,"col-md-4"],["class","col-md-8 font-weight-bold",4,"ngIf"],[4,"ngIf"],["class","row pt-2 pb-2",4,"ngIf"],[1,"col-md-8","font-weight-bold"],[1,"mg-y-20"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"h5"),e._UZ(1,"i",0),e._uU(2," Identit\xe9"),e.qZA(),e._UZ(3,"hr",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e._uU(6,"Type de Personne :"),e.qZA(),e.YNc(7,Mt,2,0,"div",4),e.YNc(8,Ft,2,0,"div",4),e.qZA(),e.YNc(9,Ot,3,2,"ng-container",5),e.YNc(10,St,3,0,"div",6),e.TgZ(11,"div",2),e.TgZ(12,"div",3),e._uU(13,"Nom :"),e.qZA(),e.TgZ(14,"div",7),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"div",2),e.TgZ(17,"div",3),e._uU(18,"Pr\xe9nom :"),e.qZA(),e.TgZ(19,"div",7),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",2),e.TgZ(22,"div",3),e._uU(23,"Postnom :"),e.qZA(),e.TgZ(24,"div",7),e._uU(25),e.qZA(),e.qZA(),e.YNc(26,kt,11,2,"ng-container",5),e._UZ(27,"hr",8),e.TgZ(28,"h5"),e._UZ(29,"i",0),e._uU(30," Contact"),e.qZA(),e.TgZ(31,"div",2),e.TgZ(32,"div",3),e._uU(33,"Tel :"),e.qZA(),e.TgZ(34,"div",7),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"div",2),e.TgZ(37,"div",3),e._uU(38,"Adresse :"),e.qZA(),e.TgZ(39,"div",7),e.TgZ(40,"address"),e._uU(41),e.YNc(42,Qt,2,3,"ng-container",5),e.YNc(43,Yt,2,4,"ng-container",5),e.YNc(44,Bt,2,4,"ng-container",5),e.qZA(),e.qZA(),e.qZA(),e._UZ(45,"hr",8),e.TgZ(46,"h5"),e._UZ(47,"i",0),e._uU(48," Compte"),e.qZA(),e.TgZ(49,"div",2),e.TgZ(50,"div",3),e._uU(51,"Type :"),e.qZA(),e.TgZ(52,"div",7),e._uU(53),e.qZA(),e.qZA(),e.TgZ(54,"div",2),e.TgZ(55,"div",3),e._uU(56,"Plateforme :"),e.qZA(),e.TgZ(57,"div",7),e._uU(58),e.qZA(),e.qZA(),e.TgZ(59,"div",2),e.TgZ(60,"div",3),e._uU(61,"Role :"),e.qZA(),e.TgZ(62,"div",7),e.YNc(63,Dt,2,1,"span",9),e.qZA(),e.qZA(),e.TgZ(64,"div",2),e.TgZ(65,"div",3),e._uU(66,"username :"),e.qZA(),e._UZ(67,"div",7),e.qZA(),e.TgZ(68,"div",2),e.TgZ(69,"div",3),e._uU(70,"Email :"),e.qZA(),e.TgZ(71,"div",7),e._uU(72),e.qZA(),e.qZA(),e._UZ(73,"hr",8),e.TgZ(74,"h5"),e._UZ(75,"i",0),e._uU(76," Documents"),e.qZA(),e.TgZ(77,"div",2),e.TgZ(78,"div",3),e._uU(79,"Type Document :"),e.qZA(),e.TgZ(80,"div",7),e._uU(81),e.qZA(),e.qZA(),e.TgZ(82,"div",2),e.TgZ(83,"div",3),e._uU(84,"Num. Doc. Identit\xe9 :"),e.qZA(),e.TgZ(85,"div",7),e._uU(86),e.qZA(),e.qZA(),e.TgZ(87,"div",2),e.TgZ(88,"div",3),e._uU(89,"Rccm/patente :"),e.qZA(),e.TgZ(90,"div",7),e._uU(91),e.qZA(),e.qZA(),e.TgZ(92,"div",2),e.TgZ(93,"div",3),e._uU(94,"Id. Nationale :"),e.qZA(),e.TgZ(95,"div",7),e._uU(96),e.qZA(),e.qZA(),e.TgZ(97,"div",2),e.TgZ(98,"div",3),e._uU(99,"Num. impot :"),e.qZA(),e.TgZ(100,"div",7),e._uU(101),e.qZA(),e.qZA(),e._UZ(102,"hr",8),e.TgZ(103,"h5"),e._UZ(104,"i",0),e._uU(105," Autres"),e.qZA(),e.TgZ(106,"div",2),e.TgZ(107,"div",3),e._uU(108,"Website :"),e.qZA(),e.TgZ(109,"div",7),e._uU(110),e.qZA(),e.qZA(),e.TgZ(111,"div",2),e.TgZ(112,"div",3),e._uU(113,"Fax :"),e.qZA(),e.TgZ(114,"div",7),e._uU(115),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf","P"==(null==n.contr?null:n.contr.typePersonne)),e.xp6(1),e.Q6J("ngIf","M"==(null==n.contr?null:n.contr.typePersonne)),e.xp6(1),e.Q6J("ngIf","M"==(null==n.contr?null:n.contr.typePersonne)),e.xp6(1),e.Q6J("ngIf","M"==(null==n.contr?null:n.contr.typePersonne)),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.nom),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.prenom),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.postnom),e.xp6(1),e.Q6J("ngIf","P"==(null==n.contr?null:n.contr.typePersonne)),e.xp6(9),e.Oqu(null==n.contr?null:n.contr.phone),e.xp6(6),e.lnq(" ",null==n.contr||null==n.contr.adresse?null:n.contr.adresse.num,", Av. ",null==n.contr||null==n.contr.adresse?null:n.contr.adresse.avenue," Q/ ",null==n.contr||null==n.contr.adresse?null:n.contr.adresse.num," "),e.xp6(1),e.Q6J("ngIf",null==n.contr||null==n.contr.adresse?null:n.contr.adresse.commune),e.xp6(1),e.Q6J("ngIf",null==n.contr||null==n.contr.adresse?null:n.contr.adresse.secteur),e.xp6(1),e.Q6J("ngIf",null==n.contr||null==n.contr.adresse?null:n.contr.adresse.chefferie),e.xp6(9),e.Oqu(null==n.contr||null==n.contr.user?null:n.contr.user.type),e.xp6(5),e.Oqu(null==n.contr||null==n.contr.user?null:n.contr.user.accessPlatform),e.xp6(5),e.Q6J("ngForOf",null==n.contr||null==n.contr.user?null:n.contr.user.roles),e.xp6(9),e.Oqu(null==n.contr?null:n.contr.email),e.xp6(9),e.Oqu(null==n.contr?null:n.contr.typeIdentity),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.numidentity),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.rccm),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.idNational),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.numImpot),e.xp6(9),e.Oqu(null==n.contr?null:n.contr.websibe),e.xp6(5),e.Oqu(null==n.contr?null:n.contr.fax))},directives:[x.O5,x.sg],styles:[""]}),o})();var $t=u(2544),J=u(2453),me=u(2613);const Rt=["stepper"];function Vt(o,a){if(1&o&&(e.TgZ(0,"div",40),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",41),e._uU(5),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(null==t.error?null:t.error.error),e.xp6(3),e.hij(" ",null==t.error?null:t.error.description," ")}}function Ht(o,a){1&o&&e._uU(0,"Renseignement du bien")}function jt(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function zt(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function Xt(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle,"")}}function Gt(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t,"")}}function Wt(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t,"")}}function Kt(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42),e.TgZ(2,"mat-form-field",15),e.TgZ(3,"mat-label"),e._uU(4,"Cat\xe9gorie V\xe9hicule"),e.qZA(),e.TgZ(5,"mat-select",43),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.categoryVehicule=i}),e.YNc(6,jt,2,2,"mat-option",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",42),e.TgZ(8,"mat-form-field",15),e.TgZ(9,"mat-label"),e._uU(10,"Marque "),e.qZA(),e.TgZ(11,"mat-select",44),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.marque=i}),e.YNc(12,zt,2,2,"mat-option",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",42),e.TgZ(14,"mat-form-field",15),e.TgZ(15,"mat-label"),e._uU(16,"Type plaque"),e.qZA(),e.TgZ(17,"mat-select",45),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.typePlaque=i}),e.YNc(18,Xt,2,2,"mat-option",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",42),e.TgZ(20,"mat-form-field",15),e.TgZ(21,"mat-label"),e._uU(22,"N\xb0 chasis"),e.qZA(),e.TgZ(23,"input",46),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.numChasis=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",42),e.TgZ(25,"mat-form-field",15),e.TgZ(26,"mat-label"),e._uU(27,"Plaque (Actuel) "),e.qZA(),e.TgZ(28,"input",47),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.plaque=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",42),e.TgZ(30,"mat-form-field",15),e.TgZ(31,"mat-label"),e._uU(32,"Nbr cheveaux"),e.qZA(),e.TgZ(33,"input",48),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.nbreChevaux=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",42),e.TgZ(35,"mat-form-field",15),e.TgZ(36,"mat-label"),e._uU(37,"Couleur"),e.qZA(),e.TgZ(38,"mat-select",49),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.color=i}),e.YNc(39,Gt,2,2,"mat-option",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",42),e.TgZ(41,"mat-form-field",15),e.TgZ(42,"mat-label"),e._uU(43,"Source d'energie"),e.qZA(),e.TgZ(44,"mat-select",50),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.sourceEnergie=i}),e.YNc(45,Wt,2,2,"mat-option",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",42),e.TgZ(47,"mat-form-field",15),e.TgZ(48,"mat-label"),e._uU(49,"Moteur"),e.qZA(),e.TgZ(50,"input",51),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.numMoteur=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",42),e.TgZ(52,"mat-form-field",15),e.TgZ(53,"mat-label"),e._uU(54,"Poids"),e.qZA(),e.TgZ(55,"input",52),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.poids=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",42),e.TgZ(57,"mat-form-field",15),e.TgZ(58,"mat-label"),e._uU(59,"Ann\xe9e circulation"),e.qZA(),e.TgZ(60,"input",53),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.anneeCirculation=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",42),e.TgZ(62,"mat-form-field",15),e.TgZ(63,"mat-label"),e._uU(64,"Ann\xe9e cr\xe9ation"),e.qZA(),e.TgZ(65,"input",54),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.anneeCreation=i}),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.dataf.categoryVehicule),e.xp6(1),e.Q6J("ngForOf",t.catVeh),e.xp6(5),e.Q6J("ngModel",t.dataf.marque),e.xp6(1),e.Q6J("ngForOf",t.marques),e.xp6(5),e.Q6J("ngModel",t.dataf.typePlaque),e.xp6(1),e.Q6J("ngForOf",t.plaques),e.xp6(5),e.Q6J("ngModel",t.dataf.numChasis),e.xp6(5),e.Q6J("ngModel",t.dataf.plaque),e.xp6(5),e.Q6J("ngModel",t.dataf.nbreChevaux),e.xp6(5),e.Q6J("ngModel",t.dataf.color),e.xp6(1),e.Q6J("ngForOf",t.couleurs),e.xp6(5),e.Q6J("ngModel",t.dataf.sourceEnergie),e.xp6(1),e.Q6J("ngForOf",t.sources),e.xp6(5),e.Q6J("ngModel",t.dataf.numMoteur),e.xp6(5),e.Q6J("ngModel",t.dataf.poids),e.xp6(5),e.Q6J("maxLength",4)("minLength",4)("ngModel",t.dataf.anneeCirculation),e.xp6(5),e.Q6J("maxLength",4)("minLength",4)("ngModel",t.dataf.anneeCreation)}}function en(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function tn(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7),e.TgZ(2,"div",14),e.TgZ(3,"mat-form-field",15),e.TgZ(4,"mat-label"),e._uU(5,"Nature "),e.qZA(),e.TgZ(6,"mat-select",56),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.categorieImmo=i}),e.YNc(7,en,2,2,"mat-option",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",14),e.TgZ(9,"mat-form-field",15),e.TgZ(10,"mat-label"),e._uU(11,"Largeur(cm)"),e.qZA(),e.TgZ(12,"input",57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.width=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",14),e.TgZ(14,"mat-form-field",15),e.TgZ(15,"mat-label"),e._uU(16,"Longeur(cm)"),e.qZA(),e.TgZ(17,"input",58),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.height=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e.TgZ(19,"mat-form-field",15),e.TgZ(20,"mat-label"),e._uU(21,"Nbr Etage"),e.qZA(),e.TgZ(22,"input",59),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.nbreEtage=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",14),e.TgZ(24,"mat-form-field",15),e.TgZ(25,"mat-label"),e._uU(26,"Nbr portes"),e.qZA(),e.TgZ(27,"input",60),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().dataf.portes=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.dataf.categorieImmo),e.xp6(1),e.Q6J("ngForOf",t.catImmo),e.xp6(5),e.Q6J("minLength",1)("ngModel",t.dataf.width),e.xp6(5),e.Q6J("minLength",4)("maxLength",4)("ngModel",t.dataf.height),e.xp6(5),e.Q6J("ngModel",t.dataf.nbreEtage),e.xp6(5),e.Q6J("ngModel",t.dataf.portes)}}function nn(o,a){1&o&&e._uU(0,"Photos")}function on(o,a){1&o&&e._uU(0,"Adresse & autres")}function rn(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",26),e.TgZ(1,"span",27),e._uU(2," Chefferie "),e.qZA(),e.TgZ(3,"mat-slide-toggle",28),e.NdJ("change",function(i){return e.CHM(t),e.oxw().onChangeSecteur(i)}),e.qZA(),e.TgZ(4,"span",27),e._uU(5,"Secteur"),e.qZA(),e.qZA()}2&o&&(e.xp6(3),e.Q6J("checked",!0))}function an(o,a){1&o&&e._UZ(0,"mat-error")}function ln(o,a){1&o&&e._UZ(0,"mat-error")}function sn(o,a){1&o&&e._UZ(0,"mat-error")}function un(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function cn(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function dn(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"mat-form-field",15),e.TgZ(2,"mat-label"),e._uU(3,"Ville"),e.qZA(),e.TgZ(4,"mat-select",61),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onVilleChnge(i)}),e.YNc(5,cn,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",31),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.towns)}}function gn(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function mn(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"mat-form-field",15),e.TgZ(2,"mat-label"),e._uU(3,"Territoire"),e.qZA(),e.TgZ(4,"mat-select",62),e.NdJ("selectionChange",function(i){return e.CHM(t),e.oxw().onTerritoireChange(i)}),e.YNc(5,gn,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",31),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.territoires)}}function pn(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function hn(o,a){if(1&o&&(e.TgZ(0,"div",14),e.TgZ(1,"mat-form-field",15),e.TgZ(2,"mat-label"),e._uU(3,"Commune"),e.qZA(),e.TgZ(4,"mat-select",63),e.YNc(5,pn,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",31),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.communes)}}function _n(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function Zn(o,a){if(1&o&&(e.TgZ(0,"div",14),e.TgZ(1,"mat-form-field",15),e.TgZ(2,"mat-label"),e._uU(3,"Secteur"),e.qZA(),e.TgZ(4,"mat-select",64),e.YNc(5,_n,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",31),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.secteurs)}}function fn(o,a){if(1&o&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nom,"")}}function bn(o,a){if(1&o&&(e.TgZ(0,"div",14),e.TgZ(1,"mat-form-field",15),e.TgZ(2,"mat-label"),e._uU(3,"Chefferie"),e.qZA(),e.TgZ(4,"mat-select",65),e.YNc(5,fn,2,2,"mat-option",35),e.qZA(),e.TgZ(6,"mat-icon",31),e._uU(7,"bookmark"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.chefferies)}}function Tn(o,a){1&o&&e._uU(0,"Finalisation")}function An(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",66),e.TgZ(2,"mat-icon",67),e._uU(3,"check_circle_outline"),e.qZA(),e.TgZ(4,"div",66),e.TgZ(5,"h1"),e._uU(6,"Success"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Operation reussie avec success"),e.qZA(),e.TgZ(9,"p"),e._uU(10,"La propri\xe9t\xe9 a \xe9t\xe9 enregistr\xe9e avec succes. "),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"div",68),e.NdJ("click",function(){return e.CHM(t),e.oxw().onView()}),e.TgZ(13,"a",69),e._uU(14,"Voir d\xe9tail"),e.qZA(),e.qZA(),e.TgZ(15,"div",68),e.NdJ("click",function(){return e.CHM(t),e.oxw().init()}),e.TgZ(16,"a",70),e._uU(17,"Nouveau contribuable"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function vn(o,a){if(1&o&&(e.TgZ(0,"div",6),e.TgZ(1,"div",66),e.TgZ(2,"mat-icon",71),e._uU(3,"block"),e.qZA(),e.TgZ(4,"div",66),e.TgZ(5,"h1"),e._uU(6,"Erreur"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Operation \xe9chou\xe9e "),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(10),e.hij(" ",null==t.error?null:t.error.description," ")}}function Cn(o,a){1&o&&(e.TgZ(0,"div",6),e.TgZ(1,"div",66),e._UZ(2,"img",72),e.TgZ(3,"div",66),e.TgZ(4,"h1"),e._uU(5,"Patientez"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Operation en cours "),e.qZA(),e.qZA(),e.qZA(),e.qZA())}function qn(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().prev()}),e._UZ(1,"i",74),e._uU(2," Prev "),e.qZA()}}function xn(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e._UZ(1,"i",75),e._uU(2),e.qZA()}if(2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.btnNextLabel," ")}}let Un=(()=>{class o{constructor(t,n,i,r,c,p,A){this.contSrv=t,this.confGen=n,this.data=i,this.regionalService=r,this.userServ=c,this.assietteConf=p,this.agentMan=A,this.currentPage=0,this.separatorKeysCodes=[L.K5,L.OC],this.hasError=!1,this.witchAdress=!0,this.dataf=new J.DV,this.categories=[J.Qf.VEHICULE,J.Qf.IMMOBILIER,J.Qf.AUTRES],this.catImmo=[],this.catVeh=[],this.marques=[],this.subs=[],this.isEnded=0,this.isShown=!1,this.btnNextLabel="Suivant",this.couldSave=!0,this.couldBack=!1,this.townOrTerritory=!0,this.secteurOrChefferie=!0,this.provinces=[],this.countries=[],this.towns=[],this.communes=[],this.secteurs=[],this.territoires=[],this.chefferies=[],this.errors=[],this.plaques=[],this.couleurs=["NOIR","ROUGE","BLUE","VERT","JAUNE","BLANC","MARRON","VIOLET"],this.sources=["GAZ","ESSENCE","AUTRE"]}ngOnDestroy(){this.subs=[]}ngOnInit(){console.log(this.data),this.dataf=new J.DV,this.dataf.category=J.Qf.VEHICULE,this.form=new l.cw({denomination:new l.NI("",[l.kI.required]),description:new l.NI("",[]),usage:new l.NI}),this.formVeh=new l.cw({catVeh:new l.NI("",[l.kI.required]),typePlaque:new l.NI("",[l.kI.required]),numChasis:new l.NI,plaque:new l.NI,marque:new l.NI("",[l.kI.required]),cheveau:new l.NI,couleur:new l.NI,energie:new l.NI,moteur:new l.NI,poids:new l.NI,anneeCirculation:new l.NI,anneeCreation:new l.NI}),this.formImmo=new l.cw({nature:new l.NI("",[l.kI.required]),height:new l.NI("",[l.kI.required]),width:new l.NI("",[l.kI.required]),nbreEtage:new l.NI,portes:new l.NI}),this.adressForm=new l.cw({province:new l.NI("",[l.kI.required]),town:new l.NI,territoire:new l.NI,num:new l.NI,avenue:new l.NI,quartier:new l.NI,commune:new l.NI,secteur:new l.NI,fax:new l.NI,url:new l.NI,website:new l.NI,chefferie:new l.NI}),this.subs.push(this.confGen.categoryImmoSubject.subscribe(t=>{this.catImmo=t})),this.subs.push(this.confGen.categoryVehiculeSubject.subscribe(t=>{this.catVeh=t})),this.subs.push(this.confGen.marqueSub.subscribe(t=>{this.marques=t})),this.subs.push(this.confGen.typePlaqueSub.subscribe(t=>{this.plaques=t})),this.confGen.getTypePlaques(),this.confGen.getImmo(),this.confGen.getVehicule(),this.confGen.getMarques()}valid(){}onCatChanged(t){console.log(t),this.dataf.category=t.value}onChangeTown(t){this.townOrTerritory=t.checked}onChangeAdress(t){this.witchAdress=t.checked,this.dataf.withContribuable=this.witchAdress}onChangeSecteur(t){this.secteurOrChefferie=t.checked}onProvinceChange(t){this.townOrTerritory?this.regionalService.getProvinceTowns(t.value).subscribe(n=>{this.towns=n}):this.regionalService.getProvinceTerriroires(t.value).subscribe(n=>{this.territoires=n})}onVilleChnge(t){this.regionalService.getCommunesByVille(t.value).subscribe(n=>{this.communes=n})}onTerritoireChange(t){this.secteurOrChefferie?this.regionalService.getSecteurByTerritoire(t.value).subscribe(n=>{this.secteurs=n}):this.regionalService.getChefferieByTerritoire(t.value).subscribe(n=>{this.chefferies=n})}onView(){}init(){}next(){var t;if(console.log(this.dataf),-1===this.isEnded)return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Enregistrement en cours","Veuillez patienter, votre op\xe9ration est en cours"));this.hasError=!1;let n=null===(t=this.stepper)||void 0===t?void 0:t.selectedIndex;switch(this.btnNextLabel=1==n?"Enregistrer":"Suivant",n){case 0:switch(this.currentPage=0,this.dataf.category){case"VEHICULE":if(!this.formVeh.valid)return this.hasError=!0,void(this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs"));this.currentPage=1,this.couldBack=!0,this.isShown=!0;break;case"IMMOBILIER":if(!this.formImmo.valid)return this.hasError=!0,void(this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs"));this.currentPage=1,this.couldBack=!0,this.isShown=!0;break;case"OTHER":if(!this.formImmo.valid)return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs"));this.currentPage=1,this.couldBack=!0,this.isShown=!0}break;case 1:this.currentPage=2;break;case 2:{let i=new ue.w;this.witchAdress?(this.isEnded=-1,this.currentPage=3,this.couldSave=!1,this.btnNextLabel="Enregistrer",this.contSrv.addBienToContribuable(this.data.id,[this.dataf]).subscribe(r=>{this.isEnded=1,this.couldBack=!0,this.dataf=new J.DV},r=>{this.isEnded=0,this.couldBack=!0,this.hasError=!0,this.error=new f.D("Erreur d'enregistrement","Une erreur est survenue")})):this.adressForm.valid?(this.isEnded=-1,i.avenue=this.adressForm.value.avenue,i.num=this.adressForm.value.num,i.quartier=this.adressForm.value.quartier,this.townOrTerritory?(i.typeEmplacement=M.a.COMUNE,i.province=this.adressForm.value.province,i.idcom=this.adressForm.value.commune):this.secteurOrChefferie?(i.typeEmplacement=M.a.SECTEUR,i.province=this.adressForm.value.province,i.idcom=this.adressForm.value.secteur):(i.typeEmplacement=M.a.CHEFFERIE,i.province=this.adressForm.value.province,i.idcom=this.adressForm.value.chefferie),this.dataf.adress=i,this.isEnded=-1,this.currentPage=3,this.couldSave=!1,this.btnNextLabel="Enregistrer",this.contSrv.addBienToContribuable(this.data.id,[this.dataf]).subscribe(r=>{this.isEnded=1,this.couldBack=!0,this.dataf=new J.DV},r=>{this.isEnded=0,this.couldBack=!0,this.hasError=!0,this.error=new f.D("Erreur d'enregistrement","Une erreur est survenue")})):(this.hasError=!0,this.error=new f.D("Erreur de saisie","Veuillez corriger certains champs"))}}this.stepper.selectedIndex=this.currentPage}prev(){var t,n,i,r;if(3==(null===(t=this.stepper)||void 0===t?void 0:t.selectedIndex)&&-1==this.isEnded)return this.hasError=!0,this.isShown=!1,void(this.error=new f.D("Enregistrement en cours","Veuillez patienter votre op\xe9ration est en cours"));if(this.hasError=!1,3==(null===(n=this.stepper)||void 0===n?void 0:n.selectedIndex)&&1==this.isEnded)return this.hasError=!0,this.isShown=!1,this.error=new f.D("Enregistrement du nouvel acte","Veuillez enregistrer un nouvel acte si il y en a autres"),this.stepper.selectedIndex=0,this.currentPage=0,this.couldSave=!0,this.couldBack=!1,void(this.btnNextLabel="Suivant");this.hasError=!1,3==(null===(i=this.stepper)||void 0===i?void 0:i.selectedIndex)&&0==this.isEnded&&(this.couldBack=!0,this.couldSave=!0);let c=null===(r=this.stepper)||void 0===r?void 0:r.selectedIndex;this.btnNextLabel=3==c?"Enregistrer":"Suivant",this.currentPage=c,this.currentPage--,this.stepper.selectedIndex=this.currentPage}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.l),e.Y36(ce.E),e.Y36(g.WI),e.Y36(K.N),e.Y36(H.K),e.Y36(j.f),e.Y36(z.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-bien-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(Rt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.stepper=i.first)}},inputs:{dataf:"dataf",townOrTerritory:"townOrTerritory",secteurOrChefferie:"secteurOrChefferie"},decls:123,vars:29,consts:[["matDialogTitle",""],["aria-hidden","false","aria-label","Example user verified icon","matDialogClose","",1,"close-btn"],["class","alert alert-danger ",4,"ngIf"],["stepper",""],["label","Step 1"],["matStepLabel",""],[1,"col-md-12"],[1,"row"],[1,"",3,"formGroup","ngSubmit"],[1,"p-3","mb-2"],["aria-label","Select an option",3,"value","change"],["value","VEHICULE","selected",""],["value","IMMOBILIER"],["value","OTHER"],[1,"col-md-4"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","denomination","placeholder","Ex : Ekoto",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","usage","placeholder","Ex : Transport",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","description","placeholder","Ex : Ekoto",3,"ngModel","ngModelChange"],[1,"row",3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"",3,"formGroup"],["label","Step 2"],["label","Step 3"],[3,"formGroup"],[1,"row","m-2"],[1,"col","m-2"],[1,"m-3"],["color","primary",3,"checked","change"],["class","col m-2",4,"ngIf"],["type","text","matInput","","formControlName","num","placeholder","Ex : Centre Luna "],["matSuffix",""],["type","text","matInput","","formControlName","avenue","placeholder","Ex : exemple "],["type","text","matInput","","formControlName","quartier","placeholder",""],["type","text","matInput","","formControlName","province","placeholder","Ex : Nord kivu",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],["label","Step 4"],["class","col-md-12 ",4,"ngIf"],["class","btn btn-indigo btn-with-icon ","type","submit",3,"click",4,"ngIf"],[1,"alert","alert-danger"],[1,"p-2"],[1,"col-md-2"],["type","text","matInput","","formControlName","catVeh","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","marque","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","typePlaque","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","numChasis","placeholder","Ex : Brandon",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","plaque","placeholder","N\xb0 plaque courant",3,"ngModel","ngModelChange"],["type","number","matInput","","formControlName","cheveau","placeholder","Ex : 4",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","couleur","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","energie","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","moteur","placeholder","",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","poids","placeholder","Ex : Ekoto",3,"ngModel","ngModelChange"],["type","number","matInput","","formControlName","anneeCirculation","placeholder","Ex : Ekoto",3,"maxLength","minLength","ngModel","ngModelChange"],["type","number","matInput","","formControlName","anneeCreation","placeholder","Ex : Ekoto",3,"maxLength","minLength","ngModel","ngModelChange"],[3,"value"],["type","text","matInput","","formControlName","nature","placeholder","",3,"ngModel","ngModelChange"],["type","number","matInput","","formControlName","height","placeholder","Ex : 23 cm",3,"minLength","ngModel","ngModelChange"],["type","number","matInput","","formControlName","width","placeholder","Ex : Ekoto",3,"minLength","maxLength","ngModel","ngModelChange"],["type","number","matInput","","formControlName","nbreEtage","placeholder","Ex : 4",3,"ngModel","ngModelChange"],["type","number","matInput","","formControlName","portes","placeholder","Ex : 4",3,"ngModel","ngModelChange"],["type","text","matInput","","formControlName","town","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","territoire","placeholder","",3,"selectionChange"],["type","text","matInput","","formControlName","commune","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","secteur","placeholder","Ex : FINANCE"],["type","text","matInput","","formControlName","chefferie","placeholder","Ex : FINANCE"],[1,"d-flex","align-items-center","justify-content-center","flex-column"],[1,"successIcon"],[1,"mg-t-10","mg-md-t-0",3,"click"],[1,"btn","btn-primary","btn-rounded","btn-block"],[1,"btn","btn-outline-primary","btn-rounded","btn-block"],[1,"successIcon",2,"color","crimson"],["src","assets/img/loading.gif",1,"successIcon",2,"color","rgb(248, 232, 9)"],["type","submit",1,"btn","btn-indigo","btn-with-icon",3,"click"],[1,"typcn","typcn-arrow-left"],[1,"typcn","typcn-arrow-right"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e.TgZ(1,"mat-toolbar-row"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",1),e._uU(5,"close "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"mat-dialog-content"),e.YNc(7,Vt,6,2,"div",2),e.TgZ(8,"div"),e.TgZ(9,"mat-stepper",null,3),e.TgZ(11,"mat-step",4),e.YNc(12,Ht,1,0,"ng-template",5),e.TgZ(13,"div",6),e.TgZ(14,"div",7),e.TgZ(15,"div",6),e.TgZ(16,"div",7),e.TgZ(17,"div",6),e.TgZ(18,"form",8),e.NdJ("ngSubmit",function(){return n.valid()}),e.TgZ(19,"div",7),e.TgZ(20,"div",6),e.TgZ(21,"fieldset",9),e.TgZ(22,"legend"),e._uU(23,"Cat\xe9gorie"),e.qZA(),e.TgZ(24,"mat-radio-group",10),e.NdJ("change",function(r){return n.onCatChanged(r)}),e.TgZ(25,"mat-radio-button",11),e._uU(26," V\xe9hicule"),e.qZA(),e._uU(27,"\xa0 "),e.TgZ(28,"mat-radio-button",12),e._uU(29,"Immobilier "),e.qZA(),e._uU(30,"\xa0 "),e.TgZ(31,"mat-radio-button",13),e._uU(32,"Autres"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",14),e.TgZ(34,"mat-form-field",15),e.TgZ(35,"mat-label"),e._uU(36,"D\xe9nomination"),e.qZA(),e.TgZ(37,"input",16),e.NdJ("ngModelChange",function(r){return n.dataf.denomination=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",14),e.TgZ(39,"mat-form-field",15),e.TgZ(40,"mat-label"),e._uU(41,"Usage"),e.qZA(),e.TgZ(42,"input",17),e.NdJ("ngModelChange",function(r){return n.dataf.usage=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",14),e.TgZ(44,"mat-form-field",15),e.TgZ(45,"mat-label"),e._uU(46,"Observation"),e.qZA(),e.TgZ(47,"textarea",18),e.NdJ("ngModelChange",function(r){return n.dataf.description=r}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"form",19),e.NdJ("ngSubmit",function(){return n.valid()}),e.YNc(49,Kt,66,21,"ng-container",20),e.qZA(),e.TgZ(50,"form",21),e.YNc(51,tn,28,9,"ng-container",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"mat-step",22),e.YNc(53,nn,1,0,"ng-template",5),e.qZA(),e.TgZ(54,"mat-step",23),e.YNc(55,on,1,0,"ng-template",5),e.TgZ(56,"form",24),e.TgZ(57,"fieldset"),e.TgZ(58,"legend"),e._uU(59,"Adresse"),e.qZA(),e.TgZ(60,"div",25),e.TgZ(61,"div",6),e.TgZ(62,"div",7),e.TgZ(63,"div",26),e.TgZ(64,"span",27),e._uU(65," Nouvelle adresse "),e.qZA(),e.TgZ(66,"mat-slide-toggle",28),e.NdJ("change",function(r){return n.onChangeAdress(r)}),e.qZA(),e.TgZ(67,"span",27),e._uU(68," du Contribuable"),e.qZA(),e.qZA(),e.TgZ(69,"div",26),e.TgZ(70,"span",27),e._uU(71," Territoire "),e.qZA(),e.TgZ(72,"mat-slide-toggle",28),e.NdJ("change",function(r){return n.onChangeTown(r)}),e.qZA(),e.TgZ(73,"span",27),e._uU(74,"Ville"),e.qZA(),e.qZA(),e.YNc(75,rn,6,1,"div",29),e.qZA(),e.qZA(),e.TgZ(76,"div",14),e.TgZ(77,"mat-form-field",15),e.TgZ(78,"mat-label"),e._uU(79,"Num\xe9ro"),e.qZA(),e._UZ(80,"input",30),e.TgZ(81,"mat-icon",31),e._uU(82,"mode_edit"),e.qZA(),e.YNc(83,an,1,0,"mat-error",20),e.qZA(),e.qZA(),e.TgZ(84,"div",14),e.TgZ(85,"mat-form-field",15),e.TgZ(86,"mat-label"),e._uU(87,"Avenue"),e.qZA(),e._UZ(88,"input",32),e.TgZ(89,"mat-icon",31),e._uU(90,"mode_edit"),e.qZA(),e.YNc(91,ln,1,0,"mat-error",20),e.qZA(),e.qZA(),e.TgZ(92,"div",14),e.TgZ(93,"mat-form-field",15),e.TgZ(94,"mat-label"),e._uU(95,"Quartier"),e.qZA(),e._UZ(96,"input",33),e.TgZ(97,"mat-icon",31),e._uU(98,"mode_edit"),e.qZA(),e.YNc(99,sn,1,0,"mat-error",20),e.qZA(),e.qZA(),e.TgZ(100,"div",14),e.TgZ(101,"mat-form-field",15),e.TgZ(102,"mat-label"),e._uU(103,"Provinces"),e.qZA(),e.TgZ(104,"mat-select",34),e.NdJ("selectionChange",function(r){return n.onProvinceChange(r)}),e.YNc(105,un,2,2,"mat-option",35),e.qZA(),e.TgZ(106,"mat-icon",31),e._uU(107,"bookmark"),e.qZA(),e.qZA(),e.qZA(),e.YNc(108,dn,8,1,"div",36),e.YNc(109,mn,8,1,"div",36),e.YNc(110,hn,8,1,"div",36),e.YNc(111,Zn,8,1,"div",36),e.YNc(112,bn,8,1,"div",36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(113,"mat-step",37),e.YNc(114,Tn,1,0,"ng-template",5),e.TgZ(115,"div",7),e.YNc(116,An,18,0,"div",38),e.YNc(117,vn,11,1,"div",38),e.YNc(118,Cn,8,0,"div",38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(119,"mat-dialog-actions"),e.YNc(120,qn,3,0,"button",39),e._uU(121,"\xa0\xa0 "),e.YNc(122,xn,3,1,"button",39),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",n.data.title," "),e.xp6(4),e.Q6J("ngIf",1==n.hasError),e.xp6(11),e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("value","VEHICULE"),e.xp6(13),e.Q6J("ngModel",n.dataf.denomination),e.xp6(5),e.Q6J("ngModel",n.dataf.usage),e.xp6(5),e.Q6J("ngModel",n.dataf.description),e.xp6(1),e.Q6J("formGroup",n.formVeh),e.xp6(1),e.Q6J("ngIf","VEHICULE"==n.dataf.category),e.xp6(1),e.Q6J("formGroup",n.formImmo),e.xp6(1),e.Q6J("ngIf","IMMOBILIER"==n.dataf.category),e.xp6(5),e.Q6J("formGroup",n.adressForm),e.xp6(10),e.Q6J("checked",!0),e.xp6(6),e.Q6J("checked",!0),e.xp6(3),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(8),e.Q6J("ngIf",n.form.hasError("num")&&!n.form.hasError("required")),e.xp6(8),e.Q6J("ngIf",n.form.hasError("avenue")&&!n.form.hasError("required")),e.xp6(8),e.Q6J("ngIf",n.form.hasError("quartier")&&!n.form.hasError("required")),e.xp6(6),e.Q6J("ngForOf",n.provinces),e.xp6(3),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",1==n.townOrTerritory),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&1==n.secteurOrChefferie),e.xp6(1),e.Q6J("ngIf",0==n.townOrTerritory&&0==n.secteurOrChefferie),e.xp6(4),e.Q6J("ngIf",1===n.isEnded),e.xp6(1),e.Q6J("ngIf",0===n.isEnded),e.xp6(1),e.Q6J("ngIf",-1===n.isEnded),e.xp6(2),e.Q6J("ngIf",1==n.isShown&&1==n.couldBack),e.xp6(2),e.Q6J("ngIf",n.couldSave))},directives:[g.uh,ee.rD,B.Hw,g.ZT,g.xY,x.O5,S.Vq,S.C0,S.VY,l._Y,l.JL,l.sg,me.VQ,me.U0,T.KE,T.hX,Y.Nt,l.Fj,l.JJ,l.u,te.Rr,T.R9,G.gD,x.sg,g.H8,l.wV,ne.ey,T.TO],styles:[""]}),o})();function Nn(o,a){1&o&&(e.ynx(0),e._UZ(1,"i",26),e.BQk())}function In(o,a){1&o&&(e.ynx(0),e._UZ(1,"i",27),e.BQk())}function En(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",19),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,Nn,2,0,"ng-container",20),e.YNc(5,In,2,0,"ng-container",20),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"div",21),e.TgZ(15,"button",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().delItem(r)}),e._UZ(16,"i",23),e.qZA(),e.TgZ(17,"button",24),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().openEditFormDialog(r)}),e._UZ(18,"i",25),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,n=a.index;e.xp6(2),e.hij(" ",n+1,""),e.xp6(2),e.Q6J("ngIf","VEHICULE"==(null==t.bien?null:t.bien.nature)),e.xp6(1),e.Q6J("ngIf","FONCIER"==(null==t.bien?null:t.bien.nature)),e.xp6(1),e.hij(" ",null==t.bien?null:t.bien.nature," "),e.xp6(2),e.Oqu(null==t.bien?null:t.bien.denomination),e.xp6(2),e.Oqu(null==t.bien?null:t.bien.code),e.xp6(2),e.Oqu(t.createdAt)}}let yn=(()=>{class o{constructor(t,n,i){this.dialog=t,this.route=n,this.contSer=i,this.properties=[]}ngOnInit(){this.contSer.getContribuableBiens(this.route.snapshot.params.id).subscribe(t=>{this.properties=t})}onChanged(t){this.pattern=t.target.value}openAddBienForm(){this.dialogConfig=new g.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"Propri\xe9t\xe9",title:"Nouvelle propri\xe9t\xe9",message:"",action:"NEW",id:this.route.snapshot.params.id},this.dialog.open(Un,this.dialogConfig).afterClosed().subscribe(t=>{})}openEditFormDialog(t){}delItem(t){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.uw),e.Y36(d.gz),e.Y36(F.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-properties-contribuable"]],decls:40,vars:1,consts:[[1,"az-content-label","config-title",2,"padding-top","0px"],[1,"row",2,"margin-top","-15px"],[1,"col-md-3"],["appearance","standard"],["type","text","matInput","","placeholder","Recherche...","autocomplete","off",3,"keyup"],["matSuffix",""],["appearance","standard",1,"example-full-width"],["type","text","placeholder","Filtrer par province","aria-label","Number","matInput",""],[1,"position-absolute","btn-group-config",2,"top","20px"],["role","group","aria-label","",1,"btn-group"],["type","button",1,"btn","btn-indigo","btn-sm","btn-icon",3,"click"],[1,"typcn","typcn-plus-outline"],["type","button",1,"btn","btn-primary","btn-sm","btn-icon"],[1,"typcn","typcn-printer"],[1,"typcn","typcn-document"],[1,"mg-y-10"],[1,"table-responsive"],[1,"table","table-striped","mg-b-0"],[4,"ngFor","ngForOf"],["scope","row"],[4,"ngIf"],[1,"btn-group"],["type","button",1,"btn-danger",3,"click"],[1,"typcn","typcn-delete"],["type","button",1,"btn-success",3,"click"],[1,"typcn","typcn-edit"],[1,"fa","fa-car","fa-4"],[1,"fa","fa-home","fa-4"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"mat-form-field",3),e.TgZ(5,"input",4),e.NdJ("keyup",function(r){return n.onChanged(r)}),e.qZA(),e.TgZ(6,"mat-icon",5),e._uU(7,"search"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div"),e.TgZ(9,"mat-form-field",6),e.TgZ(10,"mat-label"),e._uU(11,"Categorie"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"div",9),e.TgZ(15,"button",10),e.NdJ("click",function(){return n.openAddBienForm()}),e._UZ(16,"i",11),e.qZA(),e.TgZ(17,"button",12),e._UZ(18,"i",13),e.qZA(),e.TgZ(19,"button",12),e._UZ(20,"i",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(21,"hr",15),e.TgZ(22,"div",16),e.TgZ(23,"table",17),e.TgZ(24,"thead"),e.TgZ(25,"tr"),e.TgZ(26,"th"),e._uU(27,"#"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Cat\xe9gorie"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"denomination"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Code"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Date"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"\xa0"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"tbody"),e.YNc(39,En,19,7,"tr",18),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(39),e.Q6J("ngForOf",n.properties))},directives:[T.KE,Y.Nt,B.Hw,T.R9,T.hX,x.sg,x.O5],styles:[""]}),o})(),wn=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-taxations-contribuable"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"taxations-contribuable works!"),e.qZA())},styles:[""]}),o})(),Mn=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-payment-contribuable"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"payment-contribuable works!"),e.qZA())},styles:[""]}),o})();var W=u(6738),Fn=u(7001),Pn=u(9765),pe=u(6215);let Jn=(()=>{class o{constructor(t){this.contSer=t,this.totalContribuableSubjet=new Pn.xQ,this.totalCPS=new pe.X(0),this.totalCMS=new pe.X(0),this.totalContribuable=0}renderGraphicOf(t,n,i,r){let c=new q.Gs;this.contSer.getReportOfTypeIn("P",n,i,r).subscribe(A=>{let C=new q.tP,O=new q.tP;A.forEach(N=>{let _=new q.hz;_.x=N.date,_.y=N.vol,C.amount+=N.vol,C.tag="P",C.dataPoints.push(_);let y=new q.hz;y.x=N.date,y.y=N.vol,O.dataPoints.push(y)}),this.totalContribuableSubjet.next(C),C.type="splineArea",C.color="#5b47fb";let P=new q.PO;P.title="Valeur en USD",c.axisY=P,c.data.push(C);try{new CanvasJS.Chart(t,c).render()}catch(N){console.log(N)}this.contSer.getReportOfTypeIn("M",n,i,r).subscribe(N=>{let _=new q.tP,y=new q.tP;N.forEach(Q=>{let le=new q.hz;le.x=Q.date,le.y=Q.vol,_.amount+=Q.vol,_.tag="M",_.dataPoints.push(le);let se=new q.hz;se.x=Q.date,se.y=Q.vol,y.dataPoints.push(se)}),this.totalContribuableSubjet.next(_),_.type="splineArea",_.color="#3BACDB";let he=new q.PO;he.title="Volume",c.axisY=he,c.data.push(_),c.exportEnabled=!1;try{new CanvasJS.Chart(t,c).render()}catch(Q){console.log(Q)}})})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(F.l))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const On=[{path:"",component:s,data:{breadcrumb:"Contribuable"},children:[{path:"directories",component:ae,data:{breadcrumb:"Repertoire"}},{path:"home",component:(()=>{class o{constructor(t,n,i,r){this.router=t,this.dialog=n,this.contServ=i,this.contReport=r,this.dateStart="",this.dateEnd="",this.totalP=0,this.totalM=0}ngAfterContentInit(){this.contReport.totalContribuableSubjet.subscribe(t=>{console.log(t),t&&"P"==t.tag?this.totalP=t.amount:t&&"M"==t.tag&&(this.totalM=t.amount),setTimeout(()=>{$(".coChart1").peity("donut")},2e3)})}ngOnInit(){this.dateStart=W().startOf("month").format("YYYY-MM-DD"),this.dateStart=W("11-01-2021","MM-DD-YYYY").format("YYYY-M-D"),this.dateEnd=W().format("YYYY-MM-")+(W().daysInMonth()+"").padStart(1,"0"),this.contReport.renderGraphicOf("contribuable-by-type-Chart",this.dateStart,this.dateEnd,Fn.J.DAYS)}openAddContribuableForm(){this.dialogConfig=new g.vA,this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.panelClass="custom-modalbox",this.dialogConfig.position={top:"100px"},this.dialogConfig.width="80%",this.dialogConfig.data={form:"Contribuable",title:"Nouveau contribuable",message:"",action:"NEW"},this.dialog.open(oe,this.dialogConfig).afterClosed().subscribe(t=>{if(t&&t.status&&"success"==t.status){let n=new E.ZQ;n.id=t.data.id,this.view(n)}})}view(t){this.router.navigate(["/contribuables",t.id])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.F0),e.Y36(g.uw),e.Y36(F.l),e.Y36(Jn))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-overview"]],decls:75,vars:3,consts:[[1,"az-content-body"],[1,"row","row-sm","mg-b-20"],[1,"col-lg-7","ht-lg-100p"],[1,"card","card-dashboard-one"],[1,"card-header"],[1,"card-title"],[1,"card-text"],[1,"btn-group"],[1,"btn"],[1,"card-body"],[1,"card-body-top"],[1,"mg-b-0"],[1,"stat-legend-color",2,"background-color","#5b47fb"],[1,"stat-legend-color",2,"background-color","#3BACDB"],[1,"flot-chart-wrapper"],["id","contribuable-by-type-Chart",1,"flot-chart"],[1,"col-lg-5","mg-t-20","mg-lg-t-0"],[1,"row","row-sm"],[1,"col-md-12","mb-2"],[1,"card","card-dashboard-three"],["type","button",1,"btn","btn-indigo","btn-with-icon","ng-star-inserted",3,"click"],[1,"fa","fa-plus"],[1,"col-sm-6"],[1,"card","card-dashboard-two"],[1,"chart-wrapper"],[1,"d-flex","justify-content-center"],["id","coChart1","data-peity",'{ "fill": ["blue", "#eeeeee"],  "innerRadius": 15, "radius": 44 }',1,"coChart1"],[1,"col-sm-6","mg-t-20","mg-sm-t-0"],["id","flotChart2",1,"flot-chart"],[1,"col-sm-12","mg-t-20"],[1,"tx-success"],[1,"icon","ion-md-arrow-up"],[1,"chart"],["id","chartBar5"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div"),e.TgZ(6,"h6",5),e._uU(7,"Report des contribaubles "),e.qZA(),e.TgZ(8,"p",6),e._uU(9,"Apercu de l'\xe9volution des contribuables"),e.qZA(),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"button",8),e._uU(12,"Mois"),e.qZA(),e.TgZ(13,"button",8),e._uU(14,"Ann\xe9e"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e.TgZ(16,"div",10),e.TgZ(17,"div"),e.TgZ(18,"label",11),e._uU(19,"Personne physique "),e._UZ(20,"span",12),e.qZA(),e.TgZ(21,"h2"),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div"),e.TgZ(24,"label",11),e._uU(25,"Personne morale "),e._UZ(26,"span",13),e.qZA(),e.TgZ(27,"h2"),e._uU(28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",14),e._UZ(30,"div",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",16),e.TgZ(32,"div",17),e.TgZ(33,"div",18),e.TgZ(34,"div",19),e.TgZ(35,"button",20),e.NdJ("click",function(){return n.openAddContribuableForm()}),e._UZ(36,"i",21),e._uU(37," Nouveau contribuable "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",22),e.TgZ(39,"div",23),e.TgZ(40,"div",4),e.TgZ(41,"h6"),e._uU(42,"0 "),e.qZA(),e.TgZ(43,"p"),e._uU(44,"Spontan\xe9"),e.qZA(),e.qZA(),e.TgZ(45,"div",9),e.TgZ(46,"div",24),e.TgZ(47,"div",25),e.TgZ(48,"span",26),e._uU(49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",27),e.TgZ(51,"div",23),e.TgZ(52,"div",4),e.TgZ(53,"h6"),e._uU(54,"0 "),e.qZA(),e.TgZ(55,"p"),e._uU(56,"Ordinaire"),e.qZA(),e.qZA(),e.TgZ(57,"div",9),e.TgZ(58,"div",24),e._UZ(59,"div",28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",29),e.TgZ(61,"div",19),e.TgZ(62,"div",4),e.TgZ(63,"p"),e._uU(64,"Proportionalit\xe9"),e.qZA(),e.TgZ(65,"h6"),e._uU(66,"0 "),e.TgZ(67,"small",30),e._UZ(68,"i",31),e._uU(69," 2.87%"),e.qZA(),e.qZA(),e.TgZ(70,"small"),e._uU(71,"Total que vous avez tax\xe9s depuis votre utilisation dans le syst\xe8me"),e.qZA(),e.qZA(),e.TgZ(72,"div",9),e.TgZ(73,"div",32),e._UZ(74,"canvas",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(22),e.Oqu(n.totalP),e.xp6(6),e.Oqu(n.totalM),e.xp6(21),e.Oqu(n.totalM+"/"+(n.totalM+n.totalP)))},styles:[""]}),o})()},{path:"identification",redirectTo:"/404"},{path:":id",component:wt,children:[{path:"",component:Lt},{path:"properties",component:yn},{path:"taxations",component:wn},{path:"payments",component:Mn}]}]},{path:"**",redirectTo:"/404"}];let Sn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[ae],imports:[[m.N,$t.X_,d.Bz.forChild(On),Y.c,Tt.JX,re.Bb,S.T5,G.LD,G.LD,T.lN,ge.TU,te.rP,ie.A0,X.FA]]}),o})()},2596:(w,Z,u)=>{u.d(Z,{N:()=>U});var d=u(2340),e=u(7716),v=u(1841);let U=(()=>{class h{constructor(s){this.http=s,this.path=d.N.baseApiUrl+"config/regional/countries/"}getProvinces(){return this.http.get(`${this.path}provinces`)}getCountries(){return this.http.get(d.N.baseApiUrl+"config/regional/countries")}searchProvinces(s){return this.http.get(`${this.path}provinces?pattern=${s}`)}getProvince(s){return this.http.get(`${this.path}provinces/${s}`)}removeProvince(s){return this.http.delete(`${this.path}provinces/${s}`)}addProvince(s){return this.http.post(`${this.path}provinces`,s)}editProvince(s,m){return this.http.put(`${this.path}provinces/${s}`,m)}getProvinceTowns(s){return this.http.get(`${this.path}provinces/${s}/towns`)}getProvinceRessort(s){return this.http.get(`${this.path}provinces/${s}/ressorts`)}searchProvinceTowns(s,m){return this.http.get(`${this.path}provinces/${s}/towns/search`)}getProvinceTerriroires(s){return this.http.get(`${this.path}provinces/${s}/territoires`)}getCommunesByVille(s){return this.http.get(`${this.path}provinces/towns/${s}/communes`)}getSecteurByTerritoire(s){return this.http.get(`${this.path}provinces/territories/${s}/secteur`)}getChefferieByTerritoire(s){return this.http.get(`${this.path}provinces/territories/${s}/chefferie`)}}return h.\u0275fac=function(s){return new(s||h)(e.LFG(v.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},5430:(w,Z,u)=>{u.d(Z,{l:()=>U});var d=u(2340),e=u(7716),v=u(1841);let U=(()=>{class h{constructor(s){this.http=s,this.path=d.N.baseApiUrl+"contribuables"}addContribuable(s){return this.http.post(this.path,s)}addBienToContribuable(s,m){return this.http.post(`${this.path}/${s}/properties`,m)}editContribuable(s,m){return this.http.put(`${this.path}/${s}`,m)}deleteContribuable(s){return this.http.delete(`${this.path}/${s}`)}getContribuable(s){return this.http.get(`${this.path}/${s}`)}activateContribuable(s,m){return this.http.put(`${this.path}/${s}/validate`,m)}getContribuableBiens(s){return this.http.get(`${this.path}/${s}/properties`)}getContribuables(){return this.http.get(`${this.path}`)}getContribuablesOfProvince(s){return this.http.get(`${this.path}/provinces/${s}`)}getContribuablesOfProvincePaging(s,m,g){return this.http.get(`${this.path}/provinces/${s}/?page=${m}&size=${g}`)}searchContribuables(s){return this.http.get(`${this.path}/search?pattern=${s}`)}searchContribuablesPaging(s,m,g){return this.http.get(`${this.path}/search/?pattern=${s}&page=${m}&size=${g}`)}searchContribuablesOfProvincePaging(s,m,g,E){return this.http.get(`${this.path}/search/province/${m}/?pattern=${s}&page=${g}&size=${E}`)}searchContribuablesOfProvince(s,m){return this.http.get(`${this.path}/search/province/${m}?pattern=${s}`)}getContribuablesPaging(s,m){return this.http.get(`${this.path}/?page=${s}&size=${m}`)}getReportIn(s,m){return this.http.get(`${this.path}/stats/in/${s}/${m}/report`)}getReportOfTypeIn(s,m,g,E){return this.http.get(`${this.path}/stats/of/type/${s}/in/${m}/${g}/report?calendar=${E}`)}getReportInByStatutOfStatus(s,m,g){return this.http.get(`${this.path}/stats/in/${m}/${g}/report/by/status/${s}`)}getReportInByStatut(s,m){return this.http.get(`${this.path}/stats/in/${s}/${m}/report/by/status`)}getReportInByTypeOfStatus(s,m,g){return this.http.get(`${this.path}/stats/in/${m}/${g}/report/by/type/${s}`)}getReportInByType(s,m){return this.http.get(`${this.path}/stats/in/${s}/${m}/report/by/type`)}}return h.\u0275fac=function(s){return new(s||h)(e.LFG(v.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);